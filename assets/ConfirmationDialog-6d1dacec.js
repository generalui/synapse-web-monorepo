var dC=Object.defineProperty;var fC=(e,t,n)=>t in e?dC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Le=(e,t,n)=>(fC(e,typeof t!="symbol"?t+"":t,n),n);import{j as m,a as L,F as Q}from"./jsx-runtime-095bf462.js";import{r as pC,i as hC,a as mC}from"./jsx-runtime_commonjs-proxy-4022e807.js";import{r as k,R as B}from"./index-8db94870.js";import{g as St,c as Qr}from"./_commonjsHelpers-042e6b4d.js";import{u as $e,ar as sa,aP as Ua,S as We,aQ as eb,aR as tb,aS as vC,aT as rr,aU as gC,K as Tc,b as rb,a as yC,aV as bC,aW as yi,aX as op,aY as nb,aZ as wC,a_ as ab,a$ as SC,b0 as ue,b1 as bi,b2 as ib,f as xt,b3 as _C,b4 as EC,g as CC,E as sp,b5 as xC,b6 as NC,b7 as Uh,ai as ob,R as IC,b8 as TC,b9 as RC,ba as PC}from"./SynapseClient-3acc417d.js";import{W as la}from"./WideButton-cf30711c.js";import{i as AC,a as lp,b as up,c as Rc,d as xo,e as No,f as kC,g as qC,h as $C,j as DC}from"./IsType-17a1374f.js";import{S as Cs,l as cp}from"./LoadingScreen-8ddf62a3.js";import{u as FC,U as Xn,a as sb,g as OC}from"./UserCard-96f40f26.js";import{T as LC,M as VC,S as Io,m as ua,n as ca,o as dp,V as za,p as xs,q as MC,r as BC,s as UC,t as Ns,u as Is,v as Ts,w as Rs,x as Cl,y as zC,E as Pc,h as fp,z as HC,C as WC,j as lb,B as pp,H as jC,I as ub,O as Ac,J as zh,G as QC,F as GC,K as Hh}from"./SynapseConstants-1ebc8be6.js";import{p as YC,S as cb,D as KC}from"./RegularExpressions-bc0adf55.js";import{u as da}from"./react-intersection-observer.modern-64b519d2.js";import{u as db}from"./useInfiniteQuery-5e534d21.js";import{f as Ha}from"./DateFormatter-6a850d02.js";import{d as nr}from"./dayjs.min-8d4ef725.js";import{S as hp}from"./SkeletonTable-54d7f6f9.js";import{S as dn}from"./Skeleton-e84f6548.js";import{c as fb,b as XC,d as Mn,f as ZC,a as Zn,g as pb,h as hb,j as JC,i as mb}from"./EntityTypeUtils-3a2289b7.js";import{P as ar,g as e1,B as t1}from"./getEndpoint-ac94413e.js";import{T as yt,t as kc}from"./Tooltip-fcb4b0de.js";import{T as Pe}from"./Typography-fa1f2f14.js";import{E as Wh}from"./EntityIcon-49bf9c7d.js";import{I as qe,a as r1,L as n1,S as a1,t as i1,H as o1}from"./IconSvg-d5f86620.js";import{c as Ps}from"./_commonjs-dynamic-modules-302442b1.js";import{_ as s1,a as vb,b as l1,c as gb,k as As,d as u1,e as c1,f as d1,g as f1,h as yb,i as p1,j as h1,l as m1,m as bb,n as wb,o as Sb,u as _b,p as v1}from"./uniq-12747539.js";import{d as Nn,e as Eb,f as fa,a as ir,g as Xr,r as g1,h as y1,j as Cb,k as xb,l as mp,n as vp,o as b1,p as gp,q as Zr,s as w1,c as S1,t as yp,u as wi,v as _1,w as E1,x as C1,b as Nb,y as bp,z as wp,A as x1,B as Ib,C as Tb,D as N1,E as I1,F as T1,G as R1,H as ks,I as P1,J as A1,K as k1,L as Rb,M as Pb,_ as q1}from"./mapValues-b2620c05.js";import{b as $1,c as Sp}from"./isPlainObject-ef616bd3.js";import{t as D1,r as F1}from"./now-ace1e546.js";import"./index-8ce4a492.js";import{d as O1,i as Pa,u as L1,t as V1,a as M1}from"./unCamelCase-81443ec7.js";import{u as B1,R as U1}from"./RequestDownloadCard-a03436d9.js";import{d as Gr,C as z1}from"./ToastMessage-0510043e.js";import{_ as qs}from"./objectWithoutPropertiesLoose-4f48578a.js";import{_ as rt}from"./extends-98964cd2.js";import{g as _p,e as Ep,s as or,o as wr,f as Cp,i as To,j as xp,k as kn}from"./styled-8ebe2b7d.js";import{k as Ab,c as kb}from"./emotion-react.browser.esm-cc724fea.js";import{c as qb,P as $b}from"./factory-837f2467.js";import{p as Jr,a as Db,g as Np}from"./SqlFunctions-c9db38cf.js";import{u as Si}from"./useEntity-b5ea9169.js";import{T as Ro,N as H1,I as jh}from"./SynapseTableConstants-942d2b0b.js";import{c as pa}from"./createSvgIcon-075f7759.js";import{u as Po,a as W1,b as Fb}from"./use-deep-compare-effect.esm-08e85271.js";import{u as j1,a as Q1}from"./useDownloadList-6f327646.js";import{a as Ob,u as Lb,b as G1}from"./useGetQueryResultBundle-8c4261ab.js";import{A as Or}from"./Alert-a969d207.js";import{B as Tt}from"./Button-7a4e3dd9.js";import{B as nt}from"./Box-bbfe1a31.js";import{s as Y1}from"./NoSearchResults-460db635.js";import{s as K1}from"./NoData-59ea70fa.js";import{P as Ne}from"./index-58d3fd43.js";import{_ as X1}from"./pick-b632691e.js";import{g as Z1}from"./sortBy-b5eea065.js";import{i as Vb,r as Mb,h as Bb,a as Ub}from"./queryUtils-d36ff886.js";import{c as Vr}from"./cloneDeep-4af97fae.js";import{a as J1,b as Ip,c as zb,d as ex,e as tx,f as rx,g as nx,h as ax,u as Hb,i as Wb}from"./useAccessRequirements-f7245eda.js";import{u as Oa,S as ix}from"./UserSearchBoxV2-b73f3e42.js";import{S as ox}from"./StandaloneLoginForm-5bca2298.js";import{D as Wa,a as ja,b as Tp}from"./DialogTitle-2d245e94.js";import{S as _i}from"./Stack-c93972f5.js";import{I as $s}from"./IconButton-03ffcd84.js";import{R as sx}from"./ResearchProjectForm-cb87a2d3.js";import{D as lx}from"./DataAccessRequestAccessorsFilesForm-90518d14.js";import{A as ux}from"./AuthenticatedRequirement-7377b3fa.js";import{C as cx}from"./CertificationRequirement-409ac1b9.js";import{V as dx}from"./ValidationRequirement-84534f2d.js";import{T as fx}from"./TwoFactorAuthEnabledRequirement-3b3235d9.js";import{R as Rp,a as Jt}from"./RequirementItem-54c2f24a.js";import{L as zt}from"./Link-e1e47239.js";import{M as jb}from"./Dialog-36a7ec44.js";import{A as Qb}from"./ActionRequiredCard-38d2cf24.js";import{D as ot,E as wn,C as Pp,a as px,S as hx}from"./ElementWithTooltip-5a50e333.js";import{T as mx,a as xl}from"./Tabs-9e113da5.js";import{Q as vx}from"./QueryCount-a870d0d1.js";import{S as gx}from"./SvgIcon-147e032d.js";import{I as Ds}from"./Icon-735b4c02.js";import{u as yx}from"./uniqueId-4d05949d.js";import{R as bx}from"./RadioGroup-bf0fed90.js";import{R as wx}from"./RangeSlider-1107d3e3.js";import{r as Sx}from"./react-sizeme-0d7fb727.js";import{g as _x}from"./ColorGradient-fc5a110b.js";import{I as Ex}from"./InfoOutlined-3ee3099a.js";import{S as Cx}from"./SelectionCriteriaPill-ffa3987a.js";import{_ as xx,e as Qh,f as Nl,v as Nx,b as Gh,g as Ix,i as Tx,u as Rx,S as Px,d as Ax}from"./Select-457c486b.esm-e6ffc3cc.js";import{I as kx}from"./IconList-b16a1828.js";import{B as qx}from"./Button-5637ed55.js";import{U as $x}from"./UserCardList-643d097c.js";import{u as Gb}from"./useTheme-df5273c4.js";import{E as qc}from"./EntityLink-83eec471.js";import{u as Dx}from"./useControlled-be22aa93.js";import{B as Fx}from"./ButtonBase-92b85091.js";import{e as Mi}from"./_MapCache-c99e0be1.js";import{u as Ox,U as Lx}from"./UserOrTeamBadge-f400a5b2.js";import{S as Vx}from"./SynapseVideo-14537cac.js";function Mx(e){return _p("MuiCircularProgress",e)}Ep("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Bx=["className","color","disableShrink","size","style","thickness","value","variant"];let Fs=e=>e,Yh,Kh,Xh,Zh;const Tr=44,Ux=Ab(Yh||(Yh=Fs`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),zx=Ab(Kh||(Kh=Fs`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Hx=e=>{const{classes:t,variant:n,color:a,disableShrink:r}=e,i={root:["root",n,`color${wr(a)}`],svg:["svg"],circle:["circle",`circle${wr(n)}`,r&&"circleDisableShrink"]};return xp(i,Mx,t)},Wx=or("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${wr(n.color)}`]]}})(({ownerState:e,theme:t})=>rt({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&kb(Xh||(Xh=Fs`
      animation: ${0} 1.4s linear infinite;
    `),Ux)),jx=or("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Qx=or("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${wr(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>rt({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&kb(Zh||(Zh=Fs`
      animation: ${0} 1.4s ease-in-out infinite;
    `),zx)),Gx=k.forwardRef(function(t,n){const a=Cp({props:t,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=a,f=qs(a,Bx),p=rt({},a,{color:i,disableShrink:o,size:s,thickness:c,value:u,variant:d}),h=Hx(p),v={},g={},b={};if(d==="determinate"){const E=2*Math.PI*((Tr-c)/2);v.strokeDasharray=E.toFixed(3),b["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*E).toFixed(3)}px`,g.transform="rotate(-90deg)"}return m(Wx,rt({className:To(h.root,r),style:rt({width:s,height:s},g,l),ownerState:p,ref:n,role:"progressbar"},b,f,{children:m(jx,{className:h.svg,ownerState:p,viewBox:`${Tr/2} ${Tr/2} ${Tr} ${Tr}`,children:m(Qx,{className:h.circle,style:v,ownerState:p,cx:Tr,cy:Tr,r:(Tr-c)/2,fill:"none",strokeWidth:c})})}))}),Yx=Gx;function Kx(e){return _p("MuiPagination",e)}Ep("MuiPagination",["root","ul","outlined","text"]);const Xx=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function Zx(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:a=1,defaultPage:r=1,disabled:i=!1,hideNextButton:o=!1,hidePrevButton:s=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:f=1}=e,p=qs(e,Xx),[h,v]=Dx({controlled:c,default:r,name:n,state:"page"}),g=(T,R)=>{c||v(R),l&&l(T,R)},b=(T,R)=>{const $=R-T+1;return Array.from({length:$},(A,I)=>T+I)},E=b(1,Math.min(t,a)),y=b(Math.max(a-t+1,t+1),a),_=Math.max(Math.min(h-f,a-t-f*2-1),t+2),w=Math.min(Math.max(h+f,t+f*2+2),y.length>0?y[0]-2:a-1),S=[...u?["first"]:[],...s?[]:["previous"],...E,..._>t+2?["start-ellipsis"]:t+1<a-t?[t+1]:[],...b(_,w),...w<a-t-1?["end-ellipsis"]:a-t>t?[a-t]:[],...y,...o?[]:["next"],...d?["last"]:[]],C=T=>{switch(T){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return a;default:return null}},x=S.map(T=>typeof T=="number"?{onClick:R=>{g(R,T)},type:"page",page:T,selected:T===h,disabled:i,"aria-current":T===h?"true":void 0}:{onClick:R=>{g(R,C(T))},type:T,page:C(T),selected:!1,disabled:i||T.indexOf("ellipsis")===-1&&(T==="next"||T==="last"?h>=a:h<=1)});return rt({items:x},p)}function Jx(e){return _p("MuiPaginationItem",e)}const eN=Ep("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),$t=eN,Jh=pa(m("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),em=pa(m("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),tm=pa(m("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),rm=pa(m("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),tN=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],Yb=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${wr(n.size)}`],n.variant==="text"&&t[`text${wr(n.color)}`],n.variant==="outlined"&&t[`outlined${wr(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},rN=e=>{const{classes:t,color:n,disabled:a,selected:r,size:i,shape:o,type:s,variant:l}=e,c={root:["root",`size${wr(i)}`,l,o,n!=="standard"&&`${l}${wr(n)}`,a&&"disabled",r&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return xp(c,Jx,t)},nN=or("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Yb})(({theme:e,ownerState:t})=>rt({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${$t.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),aN=or(Fx,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Yb})(({theme:e,ownerState:t})=>rt({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${$t.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${$t.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$t.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:kn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${$t.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:kn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${$t.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>rt({},t.variant==="text"&&{[`&.${$t.selected}`]:rt({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${$t.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${$t.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${$t.selected}`]:rt({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:kn(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:kn(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:kn(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$t.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:kn(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${$t.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),iN=or("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>rt({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),oN=k.forwardRef(function(t,n){const a=Cp({props:t,name:"MuiPaginationItem"}),{className:r,color:i="standard",component:o,components:s={},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:f="medium",slots:p={},type:h="page",variant:v="text"}=a,g=qs(a,tN),b=rt({},a,{color:i,disabled:l,selected:u,shape:d,size:f,type:h,variant:v}),E=Gb(),y=rN(b),w=(E.direction==="rtl"?{previous:p.next||s.next||rm,next:p.previous||s.previous||tm,last:p.first||s.first||Jh,first:p.last||s.last||em}:{previous:p.previous||s.previous||tm,next:p.next||s.next||rm,first:p.first||s.first||Jh,last:p.last||s.last||em})[h];return h==="start-ellipsis"||h==="end-ellipsis"?m(nN,{ref:n,ownerState:b,className:To(y.root,r),children:"…"}):L(aN,rt({ref:n,ownerState:b,component:o,disabled:l,className:To(y.root,r)},g,{children:[h==="page"&&c,w?m(iN,{as:w,ownerState:b,className:y.icon}):null]}))}),sN=oN,lN=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],uN=e=>{const{classes:t,variant:n}=e;return xp({root:["root",n],ul:["ul"]},Kx,t)},cN=or("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),dN=or("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function fN(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const pN=k.forwardRef(function(t,n){const a=Cp({props:t,name:"MuiPagination"}),{boundaryCount:r=1,className:i,color:o="standard",count:s=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=fN,hideNextButton:d=!1,hidePrevButton:f=!1,renderItem:p=x=>m(sN,rt({},x)),shape:h="circular",showFirstButton:v=!1,showLastButton:g=!1,siblingCount:b=1,size:E="medium",variant:y="text"}=a,_=qs(a,lN),{items:w}=Zx(rt({},a,{componentName:"Pagination"})),S=rt({},a,{boundaryCount:r,color:o,count:s,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:f,renderItem:p,shape:h,showFirstButton:v,showLastButton:g,siblingCount:b,size:E,variant:y}),C=uN(S);return m(cN,rt({"aria-label":"pagination navigation",className:To(C.root,i),ownerState:S,ref:n},_,{children:m(dN,{className:C.ul,ownerState:S,children:w.map((x,T)=>m("li",{children:p(rt({},x,{color:o,"aria-label":u(x.type,x.page,x.selected),shape:h,size:E,variant:y}))},T))})}))}),hN=pN,mN=pa(m("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"WarningSharp"),vN=pa([m("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4.2 12.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z",opacity:".3"},"0"),m("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"},"1")],"WatchLaterTwoTone");var Ap={},gN=hC;Object.defineProperty(Ap,"__esModule",{value:!0});var Kb=Ap.default=void 0,yN=gN(pC()),bN=mC,wN=(0,yN.default)((0,bN.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Kb=Ap.default=wN;var $c={exports:{}},Xe={},Dc={exports:{}},In={};function Xb(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function SN(e,t,n){}function _N(e,t,n){}var EN=/javascript\s*\:/img;function CN(e,t){return EN.test(t)?"":t}In.whiteList=Xb();In.getDefaultWhiteList=Xb;In.onAttr=SN;In.onIgnoreAttr=_N;In.safeAttrValue=CN;var xN={indexOf:function(e,t){var n,a;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var a,r;if(Array.prototype.forEach)return e.forEach(t,n);for(a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},_a=xN;function NN(e,t){e=_a.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,a=!1,r=0,i=0,o="";function s(){if(!a){var u=_a.trim(e.slice(r,i)),d=u.indexOf(":");if(d!==-1){var f=_a.trim(u.slice(0,d)),p=_a.trim(u.slice(d+1));if(f){var h=t(r,o.length,f,p,u);h&&(o+=h+"; ")}}}r=i+1}for(;i<n;i++){var l=e[i];if(l==="/"&&e[i+1]==="*"){var c=e.indexOf("*/",i+2);if(c===-1)break;i=c+1,r=i+1,a=!1}else l==="("?a=!0:l===")"?a=!1:l===";"?a||s():l===`
`&&s()}return _a.trim(o)}var IN=NN,Bi=In,TN=IN;function nm(e){return e==null}function RN(e){var t={};for(var n in e)t[n]=e[n];return t}function Zb(e){e=RN(e||{}),e.whiteList=e.whiteList||Bi.whiteList,e.onAttr=e.onAttr||Bi.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Bi.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Bi.safeAttrValue,this.options=e}Zb.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,a=n.whiteList,r=n.onAttr,i=n.onIgnoreAttr,o=n.safeAttrValue,s=TN(e,function(l,c,u,d,f){var p=a[u],h=!1;if(p===!0?h=p:typeof p=="function"?h=p(d):p instanceof RegExp&&(h=p.test(d)),h!==!0&&(h=!1),d=o(u,d),!!d){var v={position:c,sourcePosition:l,source:f,isWhite:h};if(h){var g=r(u,d,v);return nm(g)?u+":"+d:g}else{var g=i(u,d,v);if(!nm(g))return g}}});return s};var PN=Zb;(function(e,t){var n=In,a=PN;function r(o,s){var l=new a(s);return l.process(o)}t=e.exports=r,t.FilterCSS=a;for(var i in n)t[i]=n[i];typeof window<"u"&&(window.filterCSS=e.exports)})(Dc,Dc.exports);var kp=Dc.exports,qp={indexOf:function(e,t){var n,a;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var a,r;if(Array.prototype.forEach)return e.forEach(t,n);for(a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},AN=kp.FilterCSS,kN=kp.getDefaultWhiteList,Ao=qp;function Jb(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var ew=new AN;function qN(e,t,n){}function $N(e,t,n){}function DN(e,t,n){}function FN(e,t,n){}function tw(e){return e.replace(LN,"&lt;").replace(VN,"&gt;")}function ON(e,t,n,a){if(n=sw(n),t==="href"||t==="src"){if(n=Ao.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(Ui.lastIndex=0,Ui.test(n))return""}else if(t==="style"){if(am.lastIndex=0,am.test(n)||(im.lastIndex=0,im.test(n)&&(Ui.lastIndex=0,Ui.test(n))))return"";a!==!1&&(a=a||ew,n=a.process(n))}return n=lw(n),n}var LN=/</g,VN=/>/g,MN=/"/g,BN=/&quot;/g,UN=/&#([a-zA-Z0-9]*);?/gim,zN=/&colon;?/gim,HN=/&newline;?/gim,Ui=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,am=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,im=/u\s*r\s*l\s*\(.*/gi;function rw(e){return e.replace(MN,"&quot;")}function nw(e){return e.replace(BN,'"')}function aw(e){return e.replace(UN,function(n,a){return a[0]==="x"||a[0]==="X"?String.fromCharCode(parseInt(a.substr(1),16)):String.fromCharCode(parseInt(a,10))})}function iw(e){return e.replace(zN,":").replace(HN," ")}function ow(e){for(var t="",n=0,a=e.length;n<a;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return Ao.trim(t)}function sw(e){return e=nw(e),e=aw(e),e=iw(e),e=ow(e),e}function lw(e){return e=rw(e),e=tw(e),e}function WN(){return""}function jN(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function a(o){return n?!0:Ao.indexOf(e,o)!==-1}var r=[],i=!1;return{onIgnoreTag:function(o,s,l){if(a(o))if(l.isClosing){var c="[/removed]",u=l.position+c.length;return r.push([i!==!1?i:l.position,u]),i=!1,c}else return i||(i=l.position),"[removed]";else return t(o,s,l)},remove:function(o){var s="",l=0;return Ao.forEach(r,function(c){s+=o.slice(l,c[0]),l=c[1]}),s+=o.slice(l),s}}}function QN(e){for(var t="",n=0;n<e.length;){var a=e.indexOf("<!--",n);if(a===-1){t+=e.slice(n);break}t+=e.slice(n,a);var r=e.indexOf("-->",a);if(r===-1)break;n=r+3}return t}function GN(e){var t=e.split("");return t=t.filter(function(n){var a=n.charCodeAt(0);return a===127?!1:a<=31?a===10||a===13:!0}),t.join("")}Xe.whiteList=Jb();Xe.getDefaultWhiteList=Jb;Xe.onTag=qN;Xe.onIgnoreTag=$N;Xe.onTagAttr=DN;Xe.onIgnoreTagAttr=FN;Xe.safeAttrValue=ON;Xe.escapeHtml=tw;Xe.escapeQuote=rw;Xe.unescapeQuote=nw;Xe.escapeHtmlEntities=aw;Xe.escapeDangerHtml5Entities=iw;Xe.clearNonPrintableCharacter=ow;Xe.friendlyAttrValue=sw;Xe.escapeAttrValue=lw;Xe.onIgnoreTagStripAll=WN;Xe.StripTagBody=jN;Xe.stripCommentTag=QN;Xe.stripBlankChar=GN;Xe.cssFilter=ew;Xe.getDefaultCSSWhiteList=kN;var Os={},qr=qp;function YN(e){var t=qr.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=qr.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function KN(e){return e.slice(0,2)==="</"}function XN(e,t,n){var a="",r=0,i=!1,o=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(i===!1){if(d==="<"){i=s;continue}}else if(o===!1){if(d==="<"){a+=n(e.slice(r,s)),i=s,r=s;continue}if(d===">"||s===l-1){a+=n(e.slice(r,i)),u=e.slice(i,s+1),c=YN(u),a+=t(i,a.length,c,u,KN(u)),r=s+1,i=!1;continue}if(d==='"'||d==="'")for(var f=1,p=e.charAt(s-f);p.trim()===""||p==="=";){if(p==="="){o=d;continue e}p=e.charAt(s-++f)}}else if(d===o){o=!1;continue}}return r<l&&(a+=n(e.substr(r))),a}var ZN=/[^a-zA-Z0-9\\_:.-]/gim;function JN(e,t){var n=0,a=0,r=[],i=!1,o=e.length;function s(f,p){if(f=qr.trim(f),f=f.replace(ZN,"").toLowerCase(),!(f.length<1)){var h=t(f,p||"");h&&r.push(h)}}for(var l=0;l<o;l++){var c=e.charAt(l),u,d;if(i===!1&&c==="="){i=e.slice(n,l),n=l+1,a=e.charAt(n)==='"'||e.charAt(n)==="'"?n:tI(e,l+1);continue}if(i!==!1&&l===a){if(d=e.indexOf(c,l+1),d===-1)break;u=qr.trim(e.slice(a+1,d)),s(i,u),i=!1,l=d,n=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(d=eI(e,l),d===-1){u=qr.trim(e.slice(n,l)),s(u),i=!1,n=l+1;continue}else{l=d-1;continue}else if(d=rI(e,l-1),d===-1){u=qr.trim(e.slice(n,l)),u=om(u),s(i,u),i=!1,n=l+1;continue}else continue}return n<e.length&&(i===!1?s(e.slice(n)):s(i,om(qr.trim(e.slice(n))))),qr.trim(r.join(" "))}function eI(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function tI(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function rI(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function nI(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function om(e){return nI(e)?e.substr(1,e.length-2):e}Os.parseTag=XN;Os.parseAttr=JN;var aI=kp.FilterCSS,Lt=Xe,uw=Os,iI=uw.parseTag,oI=uw.parseAttr,vo=qp;function zi(e){return e==null}function sI(e){var t=vo.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=vo.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=vo.trim(e.slice(0,-1))),{html:e,closing:n}}function lI(e){var t={};for(var n in e)t[n]=e[n];return t}function uI(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(a){return a.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function cw(e){e=lI(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Lt.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=uI(e.whiteList||e.allowList):e.whiteList=Lt.whiteList,e.onTag=e.onTag||Lt.onTag,e.onTagAttr=e.onTagAttr||Lt.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Lt.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Lt.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Lt.safeAttrValue,e.escapeHtml=e.escapeHtml||Lt.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new aI(e.css))}cw.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,a=n.whiteList,r=n.onTag,i=n.onIgnoreTag,o=n.onTagAttr,s=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,u=t.cssFilter;n.stripBlankChar&&(e=Lt.stripBlankChar(e)),n.allowCommentTag||(e=Lt.stripCommentTag(e));var d=!1;n.stripIgnoreTagBody&&(d=Lt.StripTagBody(n.stripIgnoreTagBody,i),i=d.onIgnoreTag);var f=iI(e,function(p,h,v,g,b){var E={sourcePosition:p,position:h,isClosing:b,isWhite:Object.prototype.hasOwnProperty.call(a,v)},y=r(v,g,E);if(!zi(y))return y;if(E.isWhite){if(E.isClosing)return"</"+v+">";var _=sI(g),w=a[v],S=oI(_.html,function(C,x){var T=vo.indexOf(w,C)!==-1,R=o(v,C,x,T);return zi(R)?T?(x=l(v,C,x,u),x?C+'="'+x+'"':C):(R=s(v,C,x,T),zi(R)?void 0:R):R});return g="<"+v,S&&(g+=" "+S),_.closing&&(g+=" /"),g+=">",g}else return y=i(v,g,E),zi(y)?c(g):y},c);return d&&(f=d.remove(f)),f};var cI=cw;(function(e,t){var n=Xe,a=Os,r=cI;function i(s,l){var c=new r(l);return c.process(s)}t=e.exports=i,t.filterXSS=i,t.FilterXSS=r,function(){for(var s in n)t[s]=n[s];for(var l in a)t[l]=a[l]}(),typeof window<"u"&&(window.filterXSS=e.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})($c,$c.exports);var dI=$c.exports;const dw=St(dI),fw={whiteList:{a:["target","href","title","ref"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],body:[],br:[],button:["class"],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["class"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],g:[],h1:["toc"],h2:["toc"],h3:["toc"],h4:["toc"],h5:["toc"],h6:["toc"],head:[],header:[],hr:[],html:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:["class"],mark:[],nav:[],noscript:[],ol:["class"],p:[],pre:[],s:[],section:[],small:[],span:["data-widgetparams","class","id"],sub:[],summary:[],sup:[],strong:[],svg:[],table:["width","border","align","valign","class"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign","class"],thead:["class","align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:["class"],video:["autoplay","controls","loop","preload","src","height","width"]},stripIgnoreTagBody:!0,allowCommentTag:!1,css:!1,onIgnoreTag:function(e,t,n){if(e==="!doctype")return t},safeAttrValue:function(e,t,n){return e==="img"&&t==="src"?n&&(n.startsWith("data:image/")||n.startsWith("http"))?n:"":n}};function Fc(e){let t="";const{align:n="",highlight:a=""}=e,r=a==="true",i=n.toLowerCase();i==="left"&&(t+="floatleft "),i==="right"&&(t+="floatright ");const o=i==="center",s=r?"secondary":"neutral",l=m(la,{href:e.url,className:t,variant:"contained",color:s,sx:{"&:hover":{backgroundColor:r?void 0:"secondary.main",color:"white"},...!o&&e.url&&{margin:"20px 20px 20px 0px"}},children:e.text});return o?m("div",{style:{textAlign:"center"},children:l}):m("span",{children:l})}try{Fc.displayName="MarkdownButton",Fc.__docgenInfo={description:"",displayName:"MarkdownButton",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"string"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!1,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}}}}}catch{}async function fI(e,t,n){const a=new Set;try{let r=await Ua(n,e,t);for(;AC(r);){if(a.has(r.id))throw new Error("Link forms a cycle.");a.add(r.id),r=await Ua(n,r.linksTo.targetId,r.linksTo.targetVersionNumber)}return r}catch(r){throw new Error(`${e} could not be resolved.
${r.message}`)}}function pI(e,t,n){const{accessToken:a}=$e();return sa(["resolveLinkEntity",e,t],()=>fI(e,t,a),n)}function pw(e,t,n=eb,a){const{accessToken:r,keyFactory:i}=$e();return sa(i.getEntityBundleQueryKey(e,t,n),()=>We.getEntityBundleV2(e,n,t,r),a)}function hI(e,t,n){const{accessToken:a,keyFactory:r}=$e();return sa(r.getIsUserMemberOfTeamQueryKey(e,t),()=>We.getIsUserMemberOfTeam(e,t,a),n)}function mI(e){const{rawHtml:t,isLoading:n,isTrusted:a}=e;return k.useMemo(()=>{if(!n)return a?t:dw(t,fw)},[n,a,t])}function Oc(e){const{createdByUserId:t,rawHtml:n}=e,a=k.useRef(null),[r,i]=k.useState(100),{data:o,isLoading:s}=hI(LC,t),l=()=>{if(a!=null&&a.current&&(a!=null&&a.current.contentWindow)){let d=a.current.contentWindow.document.body.scrollHeight;d<450&&(d=450),(!r||Math.abs(d-r)>70)&&i(d+50)}};k.useEffect(()=>{setInterval(()=>{l()},500)},[n]);const u=mI({rawHtml:n,isLoading:s,isTrusted:!!o});return s?m(Cs,{}):L(Q,{children:[n!==u&&m(tb,{variant:"info",dismissible:!1,show:!0,transition:!1,children:"Limited rendering only."}),m("iframe",{ref:a,srcDoc:u,height:`${r}px`,style:{border:0,width:"100%"}})]})}try{Oc.displayName="HtmlPreview",Oc.__docgenInfo={description:"Renders raw HTML. Uses file handle data to determine if the content should be sanitized.",displayName:"HtmlPreview",props:{createdByUserId:{defaultValue:null,description:"",name:"createdByUserId",required:!0,type:{name:"string"}},rawHtml:{defaultValue:null,description:"",name:"rawHtml",required:!0,type:{name:"string"}}}}}catch{}var Ke=(e=>(e.PLAINTEXT="PLAINTEXT",e.CODE="CODE",e.ZIP="ZIP",e.CSV="CSV",e.IMAGE="IMAGE",e.NONE="NONE",e.TAB="TAB",e.HTML="HTML",e.PDF="PDF",e.IPYNB="IPYNB",e.VIDEO="VIDEO",e.MARKDOWN="MARKDOWN",e.TIFF="TIFF",e))(Ke||{});const vI=30*VC;function ko(e){const{fileHandle:t,fileHandleAssociation:n,previewType:a}=e,r={requestedFiles:[n],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1},{data:i,isLoading:o}=FC(t,r,vI,{useErrorBoundary:!0});return o?m(Cs,{}):a===Ke.HTML?m(Oc,{rawHtml:i,createdByUserId:t.createdBy}):(a!==Ke.NONE&&console.warn(`Rendering a preview of type ${a} is not supported in Portals`),m(Q,{}))}try{ko.displayName="FileHandleContentRenderer",ko.__docgenInfo={description:"Fetches the content for and renders the contents of a file handle.",displayName:"FileHandleContentRenderer",props:{fileHandle:{defaultValue:null,description:"The file handle whose contents should be downloaded and rendered",name:"fileHandle",required:!0,type:{name:"FileHandle"}},fileHandleAssociation:{defaultValue:null,description:"The association between the file handle and an object which will give the user permission to access the file data",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},previewType:{defaultValue:null,description:"Informs how to render the file data",name:"previewType",required:!0,type:{name:"enum",value:[{value:'"PLAINTEXT"'},{value:'"CODE"'},{value:'"ZIP"'},{value:'"CSV"'},{value:'"IMAGE"'},{value:'"NONE"'},{value:'"TAB"'},{value:'"HTML"'},{value:'"PDF"'},{value:'"IPYNB"'},{value:'"VIDEO"'},{value:'"MARKDOWN"'},{value:'"TIFF"'}]}}}}}catch{}const hw=["image/bmp","image/pjpeg","image/jpeg","image/jpg","image/jpe","image/gif","image/png","image/svg+xml"],gI=[".mp4",".m4a",".m4p",".m4b",".m4r",".m4v"],yI=[".ogv",".ogg"],bI=[...gI,...yI,".webm"],wI=[".cwl",".wdl",".json",".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx"],SI=[".md",".markdown",".rmd"];function _I(e){const t=e.lastIndexOf(".");return t===-1?null:e.substring(t)}function EI(e){if(!lp(e))return Ke.NONE;const t=_I(e.fileName);return t&&bI.includes(t)?Ke.VIDEO:t===".ipynb"?Ke.IPYNB:hw.includes(e.contentType)?Ke.IMAGE:e.contentType==="text/html"?Ke.HTML:e.contentType.toLowerCase().startsWith("application/pdf")?Ke.PDF:t&&wI.includes(t)?Ke.CODE:t&&SI.includes(t)?Ke.MARKDOWN:e.contentType==="image/tiff"?Ke.TIFF:Ke.NONE}function CI(e,t){const n=e.contentType;return lp(e)?hw.includes(e.contentType)?Ke.IMAGE:n.toLowerCase().startsWith("text/")?n.toLowerCase()==="text/csv"?t.contentType==="application/zip"?Ke.ZIP:Ke.CSV:n.toLowerCase()==="text/tab-separated-values"?Ke.TAB:Ke.PLAINTEXT:n.toLowerCase().startsWith("application/pdf")?Ke.PDF:Ke.NONE:Ke.NONE}function Lc(e){const{bundle:t}=e,{accessToken:n}=$e(),a=!!n;if(!up(t.entity))throw new Error(`Entity ${t.entity.id} is not a FileEntity`);const r=t.entity.dataFileHandleId,i=t.fileHandles.find(s=>s.id===r);if(!i&&!a)return m(tb,{dismissible:!1,show:!0,variant:"danger",transition:!1,children:m(vC,{})});if(i){const s=EI(i);if(s!==Ke.NONE)return m(ko,{fileHandle:i,fileHandleAssociation:{fileHandleId:r,associateObjectId:t.entity.id,associateObjectType:rr.FileEntity},previewType:s})}const o=t.fileHandles.find(s=>lp(s)&&s.isPreview);if(o&&i){const s=CI(o,i);if(s!==Ke.NONE)return m(ko,{fileHandle:o,fileHandleAssociation:{fileHandleId:o.id,associateObjectId:t.entity.id,associateObjectType:rr.FileEntity},previewType:s})}throw new Error(`Could not render a preview for entity: ${t.entity.id}`)}try{Lc.displayName="FileEntityPreview",Lc.__docgenInfo={description:`Given an entity bundle that contains a FileEntity, render a preview of the file. The rendered preview will be determined based on the
content type and file name of the file handle(s) associated with the FileEntity.`,displayName:"FileEntityPreview",props:{bundle:{defaultValue:null,description:"An entity bundle containing a FileEntity, and its fileHandles",name:"bundle",required:!0,type:{name:"EntityBundle"}}}}}catch{}function Vc(e){const{entityId:t,versionNumber:n}=e,{data:a,isLoading:r}=pI(t,n),i=a&&up(a),{data:o,isLoading:s}=pw(a==null?void 0:a.id,a==null?void 0:a.versionNumber,eb,{enabled:!!i,useErrorBoundary:!0});if(r||s)return m(Cs,{});if(i)return m(Lc,{bundle:o});throw new Error(`${t} is not a File and cannot be previewed.`)}try{Vc.displayName="EntityPreview",Vc.__docgenInfo={description:"Returns a preview of an entity. Currently only works for FileEntities, and Links that resolve to FileEntities.",displayName:"EntityPreview",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}function Mc(e){const t=YC(e.entityId);if(t==null)throw new Error(`${e.entityId} is not a valid Synapse ID`);const n=parseInt(e.versionNumber??""),a=t.targetId,r=Number.isNaN(n)?t.targetVersionNumber:n;return m(Vc,{entityId:a,versionNumber:r})}try{Mc.displayName="MarkdownEntityPreview",Mc.__docgenInfo={description:"",displayName:"MarkdownEntityPreview",props:{entityId:{defaultValue:null,description:'A Synapse Entity ID that may optionally contain a "dot" version, e.g. syn123 or syn123.2',name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"An optional Entity version number.",name:"versionNumber",required:!1,type:{name:"string"}}}}}catch{}function xI(e,t){const{accessToken:n,keyFactory:a}=$e(),r={accessRequirementId:e};return db(a.getApprovedSubmissionInfoQueryKey(r),async i=>await We.getApprovedSubmissionInfo({...r,nextPageToken:i.pageParam},n),{...t,getNextPageParam:i=>i.nextPageToken})}const Bc=({info:e})=>m(Q,{children:e&&L("p",{className:"SubmissionInfoCard",children:[m("strong",{children:" Project Lead: "})," ",m("span",{children:e.projectLead})," ",m("br",{}),m("strong",{children:" Institution: "})," ",m("span",{children:e.institution})," ",m("br",{}),m("strong",{children:" Data Access Request Submitted By: "})," ",m(Xn,{ownerId:e.submittedBy,size:Io})," ",m("br",{}),L("strong",{children:[" ","Intended Data Use Statement (accepted on"," ",Ha(nr(e.modifiedOn),"M/D/YYYY"),"):"]}),m(wt,{markdown:e.intendedDataUseStatement}),e.accessorChanges&&e.accessorChanges.map(t=>L("div",{children:[m(Xn,{ownerId:t.userId,size:Io})," ",t.type]},`${t.userId}-${t.type}`))]})}),qo=()=>L("p",{className:"SubmissionInfoCard",children:[m(hp,{numCols:1,numRows:4}),m(dn,{variant:"rectangular",width:"100%",height:80})]});try{Bc.displayName="SubmissionInfoCard",Bc.__docgenInfo={description:"",displayName:"SubmissionInfoCard",props:{info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"SubmissionInfo"}}}}}catch{}try{qo.displayName="LoadingSubmissionInfoCard",qo.__docgenInfo={description:"",displayName:"LoadingSubmissionInfoCard",props:{}}}catch{}const Uc=e=>{const{accessRequirementId:t}=e,{ref:n,inView:a}=da(),{data:r,status:i,isLoading:o,hasNextPage:s,isFetchingNextPage:l,fetchNextPage:c}=xI(t,{useErrorBoundary:!0});k.useEffect(()=>{i==="success"&&!l&&s&&c&&a&&c()},[i,s,l,c,a]);const u=(r==null?void 0:r.pages.flatMap(d=>d.results))??[];return L(Q,{children:[u.length>0&&L("div",{className:"IDUReport",children:[u.map(d=>L(B.Fragment,{children:[m(Bc,{info:d}),m("hr",{})]},JSON.stringify(d))),m("div",{ref:n})]}),(o||l)&&L(Q,{children:[m(qo,{}),m(qo,{})]})]})};try{Uc.displayName="IDUReport",Uc.__docgenInfo={description:"",displayName:"IDUReport",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"string"}}}}}catch{}function zc(e){const{accessRestrictionId:t}=e;return m(Uc,{accessRequirementId:t})}try{zc.displayName="MarkdownIDUReport",zc.__docgenInfo={description:"",displayName:"MarkdownIDUReport",props:{accessRestrictionId:{defaultValue:null,description:"",name:"accessRestrictionId",required:!0,type:{name:"string"}}}}}catch{}function _t(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,a;n<e.length;n++)(a=_t(e[n]))!==""&&(t+=(t&&" ")+a);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const sm=e=>{let t;const n=new Set,a=(l,c)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const d=t;t=c??typeof u!="object"?u:Object.assign({},t,u),n.forEach(f=>f(t,d))}},r=()=>t,s={setState:a,getState:r,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(a,r,s),s},NI=e=>e?sm(e):sm;var mw={exports:{}},vw={},gw={exports:{}},yw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=k;function II(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TI=typeof Object.is=="function"?Object.is:II,RI=Jn.useState,PI=Jn.useEffect,AI=Jn.useLayoutEffect,kI=Jn.useDebugValue;function qI(e,t){var n=t(),a=RI({inst:{value:n,getSnapshot:t}}),r=a[0].inst,i=a[1];return AI(function(){r.value=n,r.getSnapshot=t,Il(r)&&i({inst:r})},[e,n,t]),PI(function(){return Il(r)&&i({inst:r}),e(function(){Il(r)&&i({inst:r})})},[e]),kI(n),n}function Il(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!TI(e,n)}catch{return!0}}function $I(e,t){return t()}var DI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$I:qI;yw.useSyncExternalStore=Jn.useSyncExternalStore!==void 0?Jn.useSyncExternalStore:DI;gw.exports=yw;var FI=gw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=k,OI=FI;function LI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VI=typeof Object.is=="function"?Object.is:LI,MI=OI.useSyncExternalStore,BI=Ls.useRef,UI=Ls.useEffect,zI=Ls.useMemo,HI=Ls.useDebugValue;vw.useSyncExternalStoreWithSelector=function(e,t,n,a,r){var i=BI(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=zI(function(){function l(p){if(!c){if(c=!0,u=p,p=a(p),r!==void 0&&o.hasValue){var h=o.value;if(r(h,p))return d=h}return d=p}if(h=d,VI(u,p))return h;var v=a(p);return r!==void 0&&r(h,v)?h:(u=p,d=v)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,a,r]);var s=MI(e,i[0],i[1]);return UI(function(){o.hasValue=!0,o.value=s},[s]),HI(s),s};mw.exports=vw;var WI=mw.exports;const jI=St(WI),{useSyncExternalStoreWithSelector:QI}=jI;function GI(e,t=e.getState,n){const a=QI(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return k.useDebugValue(a),a}function Rt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,r]of e)if(!Object.is(r,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!Object.is(e[n[a]],t[n[a]]))return!1;return!0}var YI={value:()=>{}};function Vs(){for(var e=0,t=arguments.length,n={},a;e<t;++e){if(!(a=arguments[e]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new go(n)}function go(e){this._=e}function KI(e,t){return e.trim().split(/^|\s+/).map(function(n){var a="",r=n.indexOf(".");if(r>=0&&(a=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}go.prototype=Vs.prototype={constructor:go,on:function(e,t){var n=this._,a=KI(e+"",n),r,i=-1,o=a.length;if(arguments.length<2){for(;++i<o;)if((r=(e=a[i]).type)&&(r=XI(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(r=(e=a[i]).type)n[r]=lm(n[r],e.name,t);else if(t==null)for(r in n)n[r]=lm(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new go(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),a=0,r,i;a<r;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],a=0,r=i.length;a<r;++a)i[a].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};function XI(e,t){for(var n=0,a=e.length,r;n<a;++n)if((r=e[n]).name===t)return r.value}function lm(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=YI,e=e.slice(0,a).concat(e.slice(a+1));break}return n!=null&&e.push({name:t,value:n}),e}var Hc="http://www.w3.org/1999/xhtml";const um={svg:"http://www.w3.org/2000/svg",xhtml:Hc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ms(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),um.hasOwnProperty(t)?{space:um[t],local:e}:e}function ZI(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hc&&t.documentElement.namespaceURI===Hc?t.createElement(e):t.createElementNS(n,e)}}function JI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bw(e){var t=Ms(e);return(t.local?JI:ZI)(t)}function eT(){}function $p(e){return e==null?eT:function(){return this.querySelector(e)}}function tT(e){typeof e!="function"&&(e=$p(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Pt(a,this._parents)}function rT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function nT(){return[]}function ww(e){return e==null?nT:function(){return this.querySelectorAll(e)}}function aT(e){return function(){return rT(e.apply(this,arguments))}}function iT(e){typeof e=="function"?e=aT(e):e=ww(e);for(var t=this._groups,n=t.length,a=[],r=[],i=0;i<n;++i)for(var o=t[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(a.push(e.call(l,l.__data__,c,o)),r.push(l));return new Pt(a,r)}function Sw(e){return function(){return this.matches(e)}}function _w(e){return function(t){return t.matches(e)}}var oT=Array.prototype.find;function sT(e){return function(){return oT.call(this.children,e)}}function lT(){return this.firstElementChild}function uT(e){return this.select(e==null?lT:sT(typeof e=="function"?e:_w(e)))}var cT=Array.prototype.filter;function dT(){return Array.from(this.children)}function fT(e){return function(){return cT.call(this.children,e)}}function pT(e){return this.selectAll(e==null?dT:fT(typeof e=="function"?e:_w(e)))}function hT(e){typeof e!="function"&&(e=Sw(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new Pt(a,this._parents)}function Ew(e){return new Array(e.length)}function mT(){return new Pt(this._enter||this._groups.map(Ew),this._parents)}function $o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$o.prototype={constructor:$o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vT(e){return function(){return e}}function gT(e,t,n,a,r,i){for(var o=0,s,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],a[o]=s):n[o]=new $o(e,i[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function yT(e,t,n,a,r,i,o){var s,l,c=new Map,u=t.length,d=i.length,f=new Array(u),p;for(s=0;s<u;++s)(l=t[s])&&(f[s]=p=o.call(l,l.__data__,s,t)+"",c.has(p)?r[s]=l:c.set(p,l));for(s=0;s<d;++s)p=o.call(e,i[s],s,i)+"",(l=c.get(p))?(a[s]=l,l.__data__=i[s],c.delete(p)):n[s]=new $o(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(f[s])===l&&(r[s]=l)}function bT(e){return e.__data__}function wT(e,t){if(!arguments.length)return Array.from(this,bT);var n=t?yT:gT,a=this._parents,r=this._groups;typeof e!="function"&&(e=vT(e));for(var i=r.length,o=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=a[c],d=r[c],f=d.length,p=ST(e.call(u,u&&u.__data__,c,a)),h=p.length,v=s[c]=new Array(h),g=o[c]=new Array(h),b=l[c]=new Array(f);n(u,d,v,g,b,p,t);for(var E=0,y=0,_,w;E<h;++E)if(_=v[E]){for(E>=y&&(y=E+1);!(w=g[y])&&++y<h;);_._next=w||null}}return o=new Pt(o,a),o._enter=s,o._exit=l,o}function ST(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _T(){return new Pt(this._exit||this._groups.map(Ew),this._parents)}function ET(e,t,n){var a=this.enter(),r=this,i=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),a&&r?a.merge(r).order():r}function CT(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,r=n.length,i=a.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c=n[l],u=a[l],d=c.length,f=s[l]=new Array(d),p,h=0;h<d;++h)(p=c[h]||u[h])&&(f[h]=p);for(;l<r;++l)s[l]=n[l];return new Pt(s,this._parents)}function xT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a=e[t],r=a.length-1,i=a[r],o;--r>=0;)(o=a[r])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function NT(e){e||(e=IT);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,a=n.length,r=new Array(a),i=0;i<a;++i){for(var o=n[i],s=o.length,l=r[i]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Pt(r,this._parents).order()}function IT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function TT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function RT(){return Array.from(this)}function PT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length;r<i;++r){var o=a[r];if(o)return o}return null}function AT(){let e=0;for(const t of this)++e;return e}function kT(){return!this.node()}function qT(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&e.call(s,s.__data__,i,r);return this}function $T(e){return function(){this.removeAttribute(e)}}function DT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FT(e,t){return function(){this.setAttribute(e,t)}}function OT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function LT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function VT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function MT(e,t){var n=Ms(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((t==null?n.local?DT:$T:typeof t=="function"?n.local?VT:LT:n.local?OT:FT)(n,t))}function Cw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function BT(e){return function(){this.style.removeProperty(e)}}function UT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zT(e,t,n){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function HT(e,t,n){return arguments.length>1?this.each((t==null?BT:typeof t=="function"?zT:UT)(e,t,n??"")):ea(this.node(),e)}function ea(e,t){return e.style.getPropertyValue(t)||Cw(e).getComputedStyle(e,null).getPropertyValue(t)}function WT(e){return function(){delete this[e]}}function jT(e,t){return function(){this[e]=t}}function QT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function GT(e,t){return arguments.length>1?this.each((t==null?WT:typeof t=="function"?QT:jT)(e,t)):this.node()[e]}function xw(e){return e.trim().split(/^|\s+/)}function Dp(e){return e.classList||new Nw(e)}function Nw(e){this._node=e,this._names=xw(e.getAttribute("class")||"")}Nw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Iw(e,t){for(var n=Dp(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function Tw(e,t){for(var n=Dp(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function YT(e){return function(){Iw(this,e)}}function KT(e){return function(){Tw(this,e)}}function XT(e,t){return function(){(t.apply(this,arguments)?Iw:Tw)(this,e)}}function ZT(e,t){var n=xw(e+"");if(arguments.length<2){for(var a=Dp(this.node()),r=-1,i=n.length;++r<i;)if(!a.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?XT:t?YT:KT)(n,t))}function JT(){this.textContent=""}function eR(e){return function(){this.textContent=e}}function tR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function rR(e){return arguments.length?this.each(e==null?JT:(typeof e=="function"?tR:eR)(e)):this.node().textContent}function nR(){this.innerHTML=""}function aR(e){return function(){this.innerHTML=e}}function iR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function oR(e){return arguments.length?this.each(e==null?nR:(typeof e=="function"?iR:aR)(e)):this.node().innerHTML}function sR(){this.nextSibling&&this.parentNode.appendChild(this)}function lR(){return this.each(sR)}function uR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cR(){return this.each(uR)}function dR(e){var t=typeof e=="function"?e:bw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fR(){return null}function pR(e,t){var n=typeof e=="function"?e:bw(e),a=t==null?fR:typeof t=="function"?t:$p(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}function hR(){var e=this.parentNode;e&&e.removeChild(this)}function mR(){return this.each(hR)}function vR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gR(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yR(e){return this.select(e?gR:vR)}function bR(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wR(e){return function(t){e.call(this,t,this.__data__)}}function SR(e){return e.trim().split(/^|\s+/).map(function(t){var n="",a=t.indexOf(".");return a>=0&&(n=t.slice(a+1),t=t.slice(0,a)),{type:t,name:n}})}function _R(e){return function(){var t=this.__on;if(t){for(var n=0,a=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++a]=i;++a?t.length=a:delete this.__on}}}function ER(e,t,n){return function(){var a=this.__on,r,i=wR(t);if(a){for(var o=0,s=a.length;o<s;++o)if((r=a[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},a?a.push(r):this.__on=[r]}}function CR(e,t,n){var a=SR(e+""),r,i=a.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(r=0,u=s[l];r<i;++r)if((o=a[r]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?ER:_R,r=0;r<i;++r)this.each(s(a[r],t,n));return this}function Rw(e,t,n){var a=Cw(e),r=a.CustomEvent;typeof r=="function"?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function xR(e,t){return function(){return Rw(this,e,t)}}function NR(e,t){return function(){return Rw(this,e,t.apply(this,arguments))}}function IR(e,t){return this.each((typeof t=="function"?NR:xR)(e,t))}function*TR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length,o;r<i;++r)(o=a[r])&&(yield o)}var Pw=[null];function Pt(e,t){this._groups=e,this._parents=t}function Ei(){return new Pt([[document.documentElement]],Pw)}function RR(){return this}Pt.prototype=Ei.prototype={constructor:Pt,select:tT,selectAll:iT,selectChild:uT,selectChildren:pT,filter:hT,data:wT,enter:mT,exit:_T,join:ET,merge:CT,selection:RR,order:xT,sort:NT,call:TT,nodes:RT,node:PT,size:AT,empty:kT,each:qT,attr:MT,style:HT,property:GT,classed:ZT,text:rR,html:oR,raise:lR,lower:cR,append:dR,insert:pR,remove:mR,clone:yR,datum:bR,on:CR,dispatch:IR,[Symbol.iterator]:TR};function Mt(e){return typeof e=="string"?new Pt([[document.querySelector(e)]],[document.documentElement]):new Pt([[e]],Pw)}function PR(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Zt(e,t){if(e=PR(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const AR={passive:!1},Qa={capture:!0,passive:!1};function Tl(e){e.stopImmediatePropagation()}function Hn(e){e.preventDefault(),e.stopImmediatePropagation()}function Aw(e){var t=e.document.documentElement,n=Mt(e).on("dragstart.drag",Hn,Qa);"onselectstart"in t?n.on("selectstart.drag",Hn,Qa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function kw(e,t){var n=e.document.documentElement,a=Mt(e).on("dragstart.drag",null);t&&(a.on("click.drag",Hn,Qa),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Hi=e=>()=>e;function Wc(e,{sourceEvent:t,subject:n,target:a,identifier:r,active:i,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Wc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function kR(e){return!e.ctrlKey&&!e.button}function qR(){return this.parentNode}function $R(e,t){return t??{x:e.x,y:e.y}}function DR(){return navigator.maxTouchPoints||"ontouchstart"in this}function FR(){var e=kR,t=qR,n=$R,a=DR,r={},i=Vs("start","drag","end"),o=0,s,l,c,u,d=0;function f(_){_.on("mousedown.drag",p).filter(a).on("touchstart.drag",g).on("touchmove.drag",b,AR).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,w){if(!(u||!e.call(this,_,w))){var S=y(this,t.call(this,_,w),_,w,"mouse");S&&(Mt(_.view).on("mousemove.drag",h,Qa).on("mouseup.drag",v,Qa),Aw(_.view),Tl(_),c=!1,s=_.clientX,l=_.clientY,S("start",_))}}function h(_){if(Hn(_),!c){var w=_.clientX-s,S=_.clientY-l;c=w*w+S*S>d}r.mouse("drag",_)}function v(_){Mt(_.view).on("mousemove.drag mouseup.drag",null),kw(_.view,c),Hn(_),r.mouse("end",_)}function g(_,w){if(e.call(this,_,w)){var S=_.changedTouches,C=t.call(this,_,w),x=S.length,T,R;for(T=0;T<x;++T)(R=y(this,C,_,w,S[T].identifier,S[T]))&&(Tl(_),R("start",_,S[T]))}}function b(_){var w=_.changedTouches,S=w.length,C,x;for(C=0;C<S;++C)(x=r[w[C].identifier])&&(Hn(_),x("drag",_,w[C]))}function E(_){var w=_.changedTouches,S=w.length,C,x;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<S;++C)(x=r[w[C].identifier])&&(Tl(_),x("end",_,w[C]))}function y(_,w,S,C,x,T){var R=i.copy(),$=Zt(T||S,w),A,I,N;if((N=n.call(_,new Wc("beforestart",{sourceEvent:S,target:f,identifier:x,active:o,x:$[0],y:$[1],dx:0,dy:0,dispatch:R}),C))!=null)return A=N.x-$[0]||0,I=N.y-$[1]||0,function q(F,P,V){var O=$,z;switch(F){case"start":r[x]=q,z=o++;break;case"end":delete r[x],--o;case"drag":$=Zt(V||P,w),z=o;break}R.call(F,_,new Wc(F,{sourceEvent:P,subject:N,target:f,identifier:x,active:z,x:$[0]+A,y:$[1]+I,dx:$[0]-O[0],dy:$[1]-O[1],dispatch:R}),C)}}return f.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Hi(!!_),f):e},f.container=function(_){return arguments.length?(t=typeof _=="function"?_:Hi(_),f):t},f.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Hi(_),f):n},f.touchable=function(_){return arguments.length?(a=typeof _=="function"?_:Hi(!!_),f):a},f.on=function(){var _=i.on.apply(i,arguments);return _===i?f:_},f.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,f):Math.sqrt(d)},f}function Fp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qw(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Ci(){}var Ga=.7,Do=1/Ga,Wn="\\s*([+-]?\\d+)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OR=/^#([0-9a-f]{3,8})$/,LR=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),VR=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),MR=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${Ya}\\)$`),BR=new RegExp(`^rgba\\(${tr},${tr},${tr},${Ya}\\)$`),UR=new RegExp(`^hsl\\(${Ya},${tr},${tr}\\)$`),zR=new RegExp(`^hsla\\(${Ya},${tr},${tr},${Ya}\\)$`),cm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fp(Ci,Ka,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dm,formatHex:dm,formatHex8:HR,formatHsl:WR,formatRgb:fm,toString:fm});function dm(){return this.rgb().formatHex()}function HR(){return this.rgb().formatHex8()}function WR(){return $w(this).formatHsl()}function fm(){return this.rgb().formatRgb()}function Ka(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=OR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pm(t):n===3?new gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Wi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Wi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LR.exec(e))?new gt(t[1],t[2],t[3],1):(t=VR.exec(e))?new gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MR.exec(e))?Wi(t[1],t[2],t[3],t[4]):(t=BR.exec(e))?Wi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UR.exec(e))?vm(t[1],t[2]/100,t[3]/100,1):(t=zR.exec(e))?vm(t[1],t[2]/100,t[3]/100,t[4]):cm.hasOwnProperty(e)?pm(cm[e]):e==="transparent"?new gt(NaN,NaN,NaN,0):null}function pm(e){return new gt(e>>16&255,e>>8&255,e&255,1)}function Wi(e,t,n,a){return a<=0&&(e=t=n=NaN),new gt(e,t,n,a)}function jR(e){return e instanceof Ci||(e=Ka(e)),e?(e=e.rgb(),new gt(e.r,e.g,e.b,e.opacity)):new gt}function jc(e,t,n,a){return arguments.length===1?jR(e):new gt(e,t,n,a??1)}function gt(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}Fp(gt,jc,qw(Ci,{brighter(e){return e=e==null?Do:Math.pow(Do,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ga:Math.pow(Ga,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gt(fn(this.r),fn(this.g),fn(this.b),Fo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hm,formatHex:hm,formatHex8:QR,formatRgb:mm,toString:mm}));function hm(){return`#${un(this.r)}${un(this.g)}${un(this.b)}`}function QR(){return`#${un(this.r)}${un(this.g)}${un(this.b)}${un((isNaN(this.opacity)?1:this.opacity)*255)}`}function mm(){const e=Fo(this.opacity);return`${e===1?"rgb(":"rgba("}${fn(this.r)}, ${fn(this.g)}, ${fn(this.b)}${e===1?")":`, ${e})`}`}function Fo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function un(e){return e=fn(e),(e<16?"0":"")+e.toString(16)}function vm(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bt(e,t,n,a)}function $w(e){if(e instanceof Bt)return new Bt(e.h,e.s,e.l,e.opacity);if(e instanceof Ci||(e=Ka(e)),!e)return new Bt;if(e instanceof Bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,s=i-r,l=(i+r)/2;return s?(t===i?o=(n-a)/s+(n<a)*6:n===i?o=(a-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+r:2-i-r,o*=60):s=l>0&&l<1?0:o,new Bt(o,s,l,e.opacity)}function GR(e,t,n,a){return arguments.length===1?$w(e):new Bt(e,t,n,a??1)}function Bt(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Fp(Bt,GR,qw(Ci,{brighter(e){return e=e==null?Do:Math.pow(Do,e),new Bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ga:Math.pow(Ga,e),new Bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new gt(Rl(e>=240?e-240:e+120,r,a),Rl(e,r,a),Rl(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new Bt(gm(this.h),ji(this.s),ji(this.l),Fo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fo(this.opacity);return`${e===1?"hsl(":"hsla("}${gm(this.h)}, ${ji(this.s)*100}%, ${ji(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gm(e){return e=(e||0)%360,e<0?e+360:e}function ji(e){return Math.max(0,Math.min(1,e||0))}function Rl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dw=e=>()=>e;function YR(e,t){return function(n){return e+n*t}}function KR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function XR(e){return(e=+e)==1?Fw:function(t,n){return n-t?KR(t,n,e):Dw(isNaN(t)?n:t)}}function Fw(e,t){var n=t-e;return n?YR(e,n):Dw(isNaN(e)?t:e)}const ym=function e(t){var n=XR(t);function a(r,i){var o=n((r=jc(r)).r,(i=jc(i)).r),s=n(r.g,i.g),l=n(r.b,i.b),c=Fw(r.opacity,i.opacity);return function(u){return r.r=o(u),r.g=s(u),r.b=l(u),r.opacity=c(u),r+""}}return a.gamma=e,a}(1);function $r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Qc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pl=new RegExp(Qc.source,"g");function ZR(e){return function(){return e}}function JR(e){return function(t){return e(t)+""}}function eP(e,t){var n=Qc.lastIndex=Pl.lastIndex=0,a,r,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(a=Qc.exec(e))&&(r=Pl.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(a=a[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:$r(a,r)})),n=Pl.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?JR(l[0].x):ZR(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var bm=180/Math.PI,Gc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ow(e,t,n,a,r,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*a)&&(n-=e*l,a-=t*l),(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,l/=s),e*a<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*bm,skewX:Math.atan(l)*bm,scaleX:o,scaleY:s}}var Qi;function tP(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Gc:Ow(t.a,t.b,t.c,t.d,t.e,t.f)}function rP(e){return e==null||(Qi||(Qi=document.createElementNS("http://www.w3.org/2000/svg","g")),Qi.setAttribute("transform",e),!(e=Qi.transform.baseVal.consolidate()))?Gc:(e=e.matrix,Ow(e.a,e.b,e.c,e.d,e.e,e.f))}function Lw(e,t,n,a){function r(c){return c.length?c.pop()+" ":""}function i(c,u,d,f,p,h){if(c!==d||u!==f){var v=p.push("translate(",null,t,null,n);h.push({i:v-4,x:$r(c,d)},{i:v-2,x:$r(u,f)})}else(d||f)&&p.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(r(d)+"rotate(",null,a)-2,x:$r(c,u)})):u&&d.push(r(d)+"rotate("+u+a)}function s(c,u,d,f){c!==u?f.push({i:d.push(r(d)+"skewX(",null,a)-2,x:$r(c,u)}):u&&d.push(r(d)+"skewX("+u+a)}function l(c,u,d,f,p,h){if(c!==d||u!==f){var v=p.push(r(p)+"scale(",null,",",null,")");h.push({i:v-4,x:$r(c,d)},{i:v-2,x:$r(u,f)})}else(d!==1||f!==1)&&p.push(r(p)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),s(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(p){for(var h=-1,v=f.length,g;++h<v;)d[(g=f[h]).i]=g.x(p);return d.join("")}}}var nP=Lw(tP,"px, ","px)","deg)"),aP=Lw(rP,", ",")",")"),iP=1e-12;function wm(e){return((e=Math.exp(e))+1/e)/2}function oP(e){return((e=Math.exp(e))-1/e)/2}function sP(e){return((e=Math.exp(2*e))-1)/(e+1)}const lP=function e(t,n,a){function r(i,o){var s=i[0],l=i[1],c=i[2],u=o[0],d=o[1],f=o[2],p=u-s,h=d-l,v=p*p+h*h,g,b;if(v<iP)b=Math.log(f/c)/t,g=function(C){return[s+C*p,l+C*h,c*Math.exp(t*C*b)]};else{var E=Math.sqrt(v),y=(f*f-c*c+a*v)/(2*c*n*E),_=(f*f-c*c-a*v)/(2*f*n*E),w=Math.log(Math.sqrt(y*y+1)-y),S=Math.log(Math.sqrt(_*_+1)-_);b=(S-w)/t,g=function(C){var x=C*b,T=wm(w),R=c/(n*E)*(T*sP(t*x+w)-oP(w));return[s+R*p,l+R*h,c*T/wm(t*x+w)]}}return g.duration=b*1e3*t/Math.SQRT2,g}return r.rho=function(i){var o=Math.max(.001,+i),s=o*o,l=s*s;return e(o,s,l)},r}(Math.SQRT2,2,4);var ta=0,Aa=0,Ea=0,Vw=1e3,Oo,ka,Lo=0,Sn=0,Bs=0,Xa=typeof performance=="object"&&performance.now?performance:Date,Mw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Op(){return Sn||(Mw(uP),Sn=Xa.now()+Bs)}function uP(){Sn=0}function Vo(){this._call=this._time=this._next=null}Vo.prototype=Bw.prototype={constructor:Vo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Op():+n)+(t==null?0:+t),!this._next&&ka!==this&&(ka?ka._next=this:Oo=this,ka=this),this._call=e,this._time=n,Yc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yc())}};function Bw(e,t,n){var a=new Vo;return a.restart(e,t,n),a}function cP(){Op(),++ta;for(var e=Oo,t;e;)(t=Sn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ta}function Sm(){Sn=(Lo=Xa.now())+Bs,ta=Aa=0;try{cP()}finally{ta=0,fP(),Sn=0}}function dP(){var e=Xa.now(),t=e-Lo;t>Vw&&(Bs-=t,Lo=e)}function fP(){for(var e,t=Oo,n,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Oo=n);ka=e,Yc(a)}function Yc(e){if(!ta){Aa&&(Aa=clearTimeout(Aa));var t=e-Sn;t>24?(e<1/0&&(Aa=setTimeout(Sm,e-Xa.now()-Bs)),Ea&&(Ea=clearInterval(Ea))):(Ea||(Lo=Xa.now(),Ea=setInterval(dP,Vw)),ta=1,Mw(Sm))}}function _m(e,t,n){var a=new Vo;return t=t==null?0:+t,a.restart(r=>{a.stop(),e(r+t)},t,n),a}var pP=Vs("start","end","cancel","interrupt"),hP=[],Uw=0,Em=1,Kc=2,yo=3,Cm=4,Xc=5,bo=6;function Us(e,t,n,a,r,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;mP(e,n,{name:t,index:a,group:r,on:pP,tween:hP,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Uw})}function Lp(e,t){var n=Wt(e,t);if(n.state>Uw)throw new Error("too late; already scheduled");return n}function sr(e,t){var n=Wt(e,t);if(n.state>yo)throw new Error("too late; already running");return n}function Wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function mP(e,t,n){var a=e.__transition,r;a[t]=n,n.timer=Bw(i,0,n.time);function i(c){n.state=Em,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,p;if(n.state!==Em)return l();for(u in a)if(p=a[u],p.name===n.name){if(p.state===yo)return _m(o);p.state===Cm?(p.state=bo,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete a[u]):+u<t&&(p.state=bo,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete a[u])}if(_m(function(){n.state===yo&&(n.state=Cm,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Kc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Kc){for(n.state=yo,r=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=p);r.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Xc,1),d=-1,f=r.length;++d<f;)r[d].call(e,u);n.state===Xc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=bo,n.timer.stop(),delete a[t];for(var c in a)return;delete e.__transition}}function wo(e,t){var n=e.__transition,a,r,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((a=n[o]).name!==t){i=!1;continue}r=a.state>Kc&&a.state<Xc,a.state=bo,a.timer.stop(),a.on.call(r?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete n[o]}i&&delete e.__transition}}function vP(e){return this.each(function(){wo(this,e)})}function gP(e,t){var n,a;return function(){var r=sr(this,e),i=r.tween;if(i!==n){a=n=i;for(var o=0,s=a.length;o<s;++o)if(a[o].name===t){a=a.slice(),a.splice(o,1);break}}r.tween=a}}function yP(e,t,n){var a,r;if(typeof n!="function")throw new Error;return function(){var i=sr(this,e),o=i.tween;if(o!==a){r=(a=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}i.tween=r}}function bP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a=Wt(this.node(),n).tween,r=0,i=a.length,o;r<i;++r)if((o=a[r]).name===e)return o.value;return null}return this.each((t==null?gP:yP)(n,e,t))}function Vp(e,t,n){var a=e._id;return e.each(function(){var r=sr(this,a);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Wt(r,a).value[t]}}function zw(e,t){var n;return(typeof t=="number"?$r:t instanceof Ka?ym:(n=Ka(t))?(t=n,ym):eP)(e,t)}function wP(e){return function(){this.removeAttribute(e)}}function SP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _P(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttribute(e);return o===r?null:o===a?i:i=t(a=o,n)}}function EP(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===a?i:i=t(a=o,n)}}function CP(e,t,n){var a,r,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s)))}}function xP(e,t,n){var a,r,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s)))}}function NP(e,t){var n=Ms(e),a=n==="transform"?aP:zw;return this.attrTween(e,typeof t=="function"?(n.local?xP:CP)(n,a,Vp(this,"attr."+e,t)):t==null?(n.local?SP:wP)(n):(n.local?EP:_P)(n,a,t))}function IP(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function TP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function RP(e,t){var n,a;function r(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&TP(e,i)),n}return r._value=t,r}function PP(e,t){var n,a;function r(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&IP(e,i)),n}return r._value=t,r}function AP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var a=Ms(e);return this.tween(n,(a.local?RP:PP)(a,t))}function kP(e,t){return function(){Lp(this,e).delay=+t.apply(this,arguments)}}function qP(e,t){return t=+t,function(){Lp(this,e).delay=t}}function $P(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kP:qP)(t,e)):Wt(this.node(),t).delay}function DP(e,t){return function(){sr(this,e).duration=+t.apply(this,arguments)}}function FP(e,t){return t=+t,function(){sr(this,e).duration=t}}function OP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DP:FP)(t,e)):Wt(this.node(),t).duration}function LP(e,t){if(typeof t!="function")throw new Error;return function(){sr(this,e).ease=t}}function VP(e){var t=this._id;return arguments.length?this.each(LP(t,e)):Wt(this.node(),t).ease}function MP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sr(this,e).ease=n}}function BP(e){if(typeof e!="function")throw new Error;return this.each(MP(this._id,e))}function UP(e){typeof e!="function"&&(e=Sw(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new _r(a,this._parents,this._name,this._id)}function zP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),o=new Array(a),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,d=o[s]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(d[p]=f);for(;s<a;++s)o[s]=t[s];return new _r(o,this._parents,this._name,this._id)}function HP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function WP(e,t,n){var a,r,i=HP(t)?Lp:sr;return function(){var o=i(this,e),s=o.on;s!==a&&(r=(a=s).copy()).on(t,n),o.on=r}}function jP(e,t){var n=this._id;return arguments.length<2?Wt(this.node(),n).on.on(e):this.each(WP(n,e,t))}function QP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function GP(){return this.on("end.remove",QP(this._id))}function YP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$p(e));for(var a=this._groups,r=a.length,i=new Array(r),o=0;o<r;++o)for(var s=a[o],l=s.length,c=i[o]=new Array(l),u,d,f=0;f<l;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Us(c[f],t,n,f,c,Wt(u,n)));return new _r(i,this._parents,t,n)}function KP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ww(e));for(var a=this._groups,r=a.length,i=[],o=[],s=0;s<r;++s)for(var l=a[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),p,h=Wt(u,n),v=0,g=f.length;v<g;++v)(p=f[v])&&Us(p,t,n,v,f,h);i.push(f),o.push(u)}return new _r(i,o,t,n)}var XP=Ei.prototype.constructor;function ZP(){return new XP(this._groups,this._parents)}function JP(e,t){var n,a,r;return function(){var i=ea(this,e),o=(this.style.removeProperty(e),ea(this,e));return i===o?null:i===n&&o===a?r:r=t(n=i,a=o)}}function Hw(e){return function(){this.style.removeProperty(e)}}function eA(e,t,n){var a,r=n+"",i;return function(){var o=ea(this,e);return o===r?null:o===a?i:i=t(a=o,n)}}function tA(e,t,n){var a,r,i;return function(){var o=ea(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),ea(this,e))),o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}function rA(e,t){var n,a,r,i="style."+t,o="end."+i,s;return function(){var l=sr(this,e),c=l.on,u=l.value[i]==null?s||(s=Hw(t)):void 0;(c!==n||r!==u)&&(a=(n=c).copy()).on(o,r=u),l.on=a}}function nA(e,t,n){var a=(e+="")=="transform"?nP:zw;return t==null?this.styleTween(e,JP(e,a)).on("end.style."+e,Hw(e)):typeof t=="function"?this.styleTween(e,tA(e,a,Vp(this,"style."+e,t))).each(rA(this._id,e)):this.styleTween(e,eA(e,a,t),n).on("end.style."+e,null)}function aA(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}function iA(e,t,n){var a,r;function i(){var o=t.apply(this,arguments);return o!==r&&(a=(r=o)&&aA(e,o,n)),a}return i._value=t,i}function oA(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,iA(e,t,n??""))}function sA(e){return function(){this.textContent=e}}function lA(e){return function(){var t=e(this);this.textContent=t??""}}function uA(e){return this.tween("text",typeof e=="function"?lA(Vp(this,"text",e)):sA(e==null?"":e+""))}function cA(e){return function(t){this.textContent=e.call(this,t)}}function dA(e){var t,n;function a(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&cA(r)),t}return a._value=e,a}function fA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,dA(e))}function pA(){for(var e=this._name,t=this._id,n=Ww(),a=this._groups,r=a.length,i=0;i<r;++i)for(var o=a[i],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=Wt(l,t);Us(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _r(a,this._parents,e,n)}function hA(){var e,t,n=this,a=n._id,r=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--r===0&&i()}};n.each(function(){var c=sr(this,a),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),r===0&&i()})}var mA=0;function _r(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function Ww(){return++mA}var fr=Ei.prototype;_r.prototype={constructor:_r,select:YP,selectAll:KP,selectChild:fr.selectChild,selectChildren:fr.selectChildren,filter:UP,merge:zP,selection:ZP,transition:pA,call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:jP,attr:NP,attrTween:AP,style:nA,styleTween:oA,text:uA,textTween:fA,remove:GP,tween:bP,delay:$P,duration:OP,ease:VP,easeVarying:BP,end:hA,[Symbol.iterator]:fr[Symbol.iterator]};function vA(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var gA={time:null,delay:0,duration:250,ease:vA};function yA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bA(e){var t,n;e instanceof _r?(t=e._id,e=e._name):(t=Ww(),(n=gA).time=Op(),e=e==null?null:e+"");for(var a=this._groups,r=a.length,i=0;i<r;++i)for(var o=a[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Us(l,e,t,c,o,n||yA(l,t));return new _r(a,this._parents,e,t)}Ei.prototype.interrupt=vP;Ei.prototype.transition=bA;const Gi=e=>()=>e;function wA(e,{sourceEvent:t,target:n,transform:a,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:r}})}function vr(e,t,n){this.k=e,this.x=t,this.y=n}vr.prototype={constructor:vr,scale:function(e){return e===1?this:new vr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ur=new vr(1,0,0);vr.prototype;function Al(e){e.stopImmediatePropagation()}function Ca(e){e.preventDefault(),e.stopImmediatePropagation()}function SA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function _A(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function xm(){return this.__zoom||Ur}function EA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function CA(){return navigator.maxTouchPoints||"ontouchstart"in this}function xA(e,t,n){var a=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>a?(a+r)/2:Math.min(0,a)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function NA(){var e=SA,t=_A,n=xA,a=EA,r=CA,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=lP,c=Vs("start","zoom","end"),u,d,f,p=500,h=150,v=0,g=10;function b(N){N.property("__zoom",xm).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",R).filter(r).on("touchstart.zoom",$).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(N,q,F,P){var V=N.selection?N.selection():N;V.property("__zoom",xm),N!==V?w(N,q,F,P):V.interrupt().each(function(){S(this,arguments).event(P).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},b.scaleBy=function(N,q,F,P){b.scaleTo(N,function(){var V=this.__zoom.k,O=typeof q=="function"?q.apply(this,arguments):q;return V*O},F,P)},b.scaleTo=function(N,q,F,P){b.transform(N,function(){var V=t.apply(this,arguments),O=this.__zoom,z=F==null?_(V):typeof F=="function"?F.apply(this,arguments):F,j=O.invert(z),G=typeof q=="function"?q.apply(this,arguments):q;return n(y(E(O,G),z,j),V,o)},F,P)},b.translateBy=function(N,q,F,P){b.transform(N,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),o)},null,P)},b.translateTo=function(N,q,F,P,V){b.transform(N,function(){var O=t.apply(this,arguments),z=this.__zoom,j=P==null?_(O):typeof P=="function"?P.apply(this,arguments):P;return n(Ur.translate(j[0],j[1]).scale(z.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof F=="function"?-F.apply(this,arguments):-F),O,o)},P,V)};function E(N,q){return q=Math.max(i[0],Math.min(i[1],q)),q===N.k?N:new vr(q,N.x,N.y)}function y(N,q,F){var P=q[0]-F[0]*N.k,V=q[1]-F[1]*N.k;return P===N.x&&V===N.y?N:new vr(N.k,P,V)}function _(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function w(N,q,F,P){N.on("start.zoom",function(){S(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(P).end()}).tween("zoom",function(){var V=this,O=arguments,z=S(V,O).event(P),j=t.apply(V,O),G=F==null?_(j):typeof F=="function"?F.apply(V,O):F,K=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),Y=V.__zoom,X=typeof q=="function"?q.apply(V,O):q,re=l(Y.invert(G).concat(K/Y.k),X.invert(G).concat(K/X.k));return function(J){if(J===1)J=X;else{var fe=re(J),ve=K/fe[2];J=new vr(ve,G[0]-fe[0]*ve,G[1]-fe[1]*ve)}z.zoom(null,J)}})}function S(N,q,F){return!F&&N.__zooming||new C(N,q)}function C(N,q){this.that=N,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,q),this.taps=0}C.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,q){return this.mouse&&N!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var q=Mt(this.that).datum();c.call(N,this.that,new wA(N,{sourceEvent:this.sourceEvent,target:b,type:N,transform:this.that.__zoom,dispatch:c}),q)}};function x(N,...q){if(!e.apply(this,arguments))return;var F=S(this,q).event(N),P=this.__zoom,V=Math.max(i[0],Math.min(i[1],P.k*Math.pow(2,a.apply(this,arguments)))),O=Zt(N);if(F.wheel)(F.mouse[0][0]!==O[0]||F.mouse[0][1]!==O[1])&&(F.mouse[1]=P.invert(F.mouse[0]=O)),clearTimeout(F.wheel);else{if(P.k===V)return;F.mouse=[O,P.invert(O)],wo(this),F.start()}Ca(N),F.wheel=setTimeout(z,h),F.zoom("mouse",n(y(E(P,V),F.mouse[0],F.mouse[1]),F.extent,o));function z(){F.wheel=null,F.end()}}function T(N,...q){if(f||!e.apply(this,arguments))return;var F=N.currentTarget,P=S(this,q,!0).event(N),V=Mt(N.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",K,!0),O=Zt(N,F),z=N.clientX,j=N.clientY;Aw(N.view),Al(N),P.mouse=[O,this.__zoom.invert(O)],wo(this),P.start();function G(Y){if(Ca(Y),!P.moved){var X=Y.clientX-z,re=Y.clientY-j;P.moved=X*X+re*re>v}P.event(Y).zoom("mouse",n(y(P.that.__zoom,P.mouse[0]=Zt(Y,F),P.mouse[1]),P.extent,o))}function K(Y){V.on("mousemove.zoom mouseup.zoom",null),kw(Y.view,P.moved),Ca(Y),P.event(Y).end()}}function R(N,...q){if(e.apply(this,arguments)){var F=this.__zoom,P=Zt(N.changedTouches?N.changedTouches[0]:N,this),V=F.invert(P),O=F.k*(N.shiftKey?.5:2),z=n(y(E(F,O),P,V),t.apply(this,q),o);Ca(N),s>0?Mt(this).transition().duration(s).call(w,z,P,N):Mt(this).call(b.transform,z,P,N)}}function $(N,...q){if(e.apply(this,arguments)){var F=N.touches,P=F.length,V=S(this,q,N.changedTouches.length===P).event(N),O,z,j,G;for(Al(N),z=0;z<P;++z)j=F[z],G=Zt(j,this),G=[G,this.__zoom.invert(G),j.identifier],V.touch0?!V.touch1&&V.touch0[2]!==G[2]&&(V.touch1=G,V.taps=0):(V.touch0=G,O=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),O&&(V.taps<2&&(d=G[0],u=setTimeout(function(){u=null},p)),wo(this),V.start())}}function A(N,...q){if(this.__zooming){var F=S(this,q).event(N),P=N.changedTouches,V=P.length,O,z,j,G;for(Ca(N),O=0;O<V;++O)z=P[O],j=Zt(z,this),F.touch0&&F.touch0[2]===z.identifier?F.touch0[0]=j:F.touch1&&F.touch1[2]===z.identifier&&(F.touch1[0]=j);if(z=F.that.__zoom,F.touch1){var K=F.touch0[0],Y=F.touch0[1],X=F.touch1[0],re=F.touch1[1],J=(J=X[0]-K[0])*J+(J=X[1]-K[1])*J,fe=(fe=re[0]-Y[0])*fe+(fe=re[1]-Y[1])*fe;z=E(z,Math.sqrt(J/fe)),j=[(K[0]+X[0])/2,(K[1]+X[1])/2],G=[(Y[0]+re[0])/2,(Y[1]+re[1])/2]}else if(F.touch0)j=F.touch0[0],G=F.touch0[1];else return;F.zoom("touch",n(y(z,j,G),F.extent,o))}}function I(N,...q){if(this.__zooming){var F=S(this,q).event(N),P=N.changedTouches,V=P.length,O,z;for(Al(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),O=0;O<V;++O)z=P[O],F.touch0&&F.touch0[2]===z.identifier?delete F.touch0:F.touch1&&F.touch1[2]===z.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(z=Zt(z,this),Math.hypot(d[0]-z[0],d[1]-z[1])<g)){var j=Mt(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return b.wheelDelta=function(N){return arguments.length?(a=typeof N=="function"?N:Gi(+N),b):a},b.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Gi(!!N),b):e},b.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:Gi(!!N),b):r},b.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Gi([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),b):t},b.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],b):[i[0],i[1]]},b.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(N){return arguments.length?(n=N,b):n},b.duration=function(N){return arguments.length?(s=+N,b):s},b.interpolate=function(N){return arguments.length?(l=N,b):l},b.on=function(){var N=c.on.apply(c,arguments);return N===c?b:N},b.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,b):Math.sqrt(v)},b.tapDistance=function(N){return arguments.length?(g=+N,b):g},b}const zs=k.createContext(null),IA=zs.Provider,Yr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`},jw=Yr.error001();function Je(e,t){const n=k.useContext(zs);if(n===null)throw new Error(jw);return GI(n,e,t)}const ut=()=>{const e=k.useContext(zs);if(e===null)throw new Error(jw);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},TA=e=>e.userSelectionActive?"none":"all";function Qw({position:e,children:t,className:n,style:a,...r}){const i=Je(TA),o=`${e}`.split("-");return m("div",{className:_t(["react-flow__panel",n,...o]),style:{...a,pointerEvents:i},...r,children:t})}function RA({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:m(Qw,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const PA=({x:e,y:t,label:n,labelStyle:a={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const d=k.useRef(null),[f,p]=k.useState({x:0,y:0,width:0,height:0}),h=_t(["react-flow__edge-textwrapper",c]);return k.useEffect(()=>{if(d.current){const v=d.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:L("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...u,children:[r&&m("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),m("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:a,children:n}),l]})};var AA=k.memo(PA);const Mp=e=>({width:e.offsetWidth,height:e.offsetHeight}),ra=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Bp=(e={x:0,y:0},t)=>({x:ra(e.x,t[0][0],t[1][0]),y:ra(e.y,t[0][1],t[1][1])}),Nm=(e,t,n)=>e<t?ra(Math.abs(e-t),1,50)/50:e>n?-ra(Math.abs(e-n),1,50)/50:0,Gw=(e,t)=>{const n=Nm(e.x,35,t.width-35)*20,a=Nm(e.y,35,t.height-35)*20;return[n,a]},Yw=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},kA=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Kw=({x:e,y:t,width:n,height:a})=>({x:e,y:t,x2:e+n,y2:t+a}),qA=({x:e,y:t,x2:n,y2:a})=>({x:e,y:t,width:n-e,height:a-t}),Im=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Zc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*a)},$A=e=>Dt(e.width)&&Dt(e.height)&&Dt(e.x)&&Dt(e.y),Dt=e=>!isNaN(e)&&isFinite(e),at=Symbol.for("internals"),Xw=["Enter"," ","Escape"],DA=(e,t)=>{},FA=e=>"nativeEvent"in e;function Jc(e){var r,i;const t=FA(e)?e.nativeEvent:e,n=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Zw=e=>"clientX"in e,zr=(e,t)=>{var i,o;const n=Zw(e),a=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:a-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},xi=({path:e,labelX:t,labelY:n,label:a,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:s,labelBgBorderRadius:l,style:c,markerEnd:u,markerStart:d,interactionWidth:f=20})=>L(Q,{children:[m("path",{style:c,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:d}),f&&m("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),a&&Dt(t)&&Dt(n)?m(AA,{x:t,y:n,label:a,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:s,labelBgBorderRadius:l}):null]});xi.displayName="BaseEdge";function xa(e,t,n){return n===void 0?n:a=>{const r=t().edges.find(i=>i.id===e);r&&n(a,{...r})}}function Jw({sourceX:e,sourceY:t,targetX:n,targetY:a}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,o=Math.abs(a-t)/2,s=a<t?a+o:a-o;return[i,s,r,o]}function e0({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:r,sourceControlY:i,targetControlX:o,targetControlY:s}){const l=e*.125+r*.375+o*.375+n*.125,c=t*.125+i*.375+s*.375+a*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var _n;(function(e){e.Strict="strict",e.Loose="loose"})(_n||(_n={}));var jn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(jn||(jn={}));var Za;(function(e){e.Partial="partial",e.Full="full"})(Za||(Za={}));var mr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(mr||(mr={}));var Ja;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ja||(Ja={}));var te;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(te||(te={}));function Tm({pos:e,x1:t,y1:n,x2:a,y2:r}){return e===te.Left||e===te.Right?[.5*(t+a),n]:[t,.5*(n+r)]}function t0({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:a,targetY:r,targetPosition:i=te.Top}){const[o,s]=Tm({pos:n,x1:e,y1:t,x2:a,y2:r}),[l,c]=Tm({pos:i,x1:a,y1:r,x2:e,y2:t}),[u,d,f,p]=e0({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${o},${s} ${l},${c} ${a},${r}`,u,d,f,p]}const Up=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=te.Bottom,targetPosition:i=te.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:v})=>{const[g,b,E]=t0({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i});return m(xi,{path:g,labelX:b,labelY:E,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:v})});Up.displayName="SimpleBezierEdge";const Rm={[te.Left]:{x:-1,y:0},[te.Right]:{x:1,y:0},[te.Top]:{x:0,y:-1},[te.Bottom]:{x:0,y:1}},OA=({source:e,sourcePosition:t=te.Bottom,target:n})=>t===te.Left||t===te.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Pm=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function LA({source:e,sourcePosition:t=te.Bottom,target:n,targetPosition:a=te.Top,center:r,offset:i}){const o=Rm[t],s=Rm[a],l={x:e.x+o.x*i,y:e.y+o.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},u=OA({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let p=[],h,v;const[g,b,E,y]=Jw({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*s[d]===-1){h=r.x||g,v=r.y||b;const w=[{x:h,y:l.y},{x:h,y:c.y}],S=[{x:l.x,y:v},{x:c.x,y:v}];o[d]===f?p=d==="x"?w:S:p=d==="x"?S:w}else{const w=[{x:l.x,y:c.y}],S=[{x:c.x,y:l.y}];if(d==="x"?p=o.x===f?S:w:p=o.y===f?w:S,t!==a){const C=d==="x"?"y":"x",x=o[d]===s[C],T=l[C]>c[C],R=l[C]<c[C];(o[d]===1&&(!x&&T||x&&R)||o[d]!==1&&(!x&&R||x&&T))&&(p=d==="x"?w:S)}h=p[0].x,v=p[0].y}return[[e,l,...p,c,n],h,v,E,y]}function VA(e,t,n,a){const r=Math.min(Pm(e,t)/2,Pm(t,n)/2,a),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+r*c},${o}Q ${i},${o} ${i},${o+r*u}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+r*l}Q ${i},${o} ${i+r*s},${o}`}function ed({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:a,targetY:r,targetPosition:i=te.Top,borderRadius:o=5,centerX:s,centerY:l,offset:c=20}){const[u,d,f,p,h]=LA({source:{x:e,y:t},sourcePosition:n,target:{x:a,y:r},targetPosition:i,center:{x:s,y:l},offset:c});return[u.reduce((g,b,E)=>{let y="";return E>0&&E<u.length-1?y=VA(u[E-1],b,u[E+1],o):y=`${E===0?"M":"L"}${b.x} ${b.y}`,g+=y,g},""),d,f,p,h]}const Hs=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=te.Bottom,targetPosition:f=te.Top,markerEnd:p,markerStart:h,pathOptions:v,interactionWidth:g})=>{const[b,E,y]=ed({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:a,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return m(xi,{path:b,labelX:E,labelY:y,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:p,markerStart:h,interactionWidth:g})});Hs.displayName="SmoothStepEdge";const zp=k.memo(e=>{var t;return m(Hs,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});zp.displayName="StepEdge";function MA({sourceX:e,sourceY:t,targetX:n,targetY:a}){const[r,i,o,s]=Jw({sourceX:e,sourceY:t,targetX:n,targetY:a});return[`M ${e},${t}L ${n},${a}`,r,i,o,s]}const Hp=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:p})=>{const[h,v,g]=MA({sourceX:e,sourceY:t,targetX:n,targetY:a});return m(xi,{path:h,labelX:v,labelY:g,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:p})});Hp.displayName="StraightEdge";function Yi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Am({pos:e,x1:t,y1:n,x2:a,y2:r,c:i}){switch(e){case te.Left:return[t-Yi(t-a,i),n];case te.Right:return[t+Yi(a-t,i),n];case te.Top:return[t,n-Yi(n-r,i)];case te.Bottom:return[t,n+Yi(r-n,i)]}}function r0({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:a,targetY:r,targetPosition:i=te.Top,curvature:o=.25}){const[s,l]=Am({pos:n,x1:e,y1:t,x2:a,y2:r,c:o}),[c,u]=Am({pos:i,x1:a,y1:r,x2:e,y2:t,c:o}),[d,f,p,h]=e0({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${a},${r}`,d,f,p,h]}const Mo=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=te.Bottom,targetPosition:i=te.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,pathOptions:v,interactionWidth:g})=>{const[b,E,y]=r0({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i,curvature:v==null?void 0:v.curvature});return m(xi,{path:b,labelX:E,labelY:y,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:g})});Mo.displayName="BezierEdge";const Wp=k.createContext(null),BA=Wp.Provider;Wp.Consumer;const UA=()=>k.useContext(Wp),zA=e=>"id"in e&&"source"in e&&"target"in e,HA=({source:e,sourceHandle:t,target:n,targetHandle:a})=>`reactflow__edge-${e}${t||""}-${n}${a||""}`,td=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`,WA=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),jA=(e,t)=>{if(!e.source||!e.target)return t;let n;return zA(e)?n={...e}:n={...e,id:HA(e)},WA(n,t)?t:t.concat(n)},n0=({x:e,y:t},[n,a,r],i,[o,s])=>{const l={x:(e-n)/r,y:(t-a)/r};return i?{x:o*Math.round(l.x/o),y:s*Math.round(l.y/s)}:l},QA=({x:e,y:t},[n,a,r])=>({x:e*r+n,y:t*r+a}),Qn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],a=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-a};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-a}:r}},a0=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((a,r)=>{const{x:i,y:o}=Qn(r,t).positionAbsolute;return kA(a,Kw({x:i,y:o,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qA(n)},i0=(e,t,[n,a,r]=[0,0,1],i=!1,o=!1,s=[0,0])=>{const l={x:(t.x-n)/r,y:(t.y-a)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach(u=>{const{width:d,height:f,selectable:p=!0,hidden:h=!1}=u;if(o&&!p||h)return!1;const{positionAbsolute:v}=Qn(u,s),g={x:v.x,y:v.y,width:d||0,height:f||0},b=Zc(l,g),E=typeof d>"u"||typeof f>"u"||d===null||f===null,y=i&&b>0,_=(d||0)*(f||0);(E||y||b>=_||u.dragging)&&c.push(u)}),c},jp=(e,t)=>{const n=e.map(a=>a.id);return t.filter(a=>n.includes(a.source)||n.includes(a.target))},o0=(e,t,n,a,r,i=.1)=>{const o=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(o,s),c=ra(l,a,r),u=e.x+e.width/2,d=e.y+e.height/2,f=t/2-u*c,p=n/2-d*c;return[f,p,c]},on=(e,t=0)=>e.transition().duration(t);function km(e,t,n,a){return(t[n]||[]).reduce((r,i)=>{var o,s;return`${e.id}-${i.id}-${n}`!==a&&r.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+i.y+i.height/2}),r},[])}function GA(e,t,n){let a=null,r=1/0;return n.forEach(i=>{const o=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));o<=t&&o<r&&(r=o,a=i)}),a}const YA={source:null,target:null,sourceHandle:null,targetHandle:null};function s0(e,t,n,a,r,i,o,s){const l=i==="target",c=s.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:u,y:d}=zr(e),f=s.elementFromPoint(u,d),p=f!=null&&f.classList.contains("react-flow__handle")?f:c,h={handleDomNode:p,isValid:!1,connection:YA,endHandle:null};if(p){const v=l0(void 0,p),g=p.getAttribute("data-nodeid"),b=p.getAttribute("data-handleid"),E=p.classList.contains("connectable"),y=p.classList.contains("connectableend"),_={source:l?g:a,sourceHandle:l?b:r,target:l?a:g,targetHandle:l?r:b};h.connection=_,E&&y&&(n===_n.Strict?l&&v==="source"||!l&&v==="target":g!==a||b!==r)&&(h.endHandle={nodeId:g,handleId:b,type:v},h.isValid=o(_))}return h}function KA({nodes:e,nodeId:t,handleId:n,handleType:a}){return e.reduce((r,i)=>{if(i[at]){const{handleBounds:o}=i[at];let s=[],l=[];o&&(s=km(i,o,"source",`${t}-${n}-${a}`),l=km(i,o,"target",`${t}-${n}-${a}`)),r.push(...s,...l)}return r},[])}function l0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function kl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function XA(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function u0({event:e,handleId:t,nodeId:n,onConnect:a,isTarget:r,getState:i,setState:o,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:c}){const u=Yw(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:p,connectionRadius:h,onConnectStart:v,panBy:g,getNodes:b,cancelConnection:E}=i();let y=0,_;const{x:w,y:S}=zr(e),C=u==null?void 0:u.elementFromPoint(w,S),x=l0(l,C),T=f==null?void 0:f.getBoundingClientRect();if(!T||!x)return;let R,$=zr(e,T),A=!1,I=null,N=!1,q=null;const F=KA({nodes:b(),nodeId:n,handleId:t,handleType:x}),P=()=>{if(!p)return;const[z,j]=Gw($,T);g({x:z,y:j}),y=requestAnimationFrame(P)};o({connectionPosition:$,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:x,connectionStartHandle:{nodeId:n,handleId:t,type:x},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:x});function V(z){const{transform:j}=i();$=zr(z,T),_=GA(n0($,j,!1,[1,1]),h,F),A||(P(),A=!0);const G=s0(z,_,d,n,t,r?"target":"source",s,u);if(q=G.handleDomNode,I=G.connection,N=G.isValid,o({connectionPosition:_&&N?QA({x:_.x,y:_.y},j):$,connectionStatus:XA(!!_,N),connectionEndHandle:G.endHandle}),!_&&!N&&!q)return kl(R);I.source!==I.target&&q&&(kl(R),R=q,q.classList.add("connecting","react-flow__handle-connecting"),q.classList.toggle("valid",N),q.classList.toggle("react-flow__handle-valid",N))}function O(z){var j,G;(_||q)&&I&&N&&(a==null||a(I)),(G=(j=i()).onConnectEnd)==null||G.call(j,z),l&&(c==null||c(z)),kl(R),E(),cancelAnimationFrame(y),A=!1,N=!1,I=null,q=null,u.removeEventListener("mousemove",V),u.removeEventListener("mouseup",O),u.removeEventListener("touchmove",V),u.removeEventListener("touchend",O)}u.addEventListener("mousemove",V),u.addEventListener("mouseup",O),u.addEventListener("touchmove",V),u.addEventListener("touchend",O)}const qm=()=>!0,ZA=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),JA=(e,t,n)=>a=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:o}=a;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},c0=k.forwardRef(({type:e="source",position:t=te.Top,isValidConnection:n,isConnectable:a=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:o,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:d,...f},p)=>{var T,R;const h=o||null,v=e==="target",g=ut(),b=UA(),{connectOnClick:E,noPanClassName:y}=Je(ZA,Rt),{connecting:_,clickConnecting:w}=Je(JA(b,h,e));b||(R=(T=g.getState()).onError)==null||R.call(T,"010",Yr.error010());const S=$=>{const{defaultEdgeOptions:A,onConnect:I,hasDefaultEdges:N}=g.getState(),q={...A,...$};if(N){const{edges:F,setEdges:P}=g.getState();P(jA(q,F))}I==null||I(q),s==null||s(q)},C=$=>{if(!b)return;const A=Zw($);r&&(A&&$.button===0||!A)&&u0({event:$,handleId:h,nodeId:b,onConnect:S,isTarget:v,getState:g.getState,setState:g.setState,isValidConnection:n||g.getState().isValidConnection||qm}),A?u==null||u($):d==null||d($)},x=$=>{const{onClickConnectStart:A,onClickConnectEnd:I,connectionClickStartHandle:N,connectionMode:q,isValidConnection:F}=g.getState();if(!b||!N&&!r)return;if(!N){A==null||A($,{nodeId:b,handleId:h,handleType:e}),g.setState({connectionClickStartHandle:{nodeId:b,type:e,handleId:h}});return}const P=Yw($.target),V=n||F||qm,{connection:O,isValid:z}=s0($,{nodeId:b,id:h,type:e},q,N.nodeId,N.handleId||null,N.type,V,P);z&&S(O),I==null||I($),g.setState({connectionClickStartHandle:null})};return m("div",{"data-handleid":h,"data-nodeid":b,"data-handlepos":t,"data-id":`${b}-${h}-${e}`,className:_t(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!v,target:v,connectable:a,connectablestart:r,connectableend:i,connecting:w,connectionindicator:a&&(r&&!_||i&&_)}]),onMouseDown:C,onTouchStart:C,onClick:E?x:void 0,ref:p,...f,children:l})});c0.displayName="Handle";var Bo=k.memo(c0);const d0=({data:e,isConnectable:t,targetPosition:n=te.Top,sourcePosition:a=te.Bottom})=>L(Q,{children:[m(Bo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,m(Bo,{type:"source",position:a,isConnectable:t})]});d0.displayName="DefaultNode";var rd=k.memo(d0);const f0=({data:e,isConnectable:t,sourcePosition:n=te.Bottom})=>L(Q,{children:[e==null?void 0:e.label,m(Bo,{type:"source",position:n,isConnectable:t})]});f0.displayName="InputNode";var p0=k.memo(f0);const h0=({data:e,isConnectable:t,targetPosition:n=te.Top})=>L(Q,{children:[m(Bo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});h0.displayName="OutputNode";var m0=k.memo(h0);const Qp=()=>null;Qp.displayName="GroupNode";const ek=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Ki=e=>e.id;function tk(e,t){return Rt(e.selectedNodes.map(Ki),t.selectedNodes.map(Ki))&&Rt(e.selectedEdges.map(Ki),t.selectedEdges.map(Ki))}const v0=k.memo(({onSelectionChange:e})=>{const t=ut(),{selectedNodes:n,selectedEdges:a}=Je(ek,tk);return k.useEffect(()=>{var i,o;const r={nodes:n,edges:a};e==null||e(r),(o=(i=t.getState()).onSelectionChange)==null||o.call(i,r)},[n,a,e]),null});v0.displayName="SelectionListener";const rk=e=>!!e.onSelectionChange;function nk({onSelectionChange:e}){const t=Je(rk);return e||t?m(v0,{onSelectionChange:e}):null}const ak=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function qn(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ee(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const ik=({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:r,onConnectStart:i,onConnectEnd:o,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:h,minZoom:v,maxZoom:g,nodeExtent:b,onNodesChange:E,onEdgesChange:y,elementsSelectable:_,connectionMode:w,snapGrid:S,snapToGrid:C,translateExtent:x,connectOnClick:T,defaultEdgeOptions:R,fitView:$,fitViewOptions:A,onNodesDelete:I,onEdgesDelete:N,onNodeDrag:q,onNodeDragStart:F,onNodeDragStop:P,onSelectionDrag:V,onSelectionDragStart:O,onSelectionDragStop:z,noPanClassName:j,nodeOrigin:G,rfId:K,autoPanOnConnect:Y,autoPanOnNodeDrag:X,onError:re,connectionRadius:J,isValidConnection:fe})=>{const{setNodes:ve,setEdges:ne,setDefaultNodesAndEdges:ce,setMinZoom:Ie,setMaxZoom:be,setTranslateExtent:ae,setNodeExtent:de,reset:we}=Je(ak,Rt),ie=ut();return k.useEffect(()=>{const Qe=a==null?void 0:a.map(Te=>({...Te,...R}));return ce(n,Qe),()=>{we()}},[]),Ee("defaultEdgeOptions",R,ie.setState),Ee("connectionMode",w,ie.setState),Ee("onConnect",r,ie.setState),Ee("onConnectStart",i,ie.setState),Ee("onConnectEnd",o,ie.setState),Ee("onClickConnectStart",s,ie.setState),Ee("onClickConnectEnd",l,ie.setState),Ee("nodesDraggable",c,ie.setState),Ee("nodesConnectable",u,ie.setState),Ee("nodesFocusable",d,ie.setState),Ee("edgesFocusable",f,ie.setState),Ee("edgesUpdatable",p,ie.setState),Ee("elementsSelectable",_,ie.setState),Ee("elevateNodesOnSelect",h,ie.setState),Ee("snapToGrid",C,ie.setState),Ee("snapGrid",S,ie.setState),Ee("onNodesChange",E,ie.setState),Ee("onEdgesChange",y,ie.setState),Ee("connectOnClick",T,ie.setState),Ee("fitViewOnInit",$,ie.setState),Ee("fitViewOnInitOptions",A,ie.setState),Ee("onNodesDelete",I,ie.setState),Ee("onEdgesDelete",N,ie.setState),Ee("onNodeDrag",q,ie.setState),Ee("onNodeDragStart",F,ie.setState),Ee("onNodeDragStop",P,ie.setState),Ee("onSelectionDrag",V,ie.setState),Ee("onSelectionDragStart",O,ie.setState),Ee("onSelectionDragStop",z,ie.setState),Ee("noPanClassName",j,ie.setState),Ee("nodeOrigin",G,ie.setState),Ee("rfId",K,ie.setState),Ee("autoPanOnConnect",Y,ie.setState),Ee("autoPanOnNodeDrag",X,ie.setState),Ee("onError",re,ie.setState),Ee("connectionRadius",J,ie.setState),Ee("isValidConnection",fe,ie.setState),qn(e,ve),qn(t,ne),qn(v,Ie),qn(g,be),qn(x,ae),qn(b,de),null},$m={display:"none"},ok={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},g0="react-flow__node-desc",y0="react-flow__edge-desc",sk="react-flow__aria-live",lk=e=>e.ariaLiveMessage;function uk({rfId:e}){const t=Je(lk);return m("div",{id:`${sk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:ok,children:t})}function ck({rfId:e,disableKeyboardA11y:t}){return L(Q,{children:[L("div",{id:`${g0}-${e}`,style:$m,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m("div",{id:`${y0}-${e}`,style:$m,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&m(uk,{rfId:e})]})}const dk=(e,t,n)=>n===te.Left?e-t:n===te.Right?e+t:e,fk=(e,t,n)=>n===te.Top?e-t:n===te.Bottom?e+t:e,Dm="react-flow__edgeupdater",Fm=({position:e,centerX:t,centerY:n,radius:a=10,onMouseDown:r,onMouseEnter:i,onMouseOut:o,type:s})=>m("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:o,className:_t([Dm,`${Dm}-${s}`]),cx:dk(t,a,e),cy:fk(n,a,e),r:a,stroke:"transparent",fill:"transparent"}),pk=()=>!0;var $n=e=>{const t=({id:n,className:a,type:r,data:i,onClick:o,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:v,style:g,source:b,target:E,sourceX:y,sourceY:_,targetX:w,targetY:S,sourcePosition:C,targetPosition:x,elementsSelectable:T,hidden:R,sourceHandleId:$,targetHandleId:A,onContextMenu:I,onMouseEnter:N,onMouseMove:q,onMouseLeave:F,edgeUpdaterRadius:P,onEdgeUpdate:V,onEdgeUpdateStart:O,onEdgeUpdateEnd:z,markerEnd:j,markerStart:G,rfId:K,ariaLabel:Y,isFocusable:X,isUpdatable:re,pathOptions:J,interactionWidth:fe})=>{const ve=k.useRef(null),[ne,ce]=k.useState(!1),[Ie,be]=k.useState(!1),ae=ut(),de=k.useMemo(()=>`url(#${td(G,K)})`,[G,K]),we=k.useMemo(()=>`url(#${td(j,K)})`,[j,K]);if(R)return null;const ie=Be=>{const{edges:He,addSelectedEdges:Et}=ae.getState();if(T&&(ae.setState({nodesSelectionActive:!1}),Et([n])),o){const dt=He.find(Gt=>Gt.id===n);o(Be,dt)}},Qe=xa(n,ae.getState,s),Te=xa(n,ae.getState,I),Me=xa(n,ae.getState,N),it=xa(n,ae.getState,q),Re=xa(n,ae.getState,F),Z=(Be,He)=>{if(Be.button!==0)return;const{edges:Et,isValidConnection:dt}=ae.getState(),Gt=He?E:b,An=(He?A:$)||null,Yt=He?"target":"source",ht=dt||pk,ga=He,nn=Et.find(ur=>ur.id===n);be(!0),O==null||O(Be,nn,Yt);const ya=ur=>{be(!1),z==null||z(ur,nn,Yt)};u0({event:Be,handleId:An,nodeId:Gt,onConnect:ur=>V==null?void 0:V(nn,ur),isTarget:ga,getState:ae.getState,setState:ae.setState,isValidConnection:ht,edgeUpdaterType:Yt,onEdgeUpdateEnd:ya})},le=Be=>Z(Be,!0),pe=Be=>Z(Be,!1),xe=()=>ce(!0),he=()=>ce(!1),kt=!T&&!o,ye=Be=>{var He;if(Xw.includes(Be.key)&&T){const{unselectNodesAndEdges:Et,addSelectedEdges:dt,edges:Gt}=ae.getState();Be.key==="Escape"?((He=ve.current)==null||He.blur(),Et({edges:[Gt.find(Yt=>Yt.id===n)]})):dt([n])}};return L("g",{className:_t(["react-flow__edge",`react-flow__edge-${r}`,a,{selected:l,animated:c,inactive:kt,updating:ne}]),onClick:ie,onDoubleClick:Qe,onContextMenu:Te,onMouseEnter:Me,onMouseMove:it,onMouseLeave:Re,onKeyDown:X?ye:void 0,tabIndex:X?0:void 0,role:X?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${b} to ${E}`,"aria-describedby":X?`${y0}-${K}`:void 0,ref:ve,children:[!Ie&&m(e,{id:n,source:b,target:E,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:v,data:i,style:g,sourceX:y,sourceY:_,targetX:w,targetY:S,sourcePosition:C,targetPosition:x,sourceHandleId:$,targetHandleId:A,markerStart:de,markerEnd:we,pathOptions:J,interactionWidth:fe}),re&&L(Q,{children:[(re==="source"||re===!0)&&m(Fm,{position:C,centerX:y,centerY:_,radius:P,onMouseDown:le,onMouseEnter:xe,onMouseOut:he,type:"source"}),(re==="target"||re===!0)&&m(Fm,{position:x,centerX:w,centerY:S,radius:P,onMouseDown:pe,onMouseEnter:xe,onMouseOut:he,type:"target"})]})]})};return t.displayName="EdgeWrapper",k.memo(t)};function hk(e){const t={default:$n(e.default||Mo),straight:$n(e.bezier||Hp),step:$n(e.step||zp),smoothstep:$n(e.step||Hs),simplebezier:$n(e.simplebezier||Up)},n={},a=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,i)=>(r[i]=$n(e[i]||Mo),r),n);return{...t,...a}}function Om(e,t,n=null){const a=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case te.Top:return{x:a+i/2,y:r};case te.Right:return{x:a+i,y:r+o/2};case te.Bottom:return{x:a+i/2,y:r+o};case te.Left:return{x:a,y:r+o/2}}}function Lm(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const mk=(e,t,n,a,r,i)=>{const o=Om(n,e,t),s=Om(i,a,r);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}};function vk({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:a,targetWidth:r,targetHeight:i,width:o,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+a,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Kw({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:s/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*f)>0}function Vm(e){var a,r,i,o,s;const t=((a=e==null?void 0:e[at])==null?void 0:a.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function b0(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:b0(n,t):!1}function Mm(e,t,n){let a=e;do{if(a!=null&&a.matches(t))return!0;if(a===n.current)return!1;a=a.parentElement}while(a);return!1}function gk(e,t,n,a){return Array.from(e.values()).filter(r=>(r.selected||r.id===a)&&(!r.parentNode||!b0(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var i,o;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=r.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=r.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}})}function w0(e,t,n,a,r=[0,0],i){let o=e.extent||a;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const c=n.get(e.parentNode),{x:u,y:d}=Qn(c,r).positionAbsolute;o=c&&Dt(u)&&Dt(d)&&Dt(c.width)&&Dt(c.height)?[[u+e.width*r[0],d+e.height*r[1]],[u+c.width-e.width+e.width*r[0],d+c.height-e.height+e.height*r[1]]]:o}else i==null||i("005",Yr.error005()),o=a;else if(e.extent&&e.parentNode){const c=n.get(e.parentNode),{x:u,y:d}=Qn(c,r).positionAbsolute;o=[[e.extent[0][0]+u,e.extent[0][1]+d],[e.extent[1][0]+u,e.extent[1][1]+d]]}let s={x:0,y:0};if(e.parentNode){const c=n.get(e.parentNode);s=Qn(c,r).positionAbsolute}const l=o?Bp(t,o):t;return{position:{x:l.x-s.x,y:l.y-s.y},positionAbsolute:l}}function ql({nodeId:e,dragItems:t,nodeInternals:n}){const a=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?a.find(r=>r.id===e):a[0],a]}const Bm=(e,t,n,a)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),o=t.getBoundingClientRect(),s={x:o.width*a[0],y:o.height*a[1]};return i.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-s.x)/n,y:(c.top-o.top-s.y)/n,...Mp(l)}})};function Na(e,t,n){return n===void 0?n:a=>{const r=t().nodeInternals.get(e);n(a,{...r})}}function nd({id:e,store:t,unselect:n=!1,nodeRef:a}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:s}=t.getState(),l=s.get(e);t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&o)&&(i({nodes:[l]}),requestAnimationFrame(()=>{var c;return(c=a==null?void 0:a.current)==null?void 0:c.blur()})):r([e])}function yk(){const e=ut();return k.useCallback(({sourceEvent:n})=>{const{transform:a,snapGrid:r,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-a[0])/a[2],y:(s-a[1])/a[2]};return{xSnapped:i?r[0]*Math.round(l.x/r[0]):l.x,ySnapped:i?r[1]*Math.round(l.y/r[1]):l.y,...l}},[])}function $l(e){return(t,n,a)=>e==null?void 0:e(t,a)}function S0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:a,nodeId:r,isSelectable:i,selectNodesOnDrag:o}){const s=ut(),[l,c]=k.useState(!1),u=k.useRef([]),d=k.useRef({x:null,y:null}),f=k.useRef(0),p=k.useRef(null),h=k.useRef({x:0,y:0}),v=k.useRef(null),g=k.useRef(!1),b=yk();return k.useEffect(()=>{if(e!=null&&e.current){const E=Mt(e.current),y=({x:w,y:S})=>{const{nodeInternals:C,onNodeDrag:x,onSelectionDrag:T,updateNodePositions:R,nodeExtent:$,snapGrid:A,snapToGrid:I,nodeOrigin:N,onError:q}=s.getState();d.current={x:w,y:S};let F=!1;if(u.current=u.current.map(V=>{const O={x:w-V.distance.x,y:S-V.distance.y};I&&(O.x=A[0]*Math.round(O.x/A[0]),O.y=A[1]*Math.round(O.y/A[1]));const z=w0(V,O,C,$,N,q);return F=F||V.position.x!==z.position.x||V.position.y!==z.position.y,V.position=z.position,V.positionAbsolute=z.positionAbsolute,V}),!F)return;R(u.current,!0,!0),c(!0);const P=r?x:$l(T);if(P&&v.current){const[V,O]=ql({nodeId:r,dragItems:u.current,nodeInternals:C});P(v.current,V,O)}},_=()=>{if(!p.current)return;const[w,S]=Gw(h.current,p.current);if(w!==0||S!==0){const{transform:C,panBy:x}=s.getState();d.current.x=(d.current.x??0)-w/C[2],d.current.y=(d.current.y??0)-S/C[2],y(d.current),x({x:w,y:S})}f.current=requestAnimationFrame(_)};if(t)E.on(".drag",null);else{const w=FR().on("start",S=>{var F;const{nodeInternals:C,multiSelectionActive:x,domNode:T,nodesDraggable:R,unselectNodesAndEdges:$,onNodeDragStart:A,onSelectionDragStart:I}=s.getState(),N=r?A:$l(I);!o&&!x&&r&&((F=C.get(r))!=null&&F.selected||$()),r&&i&&o&&nd({id:r,store:s,nodeRef:e});const q=b(S);if(d.current=q,u.current=gk(C,R,q,r),N&&u.current){const[P,V]=ql({nodeId:r,dragItems:u.current,nodeInternals:C});N(S.sourceEvent,P,V)}p.current=(T==null?void 0:T.getBoundingClientRect())||null,h.current=zr(S.sourceEvent,p.current)}).on("drag",S=>{const C=b(S),{autoPanOnNodeDrag:x}=s.getState();!g.current&&x&&(g.current=!0,_()),(d.current.x!==C.xSnapped||d.current.y!==C.ySnapped)&&u.current&&(v.current=S.sourceEvent,h.current=zr(S.sourceEvent,p.current),y(C))}).on("end",S=>{if(c(!1),g.current=!1,cancelAnimationFrame(f.current),u.current){const{updateNodePositions:C,nodeInternals:x,onNodeDragStop:T,onSelectionDragStop:R}=s.getState(),$=r?T:$l(R);if(C(u.current,!1,!1),$){const[A,I]=ql({nodeId:r,dragItems:u.current,nodeInternals:x});$(S.sourceEvent,A,I)}}}).filter(S=>{const C=S.target;return!S.button&&(!n||!Mm(C,`.${n}`,e))&&(!a||Mm(C,a,e))});return E.call(w),()=>{E.on(".drag",null)}}}},[e,t,n,a,i,s,r,o,b]),l}function _0(){const e=ut();return k.useCallback(n=>{const{nodeInternals:a,nodeExtent:r,updateNodePositions:i,getNodes:o,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=o().filter(E=>E.selected&&(E.draggable||u&&typeof E.draggable>"u")),f=s?l[0]:5,p=s?l[1]:5,h=n.isShiftPressed?4:1,v=n.x*f*h,g=n.y*p*h,b=d.map(E=>{if(E.positionAbsolute){const y={x:E.positionAbsolute.x+v,y:E.positionAbsolute.y+g};s&&(y.x=l[0]*Math.round(y.x/l[0]),y.y=l[1]*Math.round(y.y/l[1]));const{positionAbsolute:_,position:w}=w0(E,y,a,r,void 0,c);E.position=w,E.positionAbsolute=_}return E});i(b,!0,!1)},[])}const Gn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ia=e=>{const t=({id:n,type:a,data:r,xPos:i,yPos:o,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:p,onContextMenu:h,onDoubleClick:v,style:g,className:b,isDraggable:E,isSelectable:y,isConnectable:_,isFocusable:w,selectNodesOnDrag:S,sourcePosition:C,targetPosition:x,hidden:T,resizeObserver:R,dragHandle:$,zIndex:A,isParent:I,noDragClassName:N,noPanClassName:q,initialized:F,disableKeyboardA11y:P,ariaLabel:V,rfId:O})=>{const z=ut(),j=k.useRef(null),G=k.useRef(C),K=k.useRef(x),Y=k.useRef(a),X=y||E||u||d||f||p,re=_0(),J=Na(n,z.getState,d),fe=Na(n,z.getState,f),ve=Na(n,z.getState,p),ne=Na(n,z.getState,h),ce=Na(n,z.getState,v),Ie=de=>{if(y&&(!S||!E)&&nd({id:n,store:z,nodeRef:j}),u){const we=z.getState().nodeInternals.get(n);u(de,{...we})}},be=de=>{if(!Jc(de))if(Xw.includes(de.key)&&y){const we=de.key==="Escape";nd({id:n,store:z,unselect:we,nodeRef:j})}else!P&&E&&c&&Object.prototype.hasOwnProperty.call(Gn,de.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${de.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),re({x:Gn[de.key].x,y:Gn[de.key].y,isShiftPressed:de.shiftKey}))};k.useEffect(()=>{if(j.current&&!T){const de=j.current;return R==null||R.observe(de),()=>R==null?void 0:R.unobserve(de)}},[T]),k.useEffect(()=>{const de=Y.current!==a,we=G.current!==C,ie=K.current!==x;j.current&&(de||we||ie)&&(de&&(Y.current=a),we&&(G.current=C),ie&&(K.current=x),z.getState().updateNodeDimensions([{id:n,nodeElement:j.current,forceUpdate:!0}]))},[n,a,C,x]);const ae=S0({nodeRef:j,disabled:T||!E,noDragClassName:N,handleSelector:$,nodeId:n,isSelectable:y,selectNodesOnDrag:S});return T?null:m("div",{className:_t(["react-flow__node",`react-flow__node-${a}`,{[q]:E},b,{selected:c,selectable:y,parent:I,dragging:ae}]),ref:j,style:{zIndex:A,transform:`translate(${s}px,${l}px)`,pointerEvents:X?"all":"none",visibility:F?"visible":"hidden",...g},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:J,onMouseMove:fe,onMouseLeave:ve,onContextMenu:ne,onClick:Ie,onDoubleClick:ce,onKeyDown:w?be:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":P?void 0:`${g0}-${O}`,"aria-label":V,children:m(BA,{value:n,children:m(e,{id:n,data:r,type:a,xPos:i,yPos:o,selected:c,isConnectable:_,sourcePosition:C,targetPosition:x,dragging:ae,dragHandle:$,zIndex:A})})})};return t.displayName="NodeWrapper",k.memo(t)};function bk(e){const t={input:Ia(e.input||p0),default:Ia(e.default||rd),output:Ia(e.output||m0),group:Ia(e.group||Qp)},n={},a=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,i)=>(r[i]=Ia(e[i]||rd),r),n);return{...t,...a}}const wk=({x:e,y:t,width:n,height:a,origin:r})=>!n||!a?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-a*r[1]},Sk=typeof document<"u"?document:null;var ei=(e=null,t={target:Sk})=>{const[n,a]=k.useState(!1),r=k.useRef(!1),i=k.useRef(new Set([])),[o,s]=k.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,f)=>d.concat(...f),[]);return[c,u]}return[[],[]]},[e]);return k.useEffect(()=>{var l,c;if(e!==null){const u=p=>{if(r.current=p.ctrlKey||p.metaKey||p.shiftKey,!r.current&&Jc(p))return!1;const h=zm(p.code,s);i.current.add(p[h]),Um(o,i.current,!1)&&(p.preventDefault(),a(!0))},d=p=>{if(!r.current&&Jc(p))return!1;const h=zm(p.code,s);Um(o,i.current,!0)?(a(!1),i.current.clear()):i.current.delete(p[h]),r.current=!1},f=()=>{i.current.clear(),a(!1)};return(l=t==null?void 0:t.target)==null||l.addEventListener("keydown",u),(c=t==null?void 0:t.target)==null||c.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{var p,h;(p=t==null?void 0:t.target)==null||p.removeEventListener("keydown",u),(h=t==null?void 0:t.target)==null||h.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,a]),n};function Um(e,t,n){return e.filter(a=>n||a.length===t.size).some(a=>a.every(r=>t.has(r)))}function zm(e,t){return t.includes(e)?"code":"key"}function E0(e,t,n,a){var o,s;if(!e.parentNode)return n;const r=t.get(e.parentNode),i=Qn(r,a);return E0(r,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((o=r[at])==null?void 0:o.z)??0)>(n.z??0)?((s=r[at])==null?void 0:s.z)??0:n.z??0},a)}function C0(e,t,n){e.forEach(a=>{var r;if(a.parentNode&&!e.has(a.parentNode))throw new Error(`Parent node ${a.parentNode} not found`);if(a.parentNode||n!=null&&n[a.id]){const{x:i,y:o,z:s}=E0(a,e,{...a.position,z:((r=a[at])==null?void 0:r.z)??0},t);a.positionAbsolute={x:i,y:o},a[at].z=s,n!=null&&n[a.id]&&(a[at].isParent=!0)}})}function Dl(e,t,n,a){const r=new Map,i={},o=a?1e3:0;return e.forEach(s=>{var d;const l=(Dt(s.zIndex)?s.zIndex:0)+(s.selected?o:0),c=t.get(s.id),u={width:c==null?void 0:c.width,height:c==null?void 0:c.height,...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(u.parentNode=s.parentNode,i[s.parentNode]=!0),Object.defineProperty(u,at,{enumerable:!1,value:{handleBounds:(d=c==null?void 0:c[at])==null?void 0:d.handleBounds,z:l}}),r.set(s.id,u)}),C0(r,n,i),r}function x0(e,t={}){const{getNodes:n,width:a,height:r,minZoom:i,maxZoom:o,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!c&&u;if(s&&l&&(f||!t.initial)){const h=n().filter(g=>{var E;const b=t.includeHiddenNodes?g.width&&g.height:!g.hidden;return(E=t.nodes)!=null&&E.length?b&&t.nodes.some(y=>y.id===g.id):b}),v=h.every(g=>g.width&&g.height);if(h.length>0&&v){const g=a0(h,d),[b,E,y]=o0(g,a,r,t.minZoom??i,t.maxZoom??o,t.padding??.1),_=Ur.translate(b,E).scale(y);return typeof t.duration=="number"&&t.duration>0?s.transform(on(l,t.duration),_):s.transform(l,_),!0}}return!1}function _k(e,t){return e.forEach(n=>{const a=t.get(n.id);a&&t.set(a.id,{...a,[at]:a[at],selected:n.selected})}),new Map(t)}function Ek(e,t){return t.map(n=>{const a=e.find(r=>r.id===n.id);return a&&(n.selected=a.selected),n})}function Xi({changedNodes:e,changedEdges:t,get:n,set:a}){const{nodeInternals:r,edges:i,onNodesChange:o,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&a({nodeInternals:_k(e,r)}),o==null||o(e)),t!=null&&t.length&&(c&&a({edges:Ek(t,i)}),s==null||s(t))}const Dn=()=>{},Ck={zoomIn:Dn,zoomOut:Dn,zoomTo:Dn,getZoom:()=>1,setViewport:Dn,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Dn,fitBounds:Dn,project:e=>e,viewportInitialized:!1},xk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Nk=()=>{const e=ut(),{d3Zoom:t,d3Selection:n}=Je(xk,Rt);return k.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(on(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(on(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,i)=>t.scaleTo(on(n,i==null?void 0:i.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{const[o,s,l]=e.getState().transform,c=Ur.translate(r.x??o,r.y??s).scale(r.zoom??l);t.transform(on(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[r,i,o]=e.getState().transform;return{x:r,y:i,zoom:o}},fitView:r=>x0(e.getState,r),setCenter:(r,i,o)=>{const{width:s,height:l,maxZoom:c}=e.getState(),u=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,d=s/2-r*u,f=l/2-i*u,p=Ur.translate(d,f).scale(u);t.transform(on(n,o==null?void 0:o.duration),p)},fitBounds:(r,i)=>{const{width:o,height:s,minZoom:l,maxZoom:c}=e.getState(),[u,d,f]=o0(r,o,s,l,c,(i==null?void 0:i.padding)??.1),p=Ur.translate(u,d).scale(f);t.transform(on(n,i==null?void 0:i.duration),p)},project:r=>{const{transform:i,snapToGrid:o,snapGrid:s}=e.getState();return n0(r,i,o,s)},viewportInitialized:!0}:Ck,[t,n])};function Ws(){const e=Nk(),t=ut(),n=k.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),a=k.useCallback(v=>t.getState().nodeInternals.get(v),[]),r=k.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(g=>({...g}))},[]),i=k.useCallback(v=>{const{edges:g=[]}=t.getState();return g.find(b=>b.id===v)},[]),o=k.useCallback(v=>{const{getNodes:g,setNodes:b,hasDefaultNodes:E,onNodesChange:y}=t.getState(),_=g(),w=typeof v=="function"?v(_):v;if(E)b(w);else if(y){const S=w.length===0?_.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));y(S)}},[]),s=k.useCallback(v=>{const{edges:g=[],setEdges:b,hasDefaultEdges:E,onEdgesChange:y}=t.getState(),_=typeof v=="function"?v(g):v;if(E)b(_);else if(y){const w=_.length===0?g.map(S=>({type:"remove",id:S.id})):_.map(S=>({item:S,type:"reset"}));y(w)}},[]),l=k.useCallback(v=>{const g=Array.isArray(v)?v:[v],{getNodes:b,setNodes:E,hasDefaultNodes:y,onNodesChange:_}=t.getState();if(y){const S=[...b(),...g];E(S)}else if(_){const w=g.map(S=>({item:S,type:"add"}));_(w)}},[]),c=k.useCallback(v=>{const g=Array.isArray(v)?v:[v],{edges:b=[],setEdges:E,hasDefaultEdges:y,onEdgesChange:_}=t.getState();if(y)E([...b,...g]);else if(_){const w=g.map(S=>({item:S,type:"add"}));_(w)}},[]),u=k.useCallback(()=>{const{getNodes:v,edges:g=[],transform:b}=t.getState(),[E,y,_]=b;return{nodes:v().map(w=>({...w})),edges:g.map(w=>({...w})),viewport:{x:E,y,zoom:_}}},[]),d=k.useCallback(({nodes:v,edges:g})=>{const{nodeInternals:b,getNodes:E,edges:y,hasDefaultNodes:_,hasDefaultEdges:w,onNodesDelete:S,onEdgesDelete:C,onNodesChange:x,onEdgesChange:T}=t.getState(),R=(v||[]).map(q=>q.id),$=(g||[]).map(q=>q.id),A=E().reduce((q,F)=>{const P=!R.includes(F.id)&&F.parentNode&&q.find(O=>O.id===F.parentNode);return(typeof F.deletable=="boolean"?F.deletable:!0)&&(R.includes(F.id)||P)&&q.push(F),q},[]),I=y.filter(q=>typeof q.deletable=="boolean"?q.deletable:!0),N=I.filter(q=>$.includes(q.id));if(A||N){const q=jp(A,I),F=[...N,...q],P=F.reduce((V,O)=>(V.includes(O.id)||V.push(O.id),V),[]);if((w||_)&&(w&&t.setState({edges:y.filter(V=>!P.includes(V.id))}),_&&(A.forEach(V=>{b.delete(V.id)}),t.setState({nodeInternals:new Map(b)}))),P.length>0&&(C==null||C(F),T&&T(P.map(V=>({id:V,type:"remove"})))),A.length>0&&(S==null||S(A),x)){const V=A.map(O=>({id:O.id,type:"remove"}));x(V)}}},[]),f=k.useCallback(v=>{const g=$A(v),b=g?null:t.getState().nodeInternals.get(v.id);return[g?v:Im(b),b,g]},[]),p=k.useCallback((v,g=!0,b)=>{const[E,y,_]=f(v);return E?(b||t.getState().getNodes()).filter(w=>{if(!_&&(w.id===y.id||!w.positionAbsolute))return!1;const S=Im(w),C=Zc(S,E);return g&&C>0||C>=v.width*v.height}):[]},[]),h=k.useCallback((v,g,b=!0)=>{const[E]=f(v);if(!E)return!1;const y=Zc(E,g);return b&&y>0||y>=v.width*v.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:a,getEdges:r,getEdge:i,setNodes:o,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:h}),[e,n,a,r,i,o,s,l,c,u,d,p,h])}var Ik=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ut(),{deleteElements:a}=Ws(),r=ei(e),i=ei(t);k.useEffect(()=>{if(r){const{edges:o,getNodes:s}=n.getState(),l=s().filter(u=>u.selected),c=o.filter(u=>u.selected);a({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[r]),k.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Tk(e){const t=ut();k.useEffect(()=>{let n;const a=()=>{var i,o;if(!e.current)return;const r=Mp(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Yr.error004())),t.setState({width:r.width||500,height:r.height||500})};return a(),window.addEventListener("resize",a),e.current&&(n=new ResizeObserver(()=>a()),n.observe(e.current)),()=>{window.removeEventListener("resize",a),n&&e.current&&n.unobserve(e.current)}},[])}const Gp={position:"absolute",width:"100%",height:"100%",top:0,left:0},Rk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Fl=e=>({x:e.x,y:e.y,zoom:e.k}),Fn=(e,t)=>e.target.closest(`.${t}`),Hm=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Pk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ak=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:a,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=jn.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:f,translateExtent:p,minZoom:h,maxZoom:v,zoomActivationKeyCode:g,preventScrolling:b=!0,children:E,noWheelClassName:y,noPanClassName:_})=>{const w=k.useRef(),S=ut(),C=k.useRef(!1),x=k.useRef(!1),T=k.useRef(null),R=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:$,d3Selection:A,d3ZoomHandler:I,userSelectionActive:N}=Je(Pk,Rt),q=ei(g),F=k.useRef(0);return Tk(T),k.useEffect(()=>{if(T.current){const P=T.current.getBoundingClientRect(),V=NA().scaleExtent([h,v]).translateExtent(p),O=Mt(T.current).call(V),z=Ur.translate(f.x,f.y).scale(ra(f.zoom,h,v)),j=[[0,0],[P.width,P.height]],G=V.constrain()(z,j,p);V.transform(O,G),S.setState({d3Zoom:V,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:T.current.closest(".react-flow")})}},[]),k.useEffect(()=>{A&&$&&(o&&!q&&!N?A.on("wheel.zoom",P=>{if(Fn(P,y))return!1;P.preventDefault(),P.stopImmediatePropagation();const V=A.property("__zoom").k||1;if(P.ctrlKey&&i){const G=Zt(P),K=-P.deltaY*(P.deltaMode===1?.05:P.deltaMode?1:.002)*10,Y=V*Math.pow(2,K);$.scaleTo(A,Y,G);return}const O=P.deltaMode===1?20:1,z=l===jn.Vertical?0:P.deltaX*O,j=l===jn.Horizontal?0:P.deltaY*O;$.translateBy(A,-(z/V)*s,-(j/V)*s)},{passive:!1}):typeof I<"u"&&A.on("wheel.zoom",function(P,V){if(!b||Fn(P,y))return null;P.preventDefault(),I.call(this,P,V)},{passive:!1}))},[N,o,l,A,$,I,q,i,b,y]),k.useEffect(()=>{$&&$.on("start",P=>{var O;if(!P.sourceEvent)return null;F.current=P.sourceEvent.button;const{onViewportChangeStart:V}=S.getState();if(C.current=!0,((O=P.sourceEvent)==null?void 0:O.type)==="mousedown"&&S.setState({paneDragging:!0}),t||V){const z=Fl(P.transform);R.current=z,V==null||V(z),t==null||t(P.sourceEvent,z)}})},[$,t]),k.useEffect(()=>{$&&(N&&!C.current?$.on("zoom",null):N||$.on("zoom",P=>{const{onViewportChange:V}=S.getState();if(S.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),x.current=!!(a&&Hm(d,F.current??0)),e||V){const O=Fl(P.transform);V==null||V(O),e==null||e(P.sourceEvent,O)}}))},[N,$,e,d,a]),k.useEffect(()=>{$&&$.on("end",P=>{if(!P.sourceEvent)return null;const{onViewportChangeEnd:V}=S.getState();if(C.current=!1,S.setState({paneDragging:!1}),a&&Hm(d,F.current??0)&&!x.current&&a(P.sourceEvent),x.current=!1,(n||V)&&Rk(R.current,P.transform)){const O=Fl(P.transform);R.current=O,clearTimeout(w.current),w.current=setTimeout(()=>{V==null||V(O),n==null||n(P.sourceEvent,O)},o?150:0)}})},[$,o,d,n,a]),k.useEffect(()=>{$&&$.filter(P=>{const V=q||r,O=i&&P.ctrlKey;if(P.button===1&&P.type==="mousedown"&&(Fn(P,"react-flow__node")||Fn(P,"react-flow__edge")))return!0;if(!d&&!V&&!o&&!c&&!i||N||!c&&P.type==="dblclick"||Fn(P,y)&&P.type==="wheel"||Fn(P,_)&&P.type!=="wheel"||!i&&P.ctrlKey&&P.type==="wheel"||!V&&!o&&!O&&P.type==="wheel"||!d&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(d)&&!d.includes(P.button)&&(P.type==="mousedown"||P.type==="touchstart"))return!1;const z=Array.isArray(d)&&d.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&z})},[N,$,r,i,o,c,d,u,q]),m("div",{className:"react-flow__renderer",ref:T,style:Gp,children:E})},kk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function qk(){const{userSelectionActive:e,userSelectionRect:t}=Je(kk,Rt);return e&&t?m("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Wm(e,t){const n=e.find(a=>a.id===t.parentNode);if(n){const a=t.position.x+t.width-n.width,r=t.position.y+t.height-n.height;if(a>0||r>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),r>0&&(n.style.height+=r),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function N0(e,t){if(e.some(a=>a.type==="reset"))return e.filter(a=>a.type==="reset").map(a=>a.item);const n=e.filter(a=>a.type==="add").map(a=>a.item);return t.reduce((a,r)=>{const i=e.filter(s=>s.id===r.id);if(i.length===0)return a.push(r),a;const o={...r};for(const s of i)if(s)switch(s.type){case"select":{o.selected=s.selected;break}case"position":{typeof s.position<"u"&&(o.position=s.position),typeof s.positionAbsolute<"u"&&(o.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&Wm(a,o);break}case"dimensions":{typeof s.dimensions<"u"&&(o.width=s.dimensions.width,o.height=s.dimensions.height),typeof s.updateStyle<"u"&&(o.style={...o.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(o.resizing=s.resizing),o.expandParent&&Wm(a,o);break}case"remove":return a}return a.push(o),a},n)}function I0(e,t){return N0(e,t)}function $k(e,t){return N0(e,t)}const Dr=(e,t)=>({id:e,type:"select",selected:t});function Bn(e,t){return e.reduce((n,a)=>{const r=t.includes(a.id);return!a.selected&&r?(a.selected=!0,n.push(Dr(a.id,!0))):a.selected&&!r&&(a.selected=!1,n.push(Dr(a.id,!1))),n},[])}const Ol=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Dk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),T0=k.memo(({isSelecting:e,selectionMode:t=Za.Full,panOnDrag:n,onSelectionStart:a,onSelectionEnd:r,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const f=k.useRef(null),p=ut(),h=k.useRef(0),v=k.useRef(0),g=k.useRef(),{userSelectionActive:b,elementsSelectable:E,dragging:y}=Je(Dk,Rt),_=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),h.current=0,v.current=0},w=I=>{i==null||i(I),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},S=I=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){I.preventDefault();return}o==null||o(I)},C=s?I=>s(I):void 0,x=I=>{const{resetSelectedElements:N,domNode:q}=p.getState();if(g.current=q==null?void 0:q.getBoundingClientRect(),!E||!e||I.button!==0||I.target!==f.current||!g.current)return;const{x:F,y:P}=zr(I,g.current);N(),p.setState({userSelectionRect:{width:0,height:0,startX:F,startY:P,x:F,y:P}}),a==null||a(I)},T=I=>{const{userSelectionRect:N,nodeInternals:q,edges:F,transform:P,onNodesChange:V,onEdgesChange:O,nodeOrigin:z,getNodes:j}=p.getState();if(!e||!g.current||!N)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const G=zr(I,g.current),K=N.startX??0,Y=N.startY??0,X={...N,x:G.x<K?G.x:K,y:G.y<Y?G.y:Y,width:Math.abs(G.x-K),height:Math.abs(G.y-Y)},re=j(),J=i0(q,X,P,t===Za.Partial,!0,z),fe=jp(J,F).map(ne=>ne.id),ve=J.map(ne=>ne.id);if(h.current!==ve.length){h.current=ve.length;const ne=Bn(re,ve);ne.length&&(V==null||V(ne))}if(v.current!==fe.length){v.current=fe.length;const ne=Bn(F,fe);ne.length&&(O==null||O(ne))}p.setState({userSelectionRect:X})},R=I=>{if(I.button!==0)return;const{userSelectionRect:N}=p.getState();!b&&N&&I.target===f.current&&(w==null||w(I)),p.setState({nodesSelectionActive:h.current>0}),_(),r==null||r(I)},$=I=>{b&&(p.setState({nodesSelectionActive:h.current>0}),r==null||r(I)),_()},A=E&&(e||b);return L("div",{className:_t(["react-flow__pane",{dragging:y,selection:e}]),onClick:A?void 0:Ol(w,f),onContextMenu:Ol(S,f),onWheel:Ol(C,f),onMouseEnter:A?void 0:l,onMouseDown:A?x:void 0,onMouseMove:A?T:c,onMouseUp:A?R:void 0,onMouseLeave:A?$:u,ref:f,style:Gp,children:[d,m(qk,{})]})});T0.displayName="Pane";const Fk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...a0(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Ok({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const a=ut(),{width:r,height:i,x:o,y:s,transformString:l,userSelectionActive:c}=Je(Fk,Rt),u=_0(),d=k.useRef(null);if(k.useEffect(()=>{var h;n||(h=d.current)==null||h.focus({preventScroll:!0})},[n]),S0({nodeRef:d}),c||!r||!i)return null;const f=e?h=>{const v=a.getState().getNodes().filter(g=>g.selected);e(h,v)}:void 0,p=h=>{Object.prototype.hasOwnProperty.call(Gn,h.key)&&u({x:Gn[h.key].x,y:Gn[h.key].y,isShiftPressed:h.shiftKey})};return m("div",{className:_t(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:m("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:r,height:i,top:s,left:o}})})}var Lk=k.memo(Ok);const Vk=e=>e.nodesSelectionActive,R0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:g,panActivationKeyCode:b,zoomActivationKeyCode:E,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:x,zoomOnDoubleClick:T,panOnDrag:R,defaultViewport:$,translateExtent:A,minZoom:I,maxZoom:N,preventScrolling:q,onSelectionContextMenu:F,noWheelClassName:P,noPanClassName:V,disableKeyboardA11y:O})=>{const z=Je(Vk),j=ei(d),K=ei(b)||R,Y=j||f&&K!==!0;return Ik({deleteKeyCode:s,multiSelectionKeyCode:g}),m(Ak,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:x,zoomOnDoubleClick:T,panOnDrag:!j&&K,defaultViewport:$,translateExtent:A,minZoom:I,maxZoom:N,zoomActivationKeyCode:E,preventScrolling:q,noWheelClassName:P,noPanClassName:V,children:L(T0,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:K,isSelecting:!!Y,selectionMode:p,children:[e,z&&m(Lk,{onSelectionContextMenu:F,noPanClassName:V,disableKeyboardA11y:O})]})})};R0.displayName="FlowRenderer";var Mk=k.memo(R0);function Bk(e){return Je(k.useCallback(n=>e?i0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const Uk=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),P0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:r,updateNodeDimensions:i,onError:o}=Je(Uk,Rt),s=Bk(e.onlyRenderVisibleElements),l=k.useRef(),c=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const f=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(f)});return l.current=u,u},[]);return k.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),m("div",{className:"react-flow__nodes",style:Gp,children:s.map(u=>{var w,S;let d=u.type||"default";e.nodeTypes[d]||(o==null||o("003",Yr.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,p=!!(u.draggable||t&&typeof u.draggable>"u"),h=!!(u.selectable||r&&typeof u.selectable>"u"),v=!!(u.connectable||n&&typeof u.connectable>"u"),g=!!(u.focusable||a&&typeof u.focusable>"u"),b=e.nodeExtent?Bp(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,E=(b==null?void 0:b.x)??0,y=(b==null?void 0:b.y)??0,_=wk({x:E,y,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return m(f,{id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||te.Bottom,targetPosition:u.targetPosition||te.Top,hidden:u.hidden,xPos:E,yPos:y,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:p,isSelectable:h,isConnectable:v,isFocusable:g,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((w=u[at])==null?void 0:w.z)??0,isParent:!!((S=u[at])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel},u.id)})})};P0.displayName="NodeRenderer";var zk=k.memo(P0);const Hk=[{level:0,isMaxLevel:!0,edges:[]}];function Wk(e,t,n=!1){let a=-1;const r=e.reduce((o,s)=>{var u,d,f,p;const l=Dt(s.zIndex);let c=l?s.zIndex:0;return n&&(c=l?s.zIndex:Math.max(((d=(u=t.get(s.source))==null?void 0:u[at])==null?void 0:d.z)||0,((p=(f=t.get(s.target))==null?void 0:f[at])==null?void 0:p.z)||0)),o[c]?o[c].push(s):o[c]=[s],a=c>a?c:a,o},{}),i=Object.entries(r).map(([o,s])=>{const l=+o;return{edges:s,level:l,isMaxLevel:l===a}});return i.length===0?Hk:i}function jk(e,t,n){const a=Je(k.useCallback(r=>e?r.edges.filter(i=>{const o=t.get(i.source),s=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&vk({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:s.width,targetHeight:s.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return Wk(a,t,n)}const Qk=({color:e="none",strokeWidth:t=1})=>m("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),Gk=({color:e="none",strokeWidth:t=1})=>m("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),jm={[Ja.Arrow]:Qk,[Ja.ArrowClosed]:Gk};function Yk(e){const t=ut();return k.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(jm,e)?jm[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Yr.error009(e)),null)},[e])}const Kk=({id:e,type:t,color:n,width:a=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:s="auto-start-reverse"})=>{const l=Yk(t);return l?m("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:m(l,{color:n,strokeWidth:o})}):null},Xk=({defaultColor:e,rfId:t})=>n=>{const a=[];return n.edges.reduce((r,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const s=td(o,t);a.includes(s)||(r.push({id:s,color:o.color||e,...o}),a.push(s))}}),r),[]).sort((r,i)=>r.id.localeCompare(i.id))},A0=({defaultColor:e,rfId:t})=>{const n=Je(k.useCallback(Xk({defaultColor:e,rfId:t}),[e,t]),(a,r)=>!(a.length!==r.length||a.some((i,o)=>i.id!==r[o].id)));return m("defs",{children:n.map(a=>m(Kk,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})};A0.displayName="MarkerDefinitions";var Zk=k.memo(A0);const Jk=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),k0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:a,edgeTypes:r,noPanClassName:i,onEdgeUpdate:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,edgeUpdaterRadius:f,onEdgeDoubleClick:p,onEdgeUpdateStart:h,onEdgeUpdateEnd:v,children:g})=>{const{edgesFocusable:b,edgesUpdatable:E,elementsSelectable:y,width:_,height:w,connectionMode:S,nodeInternals:C,onError:x}=Je(Jk,Rt),T=jk(t,C,n);return _?L(Q,{children:[T.map(({level:R,edges:$,isMaxLevel:A})=>L("svg",{style:{zIndex:R},width:_,height:w,className:"react-flow__edges react-flow__container",children:[A&&m(Zk,{defaultColor:e,rfId:a}),m("g",{children:$.map(I=>{const[N,q,F]=Vm(C.get(I.source)),[P,V,O]=Vm(C.get(I.target));if(!F||!O)return null;let z=I.type||"default";r[z]||(x==null||x("011",Yr.error011(z)),z="default");const j=r[z]||r.default,G=S===_n.Strict?V.target:(V.target??[]).concat(V.source??[]),K=Lm(q.source,I.sourceHandle),Y=Lm(G,I.targetHandle),X=(K==null?void 0:K.position)||te.Bottom,re=(Y==null?void 0:Y.position)||te.Top,J=!!(I.focusable||b&&typeof I.focusable>"u"),fe=typeof o<"u"&&(I.updatable||E&&typeof I.updatable>"u");if(!K||!Y)return x==null||x("008",Yr.error008(K,I)),null;const{sourceX:ve,sourceY:ne,targetX:ce,targetY:Ie}=mk(N,K,X,P,Y,re);return m(j,{id:I.id,className:_t([I.className,i]),type:z,data:I.data,selected:!!I.selected,animated:!!I.animated,hidden:!!I.hidden,label:I.label,labelStyle:I.labelStyle,labelShowBg:I.labelShowBg,labelBgStyle:I.labelBgStyle,labelBgPadding:I.labelBgPadding,labelBgBorderRadius:I.labelBgBorderRadius,style:I.style,source:I.source,target:I.target,sourceHandleId:I.sourceHandle,targetHandleId:I.targetHandle,markerEnd:I.markerEnd,markerStart:I.markerStart,sourceX:ve,sourceY:ne,targetX:ce,targetY:Ie,sourcePosition:X,targetPosition:re,elementsSelectable:y,onEdgeUpdate:o,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,edgeUpdaterRadius:f,onEdgeDoubleClick:p,onEdgeUpdateStart:h,onEdgeUpdateEnd:v,rfId:a,ariaLabel:I.ariaLabel,isFocusable:J,isUpdatable:fe,pathOptions:"pathOptions"in I?I.pathOptions:void 0,interactionWidth:I.interactionWidth},I.id)})})]},R)),g]}):null};k0.displayName="EdgeRenderer";var eq=k.memo(k0);const tq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rq({children:e}){const t=Je(tq);return m("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function nq(e){const t=Ws(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const aq={[te.Left]:te.Right,[te.Right]:te.Left,[te.Top]:te.Bottom,[te.Bottom]:te.Top},q0=({nodeId:e,handleType:t,style:n,type:a=mr.Bezier,CustomComponent:r,connectionStatus:i})=>{var S,C,x;const{fromNode:o,handleId:s,toX:l,toY:c,connectionMode:u}=Je(k.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[e]),Rt),d=(S=o==null?void 0:o[at])==null?void 0:S.handleBounds;let f=d==null?void 0:d[t];if(u===_n.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!f)return null;const p=s?f.find(T=>T.id===s):f[0],h=p?p.x+p.width/2:(o.width??0)/2,v=p?p.y+p.height/2:o.height??0,g=(((C=o.positionAbsolute)==null?void 0:C.x)??0)+h,b=(((x=o.positionAbsolute)==null?void 0:x.y)??0)+v,E=p==null?void 0:p.position,y=E?aq[E]:null;if(!E||!y)return null;if(r)return m(r,{connectionLineType:a,connectionLineStyle:n,fromNode:o,fromHandle:p,fromX:g,fromY:b,toX:l,toY:c,fromPosition:E,toPosition:y,connectionStatus:i});let _="";const w={sourceX:g,sourceY:b,sourcePosition:E,targetX:l,targetY:c,targetPosition:y};return a===mr.Bezier?[_]=r0(w):a===mr.Step?[_]=ed({...w,borderRadius:0}):a===mr.SmoothStep?[_]=ed(w):a===mr.SimpleBezier?[_]=t0(w):_=`M${g},${b} ${l},${c}`,m("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};q0.displayName="ConnectionLine";const iq=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function oq({containerStyle:e,style:t,type:n,component:a}){const{nodeId:r,handleType:i,nodesConnectable:o,width:s,height:l,connectionStatus:c}=Je(iq,Rt);return!(r&&i&&s&&o)?null:m("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container",children:m("g",{className:_t(["react-flow__connection",c]),children:m(q0,{nodeId:r,handleType:i,style:t,type:n,CustomComponent:a,connectionStatus:c})})})}const $0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:a,onMoveEnd:r,onInit:i,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:h,onSelectionStart:v,onSelectionEnd:g,connectionLineType:b,connectionLineStyle:E,connectionLineComponent:y,connectionLineContainerStyle:_,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:x,panActivationKeyCode:T,zoomActivationKeyCode:R,deleteKeyCode:$,onlyRenderVisibleElements:A,elementsSelectable:I,selectNodesOnDrag:N,defaultViewport:q,translateExtent:F,minZoom:P,maxZoom:V,preventScrolling:O,defaultMarkerColor:z,zoomOnScroll:j,zoomOnPinch:G,panOnScroll:K,panOnScrollSpeed:Y,panOnScrollMode:X,zoomOnDoubleClick:re,panOnDrag:J,onPaneClick:fe,onPaneMouseEnter:ve,onPaneMouseMove:ne,onPaneMouseLeave:ce,onPaneScroll:Ie,onPaneContextMenu:be,onEdgeUpdate:ae,onEdgeContextMenu:de,onEdgeMouseEnter:we,onEdgeMouseMove:ie,onEdgeMouseLeave:Qe,edgeUpdaterRadius:Te,onEdgeUpdateStart:Me,onEdgeUpdateEnd:it,noDragClassName:Re,noWheelClassName:Z,noPanClassName:le,elevateEdgesOnSelect:pe,disableKeyboardA11y:xe,nodeOrigin:he,nodeExtent:kt,rfId:ye})=>(nq(i),m(Mk,{onPaneClick:fe,onPaneMouseEnter:ve,onPaneMouseMove:ne,onPaneMouseLeave:ce,onPaneContextMenu:be,onPaneScroll:Ie,deleteKeyCode:$,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:x,panActivationKeyCode:T,zoomActivationKeyCode:R,elementsSelectable:I,onMove:n,onMoveStart:a,onMoveEnd:r,zoomOnScroll:j,zoomOnPinch:G,zoomOnDoubleClick:re,panOnScroll:K,panOnScrollSpeed:Y,panOnScrollMode:X,panOnDrag:J,defaultViewport:q,translateExtent:F,minZoom:P,maxZoom:V,onSelectionContextMenu:h,preventScrolling:O,noDragClassName:Re,noWheelClassName:Z,noPanClassName:le,disableKeyboardA11y:xe,children:L(rq,{children:[m(eq,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:c,onEdgeUpdate:ae,onlyRenderVisibleElements:A,onEdgeContextMenu:de,onEdgeMouseEnter:we,onEdgeMouseMove:ie,onEdgeMouseLeave:Qe,onEdgeUpdateStart:Me,onEdgeUpdateEnd:it,edgeUpdaterRadius:Te,defaultMarkerColor:z,noPanClassName:le,elevateEdgesOnSelect:!!pe,disableKeyboardA11y:xe,rfId:ye,children:m(oq,{style:E,type:b,component:y,containerStyle:_})}),m("div",{className:"react-flow__edgelabel-renderer"}),m(zk,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:N,onlyRenderVisibleElements:A,noPanClassName:le,noDragClassName:Re,disableKeyboardA11y:xe,nodeOrigin:he,nodeExtent:kt,rfId:ye})]})}));$0.displayName="GraphView";var sq=k.memo($0);const ad=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Rr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ad,nodeExtent:ad,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_n.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:DA,isValidConnection:void 0},lq=()=>NI((e,t)=>({...Rr,setNodes:n=>{const{nodeInternals:a,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:Dl(n,a,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:a={}}=t();e({edges:n.map(r=>({...a,...r}))})},setDefaultNodesAndEdges:(n,a)=>{const r=typeof n<"u",i=typeof a<"u",o=r?Dl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?a:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:a,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((v,g)=>{const b=r.get(g.id);if(b){const E=Mp(g.nodeElement);!!(E.width&&E.height&&(b.width!==E.width||b.height!==E.height||g.forceUpdate))&&(r.set(b.id,{...b,[at]:{...b[at],handleBounds:{source:Bm(".source",g.nodeElement,f,c),target:Bm(".target",g.nodeElement,f,c)}},...E}),v.push({id:b.id,type:"dimensions",dimensions:E}))}return v},[]);C0(r,c);const h=o||i&&!o&&x0(t,{initial:!0,...s});e({nodeInternals:new Map(r),fitViewOnInitDone:h}),(p==null?void 0:p.length)>0&&(a==null||a(p))},updateNodePositions:(n,a=!0,r=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(s=>{const l={id:s.id,type:"position",dragging:r};return a&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:a,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(i){const c=I0(n,s()),u=Dl(c,r,o,l);e({nodeInternals:u})}a==null||a(n)}},addSelectedNodes:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let o,s=null;a?o=n.map(l=>Dr(l,!0)):(o=Bn(i(),n),s=Bn(r,[])),Xi({changedNodes:o,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let o,s=null;a?o=n.map(l=>Dr(l,!0)):(o=Bn(r,n),s=Bn(i(),[])),Xi({changedNodes:s,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:a}={})=>{const{edges:r,getNodes:i}=t(),o=n||i(),s=a||r,l=o.map(u=>(u.selected=!1,Dr(u.id,!1))),c=s.map(u=>Dr(u.id,!1));Xi({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:a,maxZoom:r}=t();a==null||a.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:a,minZoom:r}=t();a==null||a.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var a;(a=t().d3Zoom)==null||a.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:a}=t(),i=a().filter(s=>s.selected).map(s=>Dr(s.id,!1)),o=n.filter(s=>s.selected).map(s=>Dr(s.id,!1));Xi({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:a}=t();a.forEach(r=>{r.positionAbsolute=Bp(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(a)})},panBy:n=>{const{transform:a,width:r,height:i,d3Zoom:o,d3Selection:s,translateExtent:l}=t();if(!o||!s||!n.x&&!n.y)return;const c=Ur.translate(a[0]+n.x,a[1]+n.y).scale(a[2]),u=[[0,0],[r,i]],d=o==null?void 0:o.constrain()(c,u,l);o.transform(s,d)},cancelConnection:()=>e({connectionNodeId:Rr.connectionNodeId,connectionHandleId:Rr.connectionHandleId,connectionHandleType:Rr.connectionHandleType,connectionStatus:Rr.connectionStatus,connectionStartHandle:Rr.connectionStartHandle,connectionEndHandle:Rr.connectionEndHandle}),reset:()=>e({...Rr})})),Yp=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=lq()),m(IA,{value:t.current,children:e})};Yp.displayName="ReactFlowProvider";const D0=({children:e})=>k.useContext(zs)?m(Q,{children:e}):m(Yp,{children:e});D0.displayName="ReactFlowWrapper";function Qm(e,t){return k.useRef(null),k.useMemo(()=>t(e),[e])}const uq={input:p0,default:rd,output:m0,group:Qp},cq={default:Mo,straight:Hp,step:zp,smoothstep:Hs,simplebezier:Up},dq=[0,0],fq=[15,15],pq={x:0,y:0,zoom:1},hq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},F0=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,className:r,nodeTypes:i=uq,edgeTypes:o=cq,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:h,onConnectEnd:v,onClickConnectStart:g,onClickConnectEnd:b,onNodeMouseEnter:E,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:w,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:x,onNodeDragStop:T,onNodesDelete:R,onEdgesDelete:$,onSelectionChange:A,onSelectionDragStart:I,onSelectionDrag:N,onSelectionDragStop:q,onSelectionContextMenu:F,onSelectionStart:P,onSelectionEnd:V,connectionMode:O=_n.Strict,connectionLineType:z=mr.Bezier,connectionLineStyle:j,connectionLineComponent:G,connectionLineContainerStyle:K,deleteKeyCode:Y="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:re=!1,selectionMode:J=Za.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ve="Meta",zoomActivationKeyCode:ne="Meta",snapToGrid:ce=!1,snapGrid:Ie=fq,onlyRenderVisibleElements:be=!1,selectNodesOnDrag:ae=!0,nodesDraggable:de,nodesConnectable:we,nodesFocusable:ie,nodeOrigin:Qe=dq,edgesFocusable:Te,edgesUpdatable:Me,elementsSelectable:it,defaultViewport:Re=pq,minZoom:Z=.5,maxZoom:le=2,translateExtent:pe=ad,preventScrolling:xe=!0,nodeExtent:he,defaultMarkerColor:kt="#b1b1b7",zoomOnScroll:ye=!0,zoomOnPinch:Be=!0,panOnScroll:He=!1,panOnScrollSpeed:Et=.5,panOnScrollMode:dt=jn.Free,zoomOnDoubleClick:Gt=!0,panOnDrag:An=!0,onPaneClick:Yt,onPaneMouseEnter:ht,onPaneMouseMove:ga,onPaneMouseLeave:nn,onPaneScroll:ya,onPaneContextMenu:ki,children:ur,onEdgeUpdate:bl,onEdgeContextMenu:Nr,onEdgeDoubleClick:wl,onEdgeMouseEnter:qi,onEdgeMouseMove:Sl,onEdgeMouseLeave:ba,onEdgeUpdateStart:$i,onEdgeUpdateEnd:_l,edgeUpdaterRadius:Di=10,onNodesChange:El,onEdgesChange:Fi,noDragClassName:M="nodrag",noWheelClassName:D="nowheel",noPanClassName:U="nopan",fitView:W=!1,fitViewOptions:H,connectOnClick:ee=!0,attributionPosition:se,proOptions:Ce,defaultEdgeOptions:Ve,elevateNodesOnSelect:Ge=!0,elevateEdgesOnSelect:_e=!1,disableKeyboardA11y:Fe=!1,autoPanOnConnect:Ye=!0,autoPanOnNodeDrag:me=!0,connectionRadius:Ue=20,isValidConnection:Ze,onError:ze,style:Kt,id:Ct,...qt},Ir)=>{const cr=Qm(i,bk),mt=Qm(o,hk),vt=Ct||"1";return m("div",{...qt,style:{...Kt,...hq},ref:Ir,className:_t(["react-flow",r]),"data-testid":"rf__wrapper",id:Ct,children:L(D0,{children:[m(sq,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:w,onNodeDoubleClick:S,nodeTypes:cr,edgeTypes:mt,connectionLineType:z,connectionLineStyle:j,connectionLineComponent:G,connectionLineContainerStyle:K,selectionKeyCode:X,selectionOnDrag:re,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:ve,panActivationKeyCode:fe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:be,selectNodesOnDrag:ae,defaultViewport:Re,translateExtent:pe,minZoom:Z,maxZoom:le,preventScrolling:xe,zoomOnScroll:ye,zoomOnPinch:Be,zoomOnDoubleClick:Gt,panOnScroll:He,panOnScrollSpeed:Et,panOnScrollMode:dt,panOnDrag:An,onPaneClick:Yt,onPaneMouseEnter:ht,onPaneMouseMove:ga,onPaneMouseLeave:nn,onPaneScroll:ya,onPaneContextMenu:ki,onSelectionContextMenu:F,onSelectionStart:P,onSelectionEnd:V,onEdgeUpdate:bl,onEdgeContextMenu:Nr,onEdgeDoubleClick:wl,onEdgeMouseEnter:qi,onEdgeMouseMove:Sl,onEdgeMouseLeave:ba,onEdgeUpdateStart:$i,onEdgeUpdateEnd:_l,edgeUpdaterRadius:Di,defaultMarkerColor:kt,noDragClassName:M,noWheelClassName:D,noPanClassName:U,elevateEdgesOnSelect:_e,rfId:vt,disableKeyboardA11y:Fe,nodeOrigin:Qe,nodeExtent:he}),m(ik,{nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:p,onConnectStart:h,onConnectEnd:v,onClickConnectStart:g,onClickConnectEnd:b,nodesDraggable:de,nodesConnectable:we,nodesFocusable:ie,edgesFocusable:Te,edgesUpdatable:Me,elementsSelectable:it,elevateNodesOnSelect:Ge,minZoom:Z,maxZoom:le,nodeExtent:he,onNodesChange:El,onEdgesChange:Fi,snapToGrid:ce,snapGrid:Ie,connectionMode:O,translateExtent:pe,connectOnClick:ee,defaultEdgeOptions:Ve,fitView:W,fitViewOptions:H,onNodesDelete:R,onEdgesDelete:$,onNodeDragStart:C,onNodeDrag:x,onNodeDragStop:T,onSelectionDrag:N,onSelectionDragStart:I,onSelectionDragStop:q,noPanClassName:U,nodeOrigin:Qe,rfId:vt,autoPanOnConnect:Ye,autoPanOnNodeDrag:me,onError:ze,connectionRadius:Ue,isValidConnection:Ze}),m(nk,{onSelectionChange:A}),ur,m(RA,{proOptions:Ce,position:se}),m(ck,{rfId:vt,disableKeyboardA11y:Fe})]})})});F0.displayName="ReactFlow";function O0(e){return t=>{const[n,a]=k.useState(t),r=k.useCallback(i=>a(o=>e(i,o)),[]);return[n,a,r]}}const mq=O0(I0),vq=O0($k);function gq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function yq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m("path",{d:"M0 0h32v4.2H0z"})})}function bq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function wq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Sq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const qa=({children:e,className:t,...n})=>m("button",{type:"button",className:_t(["react-flow__controls-button",t]),...n,children:e});qa.displayName="ControlButton";const _q=e=>e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable,L0=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:a=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:o,onFitView:s,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const f=ut(),[p,h]=k.useState(!1),v=Je(_q),{zoomIn:g,zoomOut:b,fitView:E}=Ws();if(k.useEffect(()=>{h(!0)},[]),!p)return null;const y=()=>{g(),i==null||i()},_=()=>{b(),o==null||o()},w=()=>{E(r),s==null||s()},S=()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l==null||l(!v)};return L(Qw,{className:_t(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls",children:[t&&L(Q,{children:[m(qa,{onClick:y,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:m(gq,{})}),m(qa,{onClick:_,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:m(yq,{})})]}),n&&m(qa,{className:"react-flow__controls-fitview",onClick:w,title:"fit view","aria-label":"fit view",children:m(bq,{})}),a&&m(qa,{className:"react-flow__controls-interactive",onClick:S,title:"toggle interactivity","aria-label":"toggle interactivity",children:v?m(Sq,{}):m(wq,{})}),u]})};L0.displayName="Controls";var Eq=k.memo(L0);function Cq(e,t){const{accessToken:n,keyFactory:a}=$e();return sa(a.getEntityActionsRequiredQueryKey(e),()=>We.getEntityDownloadActionsRequired(e,n),t)}function xq(e,t){const{accessToken:n,keyFactory:a}=$e();return sa(a.getEntityChildrenQueryKey(e,!1),()=>We.getEntityChildren(e,n),t)}function mW(e,t){const{accessToken:n,keyFactory:a}=$e();return db(a.getEntityChildrenQueryKey(e,!0),async r=>await We.getEntityChildren({...e,includeTotalChildCount:r.pageParam?!1:e.includeTotalChildCount,nextPageToken:r.pageParam},n,r.signal),{...t,getNextPageParam:r=>r.nextPageToken})}const id=e=>{const{data:t}=gC(e.modifiedBy),n=Ha(nr(e.modifiedOn)),{name:a,description:r}=e;return k.useMemo(()=>L(Q,{children:[a&&m(yt,{title:a,placement:"top",enterNextDelay:200,children:m("span",{children:m(Pe,{variant:"smallText1",className:"name",children:a})})}),r&&m(yt,{title:r,placement:"top",enterNextDelay:200,children:m("span",{children:m(Pe,{variant:"smallText1",className:"description",children:r})})}),t&&m(sb,{userProfile:t}),m("div",{children:n})]}),[a,r,t,n])};try{id.displayName="ActivityNodeLabel",id.__docgenInfo={description:"",displayName:"ActivityNodeLabel",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},etag:{defaultValue:null,description:"",name:"etag",required:!0,type:{name:"string"}},createdOn:{defaultValue:null,description:"",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"",name:"modifiedBy",required:!0,type:{name:"string"}},used:{defaultValue:null,description:"",name:"used",required:!1,type:{name:"(UsedURL | UsedEntity)[]"}}}}}catch{}const Nq=new Set([".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx",".cwl",".wdl",".json"]),od=e=>{const{entityHeader:t}=e;if(t){const n=fb(t==null?void 0:t.type);if(n==Tc.FILE){const a=t.name.lastIndexOf(".");if(a>-1){const r=t.name.slice(a);if(Nq.has(r.toLowerCase()))return m(qe,{icon:"code"})}}else return m(Wh,{type:n,includeTooltip:!1})}return m(Wh,{type:Tc.FILE,includeTooltip:!1})};try{od.displayName="ProvenanceEntityIcon",od.__docgenInfo={description:"",displayName:"ProvenanceEntityIcon",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!1,type:{name:"EntityHeader"}}}}}catch{}const sd=e=>{const t=e.versionNumber?`.${e.versionNumber}`:"",n=`${e.id}${t}`;return k.useMemo(()=>L(Q,{children:[m("div",{children:m(od,{entityHeader:e})}),L(Q,{children:[m("div",{children:m(yt,{title:e.name,placement:"top",enterNextDelay:300,children:m("a",{href:`${ar.PORTAL}#!Synapse:${n}`,children:e.name})})}),XC(fb(e.type))&&L("div",{children:[L("div",{children:["v.",e.versionNumber]}),!e.isLatestVersion&&m("div",{children:"(old version)"})]})]})]}),[e,n])};try{sd.displayName="EntityNodeLabel",sd.__docgenInfo={description:"",displayName:"EntityNodeLabel",props:{name:{defaultValue:null,description:"The name of the entity",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"The id of the entity",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"The type of the entity",name:"type",required:!0,type:{name:"enum",value:[{value:'"org.sagebionetworks.repo.model.table.EntityView"'},{value:'"org.sagebionetworks.repo.model.table.SubmissionView"'},{value:'"org.sagebionetworks.repo.model.table.Dataset"'},{value:'"org.sagebionetworks.repo.model.table.DatasetCollection"'},{value:'"org.sagebionetworks.repo.model.Link"'},{value:'"org.sagebionetworks.repo.model.docker.DockerRepository"'},{value:'"org.sagebionetworks.repo.model.FileEntity"'},{value:'"org.sagebionetworks.repo.model.table.TableEntity"'},{value:'"org.sagebionetworks.repo.model.table.MaterializedView"'},{value:'"org.sagebionetworks.repo.model.Folder"'},{value:'"org.sagebionetworks.repo.model.Project"'}]}},versionNumber:{defaultValue:null,description:"The version number of the entity",name:"versionNumber",required:!1,type:{name:"number"}},versionLabel:{defaultValue:null,description:"The user defined version label of the entity",name:"versionLabel",required:!1,type:{name:"string"}},benefactorId:{defaultValue:null,description:"The ID of the entity that this Entity's ACL is inherited from.",name:"benefactorId",required:!0,type:{name:"number"}},createdOn:{defaultValue:null,description:"The date this entity was created.",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"The date this entity was last modified.",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"The ID of the user that created this entity.",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"The ID of the user that last modified this entity.",name:"modifiedBy",required:!0,type:{name:"string"}},isLatestVersion:{defaultValue:null,description:"If this version is the latest version of the entity",name:"isLatestVersion",required:!0,type:{name:"boolean"}}}}}catch{}var V0={exports:{}};(function(e,t){(function(n,a){typeof Ps=="function"?e.exports=a():n.pluralize=a()})(Qr,function(){var n=[],a=[],r={},i={},o={};function s(v){return typeof v=="string"?new RegExp("^"+v+"$","i"):v}function l(v,g){return v===g?g:v===v.toLowerCase()?g.toLowerCase():v===v.toUpperCase()?g.toUpperCase():v[0]===v[0].toUpperCase()?g.charAt(0).toUpperCase()+g.substr(1).toLowerCase():g.toLowerCase()}function c(v,g){return v.replace(/\$(\d{1,2})/g,function(b,E){return g[E]||""})}function u(v,g){return v.replace(g[0],function(b,E){var y=c(g[1],arguments);return l(b===""?v[E-1]:b,y)})}function d(v,g,b){if(!v.length||r.hasOwnProperty(v))return g;for(var E=b.length;E--;){var y=b[E];if(y[0].test(g))return u(g,y)}return g}function f(v,g,b){return function(E){var y=E.toLowerCase();return g.hasOwnProperty(y)?l(E,y):v.hasOwnProperty(y)?l(E,v[y]):d(y,E,b)}}function p(v,g,b,E){return function(y){var _=y.toLowerCase();return g.hasOwnProperty(_)?!0:v.hasOwnProperty(_)?!1:d(_,_,b)===_}}function h(v,g,b){var E=g===1?h.singular(v):h.plural(v);return(b?g+" ":"")+E}return h.plural=f(o,i,n),h.isPlural=p(o,i,n),h.singular=f(i,o,a),h.isSingular=p(i,o,a),h.addPluralRule=function(v,g){n.push([s(v),g])},h.addSingularRule=function(v,g){a.push([s(v),g])},h.addUncountableRule=function(v){if(typeof v=="string"){r[v.toLowerCase()]=!0;return}h.addPluralRule(v,"$0"),h.addSingularRule(v,"$0")},h.addIrregularRule=function(v,g){g=g.toLowerCase(),v=v.toLowerCase(),o[v]=g,i[g]=v},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(v){return h.addIrregularRule(v[0],v[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(v){return h.addPluralRule(v[0],v[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(v){return h.addSingularRule(v[0],v[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(h.addUncountableRule),h})})(V0);var Iq=V0.exports;const Tq=St(Iq),ld=e=>{const{itemCount:t}=e;return k.useMemo(()=>m(Q,{children:L("a",{children:["Show ",t," ",Tq("item",t),"…"]})}),[t])};try{ld.displayName="ExpandGraphNodeLabel",ld.__docgenInfo={description:"",displayName:"ExpandGraphNodeLabel",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!0,type:{name:"EntityHeader"}},itemCount:{defaultValue:null,description:"",name:"itemCount",required:!0,type:{name:"number"}}}}}catch{}const Rq=/^(.+?\.)?github\.com$/,Pq=/^(.+?\.)?githubusercontent\.com$/,ud=e=>{const{url:t}=e;let n="link";const a=new URL(t),{hostname:r}=a;return(r.match(Rq)||r.match(Pq))&&(n="github"),m(qe,{icon:n})};try{ud.displayName="ProvenanceExternalIcon",ud.__docgenInfo={description:"",displayName:"ProvenanceExternalIcon",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}}}}}catch{}const cd=e=>k.useMemo(()=>L(Q,{children:[m("div",{children:m(ud,{url:e.url})}),m(yt,{title:e.name,placement:"top",enterNextDelay:300,children:m("a",{href:e.url,rel:"noopener noreferrer",children:e.name})})]}),[e.name,e.url]);try{cd.displayName="ExternalGraphNodeLabel",cd.__docgenInfo={description:"",displayName:"ExternalGraphNodeLabel",props:{concreteType:{defaultValue:null,description:"",name:"concreteType",required:!0,type:{name:'"org.sagebionetworks.repo.model.provenance.UsedURL"'}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},wasExecuted:{defaultValue:null,description:"",name:"wasExecuted",required:!0,type:{name:"boolean"}}}}}catch{}var Ll,Gm;function Aq(){if(Gm)return Ll;Gm=1;var e=s1,t=4;function n(a){return e(a,t)}return Ll=n,Ll}var Vl,Ym;function Kp(){if(Ym)return Vl;Ym=1;function e(t){return function(){return t}}return Vl=e,Vl}var kq=Nn;function qq(e,t){return function(n,a){if(n==null)return n;if(!kq(n))return e(n,a);for(var r=n.length,i=t?r:-1,o=Object(n);(t?i--:++i<r)&&a(o[i],i,o)!==!1;);return n}}var $q=qq,Dq=Eb,Fq=$q,Oq=Fq(Dq),js=Oq,Lq=fa;function Vq(e){return typeof e=="function"?e:Lq}var M0=Vq,Mq=vb,Bq=js,Uq=M0,zq=ir;function Hq(e,t){var n=zq(e)?Mq:Bq;return n(e,Uq(t))}var Xp=Hq,Ml,Km;function B0(){return Km||(Km=1,Ml=Xp),Ml}var Bl,Xm;function Wq(){if(Xm)return Bl;Xm=1;var e=js;function t(n,a){var r=[];return e(n,function(i,o,s){a(i,o,s)&&r.push(i)}),r}return Bl=t,Bl}var Ul,Zm;function U0(){if(Zm)return Ul;Zm=1;var e=g1(),t=Wq(),n=Xr,a=ir;function r(i,o){var s=a(i)?e:t;return s(i,n(o))}return Ul=r,Ul}var zl,Jm;function jq(){if(Jm)return zl;Jm=1;var e=Object.prototype,t=e.hasOwnProperty;function n(a,r){return a!=null&&t.call(a,r)}return zl=n,zl}var Hl,ev;function z0(){if(ev)return Hl;ev=1;var e=jq(),t=y1;function n(a,r){return a!=null&&t(a,r,e)}return Hl=n,Hl}var Qq=Cb,Gq=xb,Yq=mp,Kq=ir,Xq=Nn,Zq=vp,Jq=b1,e$=gp,t$="[object Map]",r$="[object Set]",n$=Object.prototype,a$=n$.hasOwnProperty;function i$(e){if(e==null)return!0;if(Xq(e)&&(Kq(e)||typeof e=="string"||typeof e.splice=="function"||Zq(e)||e$(e)||Yq(e)))return!e.length;var t=Gq(e);if(t==t$||t==r$)return!e.size;if(Jq(e))return!Qq(e).length;for(var n in e)if(a$.call(e,n))return!1;return!0}var H0=i$;const vW=St(H0);var Wl,tv;function W0(){if(tv)return Wl;tv=1;function e(t){return t===void 0}return Wl=e,Wl}var o$=js,s$=Nn;function l$(e,t){var n=-1,a=s$(e)?Array(e.length):[];return o$(e,function(r,i,o){a[++n]=t(r,i,o)}),a}var j0=l$,jl,rv;function Q0(){if(rv)return jl;rv=1;var e=Zr,t=Xr,n=j0,a=ir;function r(i,o){var s=a(i)?e:n;return s(i,t(o))}return jl=r,jl}var Ql,nv;function u$(){if(nv)return Ql;nv=1;function e(t,n,a,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(a=t[++i]);++i<o;)a=n(a,t[i],i,t);return a}return Ql=e,Ql}var Gl,av;function c$(){if(av)return Gl;av=1;function e(t,n,a,r,i){return i(t,function(o,s,l){a=r?(r=!1,o):n(a,o,s,l)}),a}return Gl=e,Gl}var Yl,iv;function G0(){if(iv)return Yl;iv=1;var e=u$(),t=js,n=Xr,a=c$(),r=ir;function i(o,s,l){var c=r(o)?e:a,u=arguments.length<3;return c(o,n(s),l,u,t)}return Yl=i,Yl}var Kl,ov;function d$(){if(ov)return Kl;ov=1;var e=w1,t=e("length");return Kl=t,Kl}var Xl,sv;function f$(){if(sv)return Xl;sv=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+n+a,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+r+i+"]");function l(c){return s.test(c)}return Xl=l,Xl}var Zl,lv;function p$(){if(lv)return Zl;lv=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+n+a,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+r+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",h=c+"?",v="["+i+"]?",g="(?:"+p+"(?:"+[u,d,f].join("|")+")"+v+h+")*",b=v+h+g,E="(?:"+[u+s+"?",s,d,f,o].join("|")+")",y=RegExp(l+"(?="+l+")|"+E+b,"g");function _(w){for(var S=y.lastIndex=0;y.test(w);)++S;return S}return Zl=_,Zl}var Jl,uv;function h$(){if(uv)return Jl;uv=1;var e=d$(),t=f$(),n=p$();function a(r){return t(r)?n(r):e(r)}return Jl=a,Jl}var eu,cv;function m$(){if(cv)return eu;cv=1;var e=Cb,t=xb,n=Nn,a=$1,r=h$(),i="[object Map]",o="[object Set]";function s(l){if(l==null)return 0;if(n(l))return a(l)?r(l):l.length;var c=t(l);return c==i||c==o?l.size:e(l).length}return eu=s,eu}var tu,dv;function v$(){if(dv)return tu;dv=1;var e=vb,t=l1,n=Eb,a=Xr,r=S1,i=ir,o=vp,s=yp,l=wi,c=gp;function u(d,f,p){var h=i(d),v=h||o(d)||c(d);if(f=a(f),p==null){var g=d&&d.constructor;v?p=h?new g:[]:l(d)?p=s(g)?t(r(d)):{}:p={}}return(v?e:n)(d,function(b,E,y){return f(p,b,E,y)}),p}return tu=u,tu}var fv=_1,g$=mp,y$=ir,pv=fv?fv.isConcatSpreadable:void 0;function b$(e){return y$(e)||g$(e)||!!(pv&&e&&e[pv])}var w$=b$,S$=E1,_$=w$;function Y0(e,t,n,a,r){var i=-1,o=e.length;for(n||(n=_$),r||(r=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?Y0(s,t-1,n,a,r):S$(r,s):a||(r[r.length]=s)}return r}var Qs=Y0;function E$(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var K0=E$,C$=K0,hv=Math.max;function x$(e,t,n){return t=hv(t===void 0?e.length-1:t,0),function(){for(var a=arguments,r=-1,i=hv(a.length-t,0),o=Array(i);++r<i;)o[r]=a[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=a[r];return s[t]=n(o),C$(e,this,s)}}var X0=x$,N$=Kp(),mv=C1,I$=fa,T$=mv?function(e,t){return mv(e,"toString",{configurable:!0,enumerable:!1,value:N$(t),writable:!0})}:I$,R$=T$,P$=800,A$=16,k$=Date.now;function q$(e){var t=0,n=0;return function(){var a=k$(),r=A$-(a-n);if(n=a,r>0){if(++t>=P$)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $$=q$,D$=R$,F$=$$,O$=F$(D$),Z0=O$,L$=fa,V$=X0,M$=Z0;function B$(e,t){return M$(V$(e,t,L$),e+"")}var en=B$,U$=Nn,z$=Nb;function H$(e){return z$(e)&&U$(e)}var Gs=H$,W$=Qs,j$=en,Q$=gb,G$=Gs,Y$=j$(function(e){return Q$(W$(e,1,G$,!0))}),J0=Y$;const gW=St(J0);var ru,vv;function K$(){if(vv)return ru;vv=1;var e=Zr;function t(n,a){return e(a,function(r){return n[r]})}return ru=t,ru}var nu,gv;function eS(){if(gv)return nu;gv=1;var e=K$(),t=bp;function n(a){return a==null?[]:e(a,t(a))}return nu=n,nu}var au,yv;function Ot(){if(yv)return au;yv=1;var e;if(typeof Ps=="function")try{e={clone:Aq(),constant:Kp(),each:B0(),filter:U0(),has:z0(),isArray:ir,isEmpty:H0,isFunction:yp,isUndefined:W0(),keys:bp,map:Q0(),reduce:G0(),size:m$(),transform:v$(),union:J0,values:eS()}}catch{}return e||(e=window._),au=e,au}var iu,bv;function Zp(){if(bv)return iu;bv=1;var e=Ot();iu=r;var t="\0",n="\0",a="";function r(u){this._isDirected=e.has(u,"directed")?u.directed:!0,this._isMultigraph=e.has(u,"multigraph")?u.multigraph:!1,this._isCompound=e.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(u){return this._label=u,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultNodeLabelFn=u,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return e.keys(this._nodes)},r.prototype.sources=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._in[d])})},r.prototype.sinks=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._out[d])})},r.prototype.setNodes=function(u,d){var f=arguments,p=this;return e.each(u,function(h){f.length>1?p.setNode(h,d):p.setNode(h)}),this},r.prototype.setNode=function(u,d){return e.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=n,this._children[u]={},this._children[n][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},r.prototype.node=function(u){return this._nodes[u]},r.prototype.hasNode=function(u){return e.has(this._nodes,u)},r.prototype.removeNode=function(u){var d=this;if(e.has(this._nodes,u)){var f=function(p){d.removeEdge(d._edgeObjs[p])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],e.each(this.children(u),function(p){d.setParent(p)}),delete this._children[u]),e.each(e.keys(this._in[u]),f),delete this._in[u],delete this._preds[u],e.each(e.keys(this._out[u]),f),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},r.prototype.setParent=function(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this},r.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},r.prototype.parent=function(u){if(this._isCompound){var d=this._parent[u];if(d!==n)return d}},r.prototype.children=function(u){if(e.isUndefined(u)&&(u=n),this._isCompound){var d=this._children[u];if(d)return e.keys(d)}else{if(u===n)return this.nodes();if(this.hasNode(u))return[]}},r.prototype.predecessors=function(u){var d=this._preds[u];if(d)return e.keys(d)},r.prototype.successors=function(u){var d=this._sucs[u];if(d)return e.keys(d)},r.prototype.neighbors=function(u){var d=this.predecessors(u);if(d)return e.union(d,this.successors(u))},r.prototype.isLeaf=function(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0},r.prototype.filterNodes=function(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(v,g){u(g)&&d.setNode(g,v)}),e.each(this._edgeObjs,function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,f.edge(v))});var p={};function h(v){var g=f.parent(v);return g===void 0||d.hasNode(g)?(p[v]=g,g):g in p?p[g]:h(g)}return this._isCompound&&e.each(d.nodes(),function(v){d.setParent(v,h(v))}),d},r.prototype.setDefaultEdgeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultEdgeLabelFn=u,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return e.values(this._edgeObjs)},r.prototype.setPath=function(u,d){var f=this,p=arguments;return e.reduce(u,function(h,v){return p.length>1?f.setEdge(h,v,d):f.setEdge(h,v),v}),this},r.prototype.setEdge=function(){var u,d,f,p,h=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(u=v.v,d=v.w,f=v.name,arguments.length===2&&(p=arguments[1],h=!0)):(u=v,d=arguments[1],f=arguments[3],arguments.length>2&&(p=arguments[2],h=!0)),u=""+u,d=""+d,e.isUndefined(f)||(f=""+f);var g=s(this._isDirected,u,d,f);if(e.has(this._edgeLabels,g))return h&&(this._edgeLabels[g]=p),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[g]=h?p:this._defaultEdgeLabelFn(u,d,f);var b=l(this._isDirected,u,d,f);return u=b.v,d=b.w,Object.freeze(b),this._edgeObjs[g]=b,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][g]=b,this._out[u][g]=b,this._edgeCount++,this},r.prototype.edge=function(u,d,f){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return this._edgeLabels[p]},r.prototype.hasEdge=function(u,d,f){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return e.has(this._edgeLabels,p)},r.prototype.removeEdge=function(u,d,f){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,f),h=this._edgeObjs[p];return h&&(u=h.v,d=h.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[d],u),o(this._sucs[u],d),delete this._in[d][p],delete this._out[u][p],this._edgeCount--),this},r.prototype.inEdges=function(u,d){var f=this._in[u];if(f){var p=e.values(f);return d?e.filter(p,function(h){return h.v===d}):p}},r.prototype.outEdges=function(u,d){var f=this._out[u];if(f){var p=e.values(f);return d?e.filter(p,function(h){return h.w===d}):p}},r.prototype.nodeEdges=function(u,d){var f=this.inEdges(u,d);if(f)return f.concat(this.outEdges(u,d))};function i(u,d){u[d]?u[d]++:u[d]=1}function o(u,d){--u[d]||delete u[d]}function s(u,d,f,p){var h=""+d,v=""+f;if(!u&&h>v){var g=h;h=v,v=g}return h+a+v+a+(e.isUndefined(p)?t:p)}function l(u,d,f,p){var h=""+d,v=""+f;if(!u&&h>v){var g=h;h=v,v=g}var b={v:h,w:v};return p&&(b.name=p),b}function c(u,d){return s(u,d.v,d.w,d.name)}return iu}var ou,wv;function X$(){return wv||(wv=1,ou="2.1.8"),ou}var su,Sv;function Z$(){return Sv||(Sv=1,su={Graph:Zp(),version:X$()}),su}var lu,_v;function J$(){if(_v)return lu;_v=1;var e=Ot(),t=Zp();lu={write:n,read:i};function n(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:a(o),edges:r(o)};return e.isUndefined(o.graph())||(s.value=e.clone(o.graph())),s}function a(o){return e.map(o.nodes(),function(s){var l=o.node(s),c=o.parent(s),u={v:s};return e.isUndefined(l)||(u.value=l),e.isUndefined(c)||(u.parent=c),u})}function r(o){return e.map(o.edges(),function(s){var l=o.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(l)||(c.value=l),c})}function i(o){var s=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(o.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return lu}var uu,Ev;function eD(){if(Ev)return uu;Ev=1;var e=Ot();uu=t;function t(n){var a={},r=[],i;function o(s){e.has(a,s)||(a[s]=!0,i.push(s),e.each(n.successors(s),o),e.each(n.predecessors(s),o))}return e.each(n.nodes(),function(s){i=[],o(s),i.length&&r.push(i)}),r}return uu}var cu,Cv;function tS(){if(Cv)return cu;Cv=1;var e=Ot();cu=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var a=this._keyIndices[n];if(a!==void 0)return this._arr[a].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,a){var r=this._keyIndices;if(n=String(n),!e.has(r,n)){var i=this._arr,o=i.length;return r[n]=o,i.push({key:n,priority:a}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,a){var r=this._keyIndices[n];if(a>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[r].priority+" New: "+a);this._arr[r].priority=a,this._decrease(r)},t.prototype._heapify=function(n){var a=this._arr,r=2*n,i=r+1,o=n;r<a.length&&(o=a[r].priority<a[o].priority?r:o,i<a.length&&(o=a[i].priority<a[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var a=this._arr,r=a[n].priority,i;n!==0&&(i=n>>1,!(a[i].priority<r));)this._swap(n,i),n=i},t.prototype._swap=function(n,a){var r=this._arr,i=this._keyIndices,o=r[n],s=r[a];r[n]=s,r[a]=o,i[s.key]=n,i[o.key]=a},cu}var du,xv;function rS(){if(xv)return du;xv=1;var e=Ot(),t=tS();du=a;var n=e.constant(1);function a(i,o,s,l){return r(i,String(o),s||n,l||function(c){return i.outEdges(c)})}function r(i,o,s,l){var c={},u=new t,d,f,p=function(h){var v=h.v!==d?h.v:h.w,g=c[v],b=s(h),E=f.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+b);E<g.distance&&(g.distance=E,g.predecessor=d,u.decrease(v,E))};for(i.nodes().forEach(function(h){var v=h===o?0:Number.POSITIVE_INFINITY;c[h]={distance:v},u.add(h,v)});u.size()>0&&(d=u.removeMin(),f=c[d],f.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(p);return c}return du}var fu,Nv;function tD(){if(Nv)return fu;Nv=1;var e=rS(),t=Ot();fu=n;function n(a,r,i){return t.transform(a.nodes(),function(o,s){o[s]=e(a,s,r,i)},{})}return fu}var pu,Iv;function nS(){if(Iv)return pu;Iv=1;var e=Ot();pu=t;function t(n){var a=0,r=[],i={},o=[];function s(l){var c=i[l]={onStack:!0,lowlink:a,index:a++};if(r.push(l),n.successors(l).forEach(function(f){e.has(i,f)?i[f].onStack&&(c.lowlink=Math.min(c.lowlink,i[f].index)):(s(f),c.lowlink=Math.min(c.lowlink,i[f].lowlink))}),c.lowlink===c.index){var u=[],d;do d=r.pop(),i[d].onStack=!1,u.push(d);while(l!==d);o.push(u)}}return n.nodes().forEach(function(l){e.has(i,l)||s(l)}),o}return pu}var hu,Tv;function rD(){if(Tv)return hu;Tv=1;var e=Ot(),t=nS();hu=n;function n(a){return e.filter(t(a),function(r){return r.length>1||r.length===1&&a.hasEdge(r[0],r[0])})}return hu}var mu,Rv;function nD(){if(Rv)return mu;Rv=1;var e=Ot();mu=n;var t=e.constant(1);function n(r,i,o){return a(r,i||t,o||function(s){return r.outEdges(s)})}function a(r,i,o){var s={},l=r.nodes();return l.forEach(function(c){s[c]={},s[c][c]={distance:0},l.forEach(function(u){c!==u&&(s[c][u]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(u){var d=u.v===c?u.w:u.v,f=i(u);s[c][d]={distance:f,predecessor:c}})}),l.forEach(function(c){var u=s[c];l.forEach(function(d){var f=s[d];l.forEach(function(p){var h=f[c],v=u[p],g=f[p],b=h.distance+v.distance;b<g.distance&&(g.distance=b,g.predecessor=v.predecessor)})})}),s}return mu}var vu,Pv;function aS(){if(Pv)return vu;Pv=1;var e=Ot();vu=t,t.CycleException=n;function t(a){var r={},i={},o=[];function s(l){if(e.has(i,l))throw new n;e.has(r,l)||(i[l]=!0,r[l]=!0,e.each(a.predecessors(l),s),delete i[l],o.push(l))}if(e.each(a.sinks(),s),e.size(r)!==a.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,vu}var gu,Av;function aD(){if(Av)return gu;Av=1;var e=aS();gu=t;function t(n){try{e(n)}catch(a){if(a instanceof e.CycleException)return!1;throw a}return!0}return gu}var yu,kv;function iS(){if(kv)return yu;kv=1;var e=Ot();yu=t;function t(a,r,i){e.isArray(r)||(r=[r]);var o=(a.isDirected()?a.successors:a.neighbors).bind(a),s=[],l={};return e.each(r,function(c){if(!a.hasNode(c))throw new Error("Graph does not have node: "+c);n(a,c,i==="post",l,o,s)}),s}function n(a,r,i,o,s,l){e.has(o,r)||(o[r]=!0,i||l.push(r),e.each(s(r),function(c){n(a,c,i,o,s,l)}),i&&l.push(r))}return yu}var bu,qv;function iD(){if(qv)return bu;qv=1;var e=iS();bu=t;function t(n,a){return e(n,a,"post")}return bu}var wu,$v;function oD(){if($v)return wu;$v=1;var e=iS();wu=t;function t(n,a){return e(n,a,"pre")}return wu}var Su,Dv;function sD(){if(Dv)return Su;Dv=1;var e=Ot(),t=Zp(),n=tS();Su=a;function a(r,i){var o=new t,s={},l=new n,c;function u(f){var p=f.v===c?f.w:f.v,h=l.priority(p);if(h!==void 0){var v=i(f);v<h&&(s[p]=c,l.decrease(p,v))}}if(r.nodeCount()===0)return o;e.each(r.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),l.decrease(r.nodes()[0],0);for(var d=!1;l.size()>0;){if(c=l.removeMin(),e.has(s,c))o.setEdge(c,s[c]);else{if(d)throw new Error("Input graph is not connected: "+r);d=!0}r.nodeEdges(c).forEach(u)}return o}return Su}var _u,Fv;function lD(){return Fv||(Fv=1,_u={components:eD(),dijkstra:rS(),dijkstraAll:tD(),findCycles:rD(),floydWarshall:nD(),isAcyclic:aD(),postorder:iD(),preorder:oD(),prim:sD(),tarjan:nS(),topsort:aS()}),_u}var Eu,Ov;function uD(){if(Ov)return Eu;Ov=1;var e=Z$();return Eu={Graph:e.Graph,json:J$(),alg:lD(),version:e.version},Eu}var Uo;if(typeof Ps=="function")try{Uo=uD()}catch{}Uo||(Uo=window.graphlib);var jt=Uo,cD=wp,dD=Nn,fD=x1,pD=wi;function hD(e,t,n){if(!pD(n))return!1;var a=typeof t;return(a=="number"?dD(n)&&fD(t,n.length):a=="string"&&t in n)?cD(n[t],e):!1}var Ys=hD,mD=en,vD=wp,gD=Ys,yD=As,oS=Object.prototype,bD=oS.hasOwnProperty,wD=mD(function(e,t){e=Object(e);var n=-1,a=t.length,r=a>2?t[2]:void 0;for(r&&gD(t[0],t[1],r)&&(a=1);++n<a;)for(var i=t[n],o=yD(i),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(u===void 0||vD(u,oS[c])&&!bD.call(e,c))&&(e[c]=i[c])}return e}),sS=wD,Cu,Lv;function SD(){if(Lv)return Cu;Lv=1;var e=Xr,t=Nn,n=bp;function a(r){return function(i,o,s){var l=Object(i);if(!t(i)){var c=e(o);i=n(i),o=function(d){return c(l[d],d,l)}}var u=r(i,o,s);return u>-1?l[c?i[u]:u]:void 0}}return Cu=a,Cu}var xu,Vv;function lS(){if(Vv)return xu;Vv=1;var e=D1,t=1/0,n=17976931348623157e292;function a(r){if(!r)return r===0?r:0;if(r=e(r),r===t||r===-t){var i=r<0?-1:1;return i*n}return r===r?r:0}return xu=a,xu}var Nu,Mv;function _D(){if(Mv)return Nu;Mv=1;var e=lS();function t(n){var a=e(n),r=a%1;return a===a?r?a-r:a:0}return Nu=t,Nu}var Iu,Bv;function ED(){if(Bv)return Iu;Bv=1;var e=u1,t=Xr,n=_D(),a=Math.max;function r(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=a(l+c,0)),e(i,t(o),c)}return Iu=r,Iu}var Tu,Uv;function CD(){if(Uv)return Tu;Uv=1;var e=SD(),t=ED(),n=e(t);return Tu=n,Tu}var xD=Qs;function ND(e){var t=e==null?0:e.length;return t?xD(e,1):[]}var Jp=ND,Ru,zv;function ID(){if(zv)return Ru;zv=1;var e=Ib,t=M0,n=As;function a(r,i){return r==null?r:e(r,t(i),n)}return Ru=a,Ru}function TD(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var uS=TD,Pu,Hv;function eh(){if(Hv)return Pu;Hv=1;var e=Tb;function t(n,a,r){for(var i=-1,o=n.length;++i<o;){var s=n[i],l=a(s);if(l!=null&&(c===void 0?l===l&&!e(l):r(l,c)))var c=l,u=s}return u}return Pu=t,Pu}var Au,Wv;function RD(){if(Wv)return Au;Wv=1;function e(t,n){return t>n}return Au=e,Au}var ku,jv;function PD(){if(jv)return ku;jv=1;var e=eh(),t=RD(),n=fa;function a(r){return r&&r.length?e(r,n,t):void 0}return ku=a,ku}var AD=N1,kD=wp;function qD(e,t,n){(n!==void 0&&!kD(e[t],n)||n===void 0&&!(t in e))&&AD(e,t,n)}var cS=qD;function $D(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var dS=$D,DD=c1,FD=As;function OD(e){return DD(e,FD(e))}var LD=OD,Qv=cS,VD=d1,MD=f1,BD=yb,UD=p1,Gv=mp,Yv=ir,zD=Gs,HD=vp,WD=yp,jD=wi,QD=Sp,GD=gp,Kv=dS,YD=LD;function KD(e,t,n,a,r,i,o){var s=Kv(e,n),l=Kv(t,n),c=o.get(l);if(c){Qv(e,n,c);return}var u=i?i(s,l,n+"",e,t,o):void 0,d=u===void 0;if(d){var f=Yv(l),p=!f&&HD(l),h=!f&&!p&&GD(l);u=l,f||p||h?Yv(s)?u=s:zD(s)?u=BD(s):p?(d=!1,u=VD(l,!0)):h?(d=!1,u=MD(l,!0)):u=[]:QD(l)||Gv(l)?(u=s,Gv(s)?u=YD(s):(!jD(s)||WD(s))&&(u=UD(l))):d=!1}d&&(o.set(l,u),r(u,l,a,i,o),o.delete(l)),Qv(e,n,u)}var XD=KD,ZD=I1,JD=cS,eF=Ib,tF=XD,rF=wi,nF=As,aF=dS;function fS(e,t,n,a,r){e!==t&&eF(t,function(i,o){if(r||(r=new ZD),rF(i))tF(e,t,o,n,fS,a,r);else{var s=a?a(aF(e,o),i,o+"",e,t,r):void 0;s===void 0&&(s=i),JD(e,o,s)}},nF)}var th=fS,iF=en,oF=Ys;function sF(e){return iF(function(t,n){var a=-1,r=n.length,i=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(r--,i):void 0,o&&oF(n[0],n[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++a<r;){var s=n[a];s&&e(t,s,a,i)}return t})}var pS=sF,qu,Xv;function lF(){if(Xv)return qu;Xv=1;var e=th,t=pS,n=t(function(a,r,i){e(a,r,i)});return qu=n,qu}var $u,Zv;function hS(){if(Zv)return $u;Zv=1;function e(t,n){return t<n}return $u=e,$u}var Du,Jv;function uF(){if(Jv)return Du;Jv=1;var e=eh(),t=hS(),n=fa;function a(r){return r&&r.length?e(r,n,t):void 0}return Du=a,Du}var Fu,eg;function cF(){if(eg)return Fu;eg=1;var e=eh(),t=Xr,n=hS();function a(r,i){return r&&r.length?e(r,t(i),n):void 0}return Fu=a,Fu}var dF=h1,fF=T1;function pF(e,t){return dF(e,t,function(n,a){return fF(e,a)})}var hF=pF,mF=Jp,vF=X0,gF=Z0;function yF(e){return gF(vF(e,void 0,mF),e+"")}var bF=yF,wF=hF,SF=bF,_F=SF(function(e,t){return e==null?{}:wF(e,t)}),mS=_F;const yW=St(mS);var Ou,tg;function EF(){if(tg)return Ou;tg=1;var e=Math.ceil,t=Math.max;function n(a,r,i,o){for(var s=-1,l=t(e((r-a)/(i||1)),0),c=Array(l);l--;)c[o?l:++s]=a,a+=i;return c}return Ou=n,Ou}var Lu,rg;function CF(){if(rg)return Lu;rg=1;var e=EF(),t=Ys,n=lS();function a(r){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),s=s===void 0?i<o?1:-1:n(s),e(i,o,s,r)}}return Lu=a,Lu}var Vu,ng;function xF(){if(ng)return Vu;ng=1;var e=CF(),t=e();return Vu=t,Vu}function NF(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var IF=NF,ag=Tb;function TF(e,t){if(e!==t){var n=e!==void 0,a=e===null,r=e===e,i=ag(e),o=t!==void 0,s=t===null,l=t===t,c=ag(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||a&&o&&l||!n&&l||!r)return 1;if(!a&&!i&&!c&&e<t||c&&n&&r&&!a&&!i||s&&n&&r||!o&&r||!l)return-1}return 0}var RF=TF,PF=RF;function AF(e,t,n){for(var a=-1,r=e.criteria,i=t.criteria,o=r.length,s=n.length;++a<o;){var l=PF(r[a],i[a]);if(l){if(a>=s)return l;var c=n[a];return l*(c=="desc"?-1:1)}}return e.index-t.index}var kF=AF,Mu=Zr,qF=R1,$F=Xr,DF=j0,FF=IF,OF=ks,LF=kF,VF=fa,MF=ir;function BF(e,t,n){t.length?t=Mu(t,function(i){return MF(i)?function(o){return qF(o,i.length===1?i[0]:i)}:i}):t=[VF];var a=-1;t=Mu(t,OF($F));var r=DF(e,function(i,o,s){var l=Mu(t,function(c){return c(i)});return{criteria:l,index:++a,value:i}});return FF(r,function(i,o){return LF(i,o,n)})}var UF=BF,zF=Qs,HF=UF,WF=en,ig=Ys,jF=WF(function(e,t){if(e==null)return[];var n=t.length;return n>1&&ig(e,t[0],t[1])?t=[]:n>2&&ig(t[0],t[1],t[2])&&(t=[t[0]]),HF(e,zF(t,1),[])}),rh=jF,Bu,og;function QF(){if(og)return Bu;og=1;var e=P1,t=0;function n(a){var r=++t;return e(a)+r}return Bu=n,Bu}var Uu,sg;function GF(){if(sg)return Uu;sg=1;function e(t,n,a){for(var r=-1,i=t.length,o=n.length,s={};++r<i;){var l=r<o?n[r]:void 0;a(s,t[r],l)}return s}return Uu=e,Uu}var zu,lg;function YF(){if(lg)return zu;lg=1;var e=m1,t=GF();function n(a,r){return t(a||[],r||[],e)}return zu=n,zu}var zo;if(typeof Ps=="function")try{zo={cloneDeep:bb,constant:Kp(),defaults:sS,each:B0(),filter:U0(),find:CD(),flatten:Jp,forEach:Xp,forIn:ID(),has:z0(),isUndefined:W0(),last:uS,map:Q0(),mapValues:A1,max:PD(),merge:lF(),min:uF(),minBy:cF(),now:F1(),pick:mS,range:xF(),reduce:G0(),sortBy:rh,uniqueId:QF(),values:eS(),zipObject:YF()}}catch{}zo||(zo=window._);var je=zo,KF=Ks;function Ks(){var e={};e._next=e._prev=e,this._sentinel=e}Ks.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return vS(t),t};Ks.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&vS(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Ks.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,XF)),n=n._prev;return"["+e.join(", ")+"]"};function vS(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function XF(e,t){if(e!=="_next"&&e!=="_prev")return t}var gr=je,ZF=jt.Graph,JF=KF,e2=r2,t2=gr.constant(1);function r2(e,t){if(e.nodeCount()<=1)return[];var n=a2(e,t||t2),a=n2(n.graph,n.buckets,n.zeroIdx);return gr.flatten(gr.map(a,function(r){return e.outEdges(r.v,r.w)}),!0)}function n2(e,t,n){for(var a=[],r=t[t.length-1],i=t[0],o;e.nodeCount();){for(;o=i.dequeue();)Hu(e,t,n,o);for(;o=r.dequeue();)Hu(e,t,n,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){a=a.concat(Hu(e,t,n,o,!0));break}}}return a}function Hu(e,t,n,a,r){var i=r?[]:void 0;return gr.forEach(e.inEdges(a.v),function(o){var s=e.edge(o),l=e.node(o.v);r&&i.push({v:o.v,w:o.w}),l.out-=s,dd(t,n,l)}),gr.forEach(e.outEdges(a.v),function(o){var s=e.edge(o),l=o.w,c=e.node(l);c.in-=s,dd(t,n,c)}),e.removeNode(a.v),i}function a2(e,t){var n=new ZF,a=0,r=0;gr.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),gr.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,c=t(s),u=l+c;n.setEdge(s.v,s.w,u),r=Math.max(r,n.node(s.v).out+=c),a=Math.max(a,n.node(s.w).in+=c)});var i=gr.range(r+a+3).map(function(){return new JF}),o=a+1;return gr.forEach(n.nodes(),function(s){dd(i,o,n.node(s))}),{graph:n,buckets:i,zeroIdx:o}}function dd(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var cn=je,i2=e2,o2={run:s2,undo:u2};function s2(e){var t=e.graph().acyclicer==="greedy"?i2(e,n(e)):l2(e);cn.forEach(t,function(a){var r=e.edge(a);e.removeEdge(a),r.forwardName=a.name,r.reversed=!0,e.setEdge(a.w,a.v,r,cn.uniqueId("rev"))});function n(a){return function(r){return a.edge(r).weight}}}function l2(e){var t=[],n={},a={};function r(i){cn.has(a,i)||(a[i]=!0,n[i]=!0,cn.forEach(e.outEdges(i),function(o){cn.has(n,o.w)?t.push(o):r(o.w)}),delete n[i])}return cn.forEach(e.nodes(),r),t}function u2(e){cn.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var a=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,a)}})}var Ae=je,gS=jt.Graph,bt={addDummyNode:yS,simplify:c2,asNonCompoundGraph:d2,successorWeights:f2,predecessorWeights:p2,intersectRect:h2,buildLayerMatrix:m2,normalizeRanks:v2,removeEmptyRanks:g2,addBorderNode:y2,maxRank:bS,partition:b2,time:w2,notime:S2};function yS(e,t,n,a){var r;do r=Ae.uniqueId(a);while(e.hasNode(r));return n.dummy=t,e.setNode(r,n),r}function c2(e){var t=new gS().setGraph(e.graph());return Ae.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),Ae.forEach(e.edges(),function(n){var a=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:a.weight+r.weight,minlen:Math.max(a.minlen,r.minlen)})}),t}function d2(e){var t=new gS({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ae.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),Ae.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function f2(e){var t=Ae.map(e.nodes(),function(n){var a={};return Ae.forEach(e.outEdges(n),function(r){a[r.w]=(a[r.w]||0)+e.edge(r).weight}),a});return Ae.zipObject(e.nodes(),t)}function p2(e){var t=Ae.map(e.nodes(),function(n){var a={};return Ae.forEach(e.inEdges(n),function(r){a[r.v]=(a[r.v]||0)+e.edge(r).weight}),a});return Ae.zipObject(e.nodes(),t)}function h2(e,t){var n=e.x,a=e.y,r=t.x-n,i=t.y-a,o=e.width/2,s=e.height/2;if(!r&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(i)*o>Math.abs(r)*s?(i<0&&(s=-s),l=s*r/i,c=s):(r<0&&(o=-o),l=o,c=o*i/r),{x:n+l,y:a+c}}function m2(e){var t=Ae.map(Ae.range(bS(e)+1),function(){return[]});return Ae.forEach(e.nodes(),function(n){var a=e.node(n),r=a.rank;Ae.isUndefined(r)||(t[r][a.order]=n)}),t}function v2(e){var t=Ae.min(Ae.map(e.nodes(),function(n){return e.node(n).rank}));Ae.forEach(e.nodes(),function(n){var a=e.node(n);Ae.has(a,"rank")&&(a.rank-=t)})}function g2(e){var t=Ae.min(Ae.map(e.nodes(),function(i){return e.node(i).rank})),n=[];Ae.forEach(e.nodes(),function(i){var o=e.node(i).rank-t;n[o]||(n[o]=[]),n[o].push(i)});var a=0,r=e.graph().nodeRankFactor;Ae.forEach(n,function(i,o){Ae.isUndefined(i)&&o%r!==0?--a:a&&Ae.forEach(i,function(s){e.node(s).rank+=a})})}function y2(e,t,n,a){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=a),yS(e,"border",r,t)}function bS(e){return Ae.max(Ae.map(e.nodes(),function(t){var n=e.node(t).rank;if(!Ae.isUndefined(n))return n}))}function b2(e,t){var n={lhs:[],rhs:[]};return Ae.forEach(e,function(a){t(a)?n.lhs.push(a):n.rhs.push(a)}),n}function w2(e,t){var n=Ae.now();try{return t()}finally{console.log(e+" time: "+(Ae.now()-n)+"ms")}}function S2(e,t){return t()}var wS=je,_2=bt,E2={run:C2,undo:N2};function C2(e){e.graph().dummyChains=[],wS.forEach(e.edges(),function(t){x2(e,t)})}function x2(e,t){var n=t.v,a=e.node(n).rank,r=t.w,i=e.node(r).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(i!==a+1){e.removeEdge(t);var c,u,d;for(d=0,++a;a<i;++d,++a)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:t,rank:a},c=_2.addDummyNode(e,"edge",u,"_d"),a===l&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},o),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,r,{weight:s.weight},o)}}function N2(e){wS.forEach(e.graph().dummyChains,function(t){var n=e.node(t),a=n.edgeLabel,r;for(e.setEdge(n.edgeObj,a);n.dummy;)r=e.successors(t)[0],e.removeNode(t),a.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),t=r,n=e.node(t)})}var Zi=je,Xs={longestPath:I2,slack:T2};function I2(e){var t={};function n(a){var r=e.node(a);if(Zi.has(t,a))return r.rank;t[a]=!0;var i=Zi.min(Zi.map(e.outEdges(a),function(o){return n(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),r.rank=i}Zi.forEach(e.sources(),n)}function T2(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Ho=je,R2=jt.Graph,Wo=Xs.slack,SS=P2;function P2(e){var t=new R2({directed:!1}),n=e.nodes()[0],a=e.nodeCount();t.setNode(n,{});for(var r,i;A2(t,e)<a;)r=k2(t,e),i=t.hasNode(r.v)?Wo(e,r):-Wo(e,r),q2(t,e,i);return t}function A2(e,t){function n(a){Ho.forEach(t.nodeEdges(a),function(r){var i=r.v,o=a===i?r.w:i;!e.hasNode(o)&&!Wo(t,r)&&(e.setNode(o,{}),e.setEdge(a,o,{}),n(o))})}return Ho.forEach(e.nodes(),n),e.nodeCount()}function k2(e,t){return Ho.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Wo(t,n)})}function q2(e,t,n){Ho.forEach(e.nodes(),function(a){t.node(a).rank+=n})}var Er=je,$2=SS,D2=Xs.slack,F2=Xs.longestPath,O2=jt.alg.preorder,L2=jt.alg.postorder,V2=bt.simplify,M2=Tn;Tn.initLowLimValues=ah;Tn.initCutValues=nh;Tn.calcCutValue=_S;Tn.leaveEdge=CS;Tn.enterEdge=xS;Tn.exchangeEdges=NS;function Tn(e){e=V2(e),F2(e);var t=$2(e);ah(t),nh(t,e);for(var n,a;n=CS(t);)a=xS(t,e,n),NS(t,e,n,a)}function nh(e,t){var n=L2(e,e.nodes());n=n.slice(0,n.length-1),Er.forEach(n,function(a){B2(e,t,a)})}function B2(e,t,n){var a=e.node(n),r=a.parent;e.edge(n,r).cutvalue=_S(e,t,n)}function _S(e,t,n){var a=e.node(n),r=a.parent,i=!0,o=t.edge(n,r),s=0;return o||(i=!1,o=t.edge(r,n)),s=o.weight,Er.forEach(t.nodeEdges(n),function(l){var c=l.v===n,u=c?l.w:l.v;if(u!==r){var d=c===i,f=t.edge(l).weight;if(s+=d?f:-f,z2(e,n,u)){var p=e.edge(n,u).cutvalue;s+=d?-p:p}}}),s}function ah(e,t){arguments.length<2&&(t=e.nodes()[0]),ES(e,{},1,t)}function ES(e,t,n,a,r){var i=n,o=e.node(a);return t[a]=!0,Er.forEach(e.neighbors(a),function(s){Er.has(t,s)||(n=ES(e,t,n,s,a))}),o.low=i,o.lim=n++,r?o.parent=r:delete o.parent,n}function CS(e){return Er.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function xS(e,t,n){var a=n.v,r=n.w;t.hasEdge(a,r)||(a=n.w,r=n.v);var i=e.node(a),o=e.node(r),s=i,l=!1;i.lim>o.lim&&(s=o,l=!0);var c=Er.filter(t.edges(),function(u){return l===ug(e,e.node(u.v),s)&&l!==ug(e,e.node(u.w),s)});return Er.minBy(c,function(u){return D2(t,u)})}function NS(e,t,n,a){var r=n.v,i=n.w;e.removeEdge(r,i),e.setEdge(a.v,a.w,{}),ah(e),nh(e,t),U2(e,t)}function U2(e,t){var n=Er.find(e.nodes(),function(r){return!t.node(r).parent}),a=O2(e,n);a=a.slice(1),Er.forEach(a,function(r){var i=e.node(r).parent,o=t.edge(r,i),s=!1;o||(o=t.edge(i,r),s=!0),t.node(r).rank=t.node(i).rank+(s?o.minlen:-o.minlen)})}function z2(e,t,n){return e.hasEdge(t,n)}function ug(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var H2=Xs,IS=H2.longestPath,W2=SS,j2=M2,Q2=G2;function G2(e){switch(e.graph().ranker){case"network-simplex":cg(e);break;case"tight-tree":K2(e);break;case"longest-path":Y2(e);break;default:cg(e)}}var Y2=IS;function K2(e){IS(e),W2(e)}function cg(e){j2(e)}var fd=je,X2=Z2;function Z2(e){var t=eO(e);fd.forEach(e.graph().dummyChains,function(n){for(var a=e.node(n),r=a.edgeObj,i=J2(e,t,r.v,r.w),o=i.path,s=i.lca,l=0,c=o[l],u=!0;n!==r.w;){if(a=e.node(n),u){for(;(c=o[l])!==s&&e.node(c).maxRank<a.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<o.length-1&&e.node(c=o[l+1]).minRank<=a.rank;)l++;c=o[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function J2(e,t,n,a){var r=[],i=[],o=Math.min(t[n].low,t[a].low),s=Math.max(t[n].lim,t[a].lim),l,c;l=n;do l=e.parent(l),r.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(c=l,l=a;(l=e.parent(l))!==c;)i.push(l);return{path:r.concat(i.reverse()),lca:c}}function eO(e){var t={},n=0;function a(r){var i=n;fd.forEach(e.children(r),a),t[r]={low:i,lim:n++}}return fd.forEach(e.children(),a),t}var yr=je,pd=bt,tO={run:rO,cleanup:iO};function rO(e){var t=pd.addDummyNode(e,"root",{},"_root"),n=nO(e),a=yr.max(yr.values(n))-1,r=2*a+1;e.graph().nestingRoot=t,yr.forEach(e.edges(),function(o){e.edge(o).minlen*=r});var i=aO(e)+1;yr.forEach(e.children(),function(o){TS(e,t,r,i,a,n,o)}),e.graph().nodeRankFactor=r}function TS(e,t,n,a,r,i,o){var s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=pd.addBorderNode(e,"_bt"),c=pd.addBorderNode(e,"_bb"),u=e.node(o);e.setParent(l,o),u.borderTop=l,e.setParent(c,o),u.borderBottom=c,yr.forEach(s,function(d){TS(e,t,n,a,r,i,d);var f=e.node(d),p=f.borderTop?f.borderTop:d,h=f.borderBottom?f.borderBottom:d,v=f.borderTop?a:2*a,g=p!==h?1:r-i[o]+1;e.setEdge(l,p,{weight:v,minlen:g,nestingEdge:!0}),e.setEdge(h,c,{weight:v,minlen:g,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:r+i[o]})}function nO(e){var t={};function n(a,r){var i=e.children(a);i&&i.length&&yr.forEach(i,function(o){n(o,r+1)}),t[a]=r}return yr.forEach(e.children(),function(a){n(a,1)}),t}function aO(e){return yr.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function iO(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,yr.forEach(e.edges(),function(n){var a=e.edge(n);a.nestingEdge&&e.removeEdge(n)})}var Wu=je,oO=bt,sO=lO;function lO(e){function t(n){var a=e.children(n),r=e.node(n);if(a.length&&Wu.forEach(a,t),Wu.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,o=r.maxRank+1;i<o;++i)dg(e,"borderLeft","_bl",n,r,i),dg(e,"borderRight","_br",n,r,i)}}Wu.forEach(e.children(),t)}function dg(e,t,n,a,r,i){var o={width:0,height:0,rank:i,borderType:t},s=r[t][i-1],l=oO.addDummyNode(e,"border",o,n);r[t][i]=l,e.setParent(l,a),s&&e.setEdge(s,l,{weight:1})}var er=je,uO={adjust:cO,undo:dO};function cO(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&RS(e)}function dO(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&fO(e),(t==="lr"||t==="rl")&&(pO(e),RS(e))}function RS(e){er.forEach(e.nodes(),function(t){fg(e.node(t))}),er.forEach(e.edges(),function(t){fg(e.edge(t))})}function fg(e){var t=e.width;e.width=e.height,e.height=t}function fO(e){er.forEach(e.nodes(),function(t){ju(e.node(t))}),er.forEach(e.edges(),function(t){var n=e.edge(t);er.forEach(n.points,ju),er.has(n,"y")&&ju(n)})}function ju(e){e.y=-e.y}function pO(e){er.forEach(e.nodes(),function(t){Qu(e.node(t))}),er.forEach(e.edges(),function(t){var n=e.edge(t);er.forEach(n.points,Qu),er.has(n,"x")&&Qu(n)})}function Qu(e){var t=e.x;e.x=e.y,e.y=t}var pr=je,hO=mO;function mO(e){var t={},n=pr.filter(e.nodes(),function(s){return!e.children(s).length}),a=pr.max(pr.map(n,function(s){return e.node(s).rank})),r=pr.map(pr.range(a+1),function(){return[]});function i(s){if(!pr.has(t,s)){t[s]=!0;var l=e.node(s);r[l.rank].push(s),pr.forEach(e.successors(s),i)}}var o=pr.sortBy(n,function(s){return e.node(s).rank});return pr.forEach(o,i),r}var Pr=je,vO=gO;function gO(e,t){for(var n=0,a=1;a<t.length;++a)n+=yO(e,t[a-1],t[a]);return n}function yO(e,t,n){for(var a=Pr.zipObject(n,Pr.map(n,function(c,u){return u})),r=Pr.flatten(Pr.map(t,function(c){return Pr.sortBy(Pr.map(e.outEdges(c),function(u){return{pos:a[u.w],weight:e.edge(u).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1;i-=1;var s=Pr.map(new Array(o),function(){return 0}),l=0;return Pr.forEach(r.forEach(function(c){var u=c.pos+i;s[u]+=c.weight;for(var d=0;u>0;)u%2&&(d+=s[u+1]),u=u-1>>1,s[u]+=c.weight;l+=c.weight*d})),l}var pg=je,bO=wO;function wO(e,t){return pg.map(t,function(n){var a=e.inEdges(n);if(a.length){var r=pg.reduce(a,function(i,o){var s=e.edge(o),l=e.node(o.v);return{sum:i.sum+s.weight*l.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:n}})}var Nt=je,SO=_O;function _O(e,t){var n={};Nt.forEach(e,function(r,i){var o=n[r.v]={indegree:0,in:[],out:[],vs:[r.v],i};Nt.isUndefined(r.barycenter)||(o.barycenter=r.barycenter,o.weight=r.weight)}),Nt.forEach(t.edges(),function(r){var i=n[r.v],o=n[r.w];!Nt.isUndefined(i)&&!Nt.isUndefined(o)&&(o.indegree++,i.out.push(n[r.w]))});var a=Nt.filter(n,function(r){return!r.indegree});return EO(a)}function EO(e){var t=[];function n(i){return function(o){o.merged||(Nt.isUndefined(o.barycenter)||Nt.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&CO(i,o)}}function a(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var r=e.pop();t.push(r),Nt.forEach(r.in.reverse(),n(r)),Nt.forEach(r.out,a(r))}return Nt.map(Nt.filter(t,function(i){return!i.merged}),function(i){return Nt.pick(i,["vs","i","barycenter","weight"])})}function CO(e,t){var n=0,a=0;e.weight&&(n+=e.barycenter*e.weight,a+=e.weight),t.weight&&(n+=t.barycenter*t.weight,a+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0}var $a=je,xO=bt,NO=IO;function IO(e,t){var n=xO.partition(e,function(u){return $a.has(u,"barycenter")}),a=n.lhs,r=$a.sortBy(n.rhs,function(u){return-u.i}),i=[],o=0,s=0,l=0;a.sort(TO(!!t)),l=hg(i,r,l),$a.forEach(a,function(u){l+=u.vs.length,i.push(u.vs),o+=u.barycenter*u.weight,s+=u.weight,l=hg(i,r,l)});var c={vs:$a.flatten(i,!0)};return s&&(c.barycenter=o/s,c.weight=s),c}function hg(e,t,n){for(var a;t.length&&(a=$a.last(t)).i<=n;)t.pop(),e.push(a.vs),n++;return n}function TO(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Lr=je,RO=bO,PO=SO,AO=NO,kO=PS;function PS(e,t,n,a){var r=e.children(t),i=e.node(t),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,l={};o&&(r=Lr.filter(r,function(h){return h!==o&&h!==s}));var c=RO(e,r);Lr.forEach(c,function(h){if(e.children(h.v).length){var v=PS(e,h.v,n,a);l[h.v]=v,Lr.has(v,"barycenter")&&$O(h,v)}});var u=PO(c,n);qO(u,l);var d=AO(u,a);if(o&&(d.vs=Lr.flatten([o,d.vs,s],!0),e.predecessors(o).length)){var f=e.node(e.predecessors(o)[0]),p=e.node(e.predecessors(s)[0]);Lr.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function qO(e,t){Lr.forEach(e,function(n){n.vs=Lr.flatten(n.vs.map(function(a){return t[a]?t[a].vs:a}),!0)})}function $O(e,t){Lr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Da=je,DO=jt.Graph,FO=OO;function OO(e,t,n){var a=LO(e),r=new DO({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(i){return e.node(i)});return Da.forEach(e.nodes(),function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(r.setNode(i),r.setParent(i,s||a),Da.forEach(e[n](i),function(l){var c=l.v===i?l.w:l.v,u=r.edge(c,i),d=Da.isUndefined(u)?0:u.weight;r.setEdge(c,i,{weight:e.edge(l).weight+d})}),Da.has(o,"minRank")&&r.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),r}function LO(e){for(var t;e.hasNode(t=Da.uniqueId("_root")););return t}var VO=je,MO=BO;function BO(e,t,n){var a={},r;VO.forEach(n,function(i){for(var o=e.parent(i),s,l;o;){if(s=e.parent(o),s?(l=a[s],a[s]=o):(l=r,r=o),l&&l!==o){t.setEdge(l,o);return}o=s}})}var Hr=je,UO=hO,zO=vO,HO=kO,WO=FO,jO=MO,QO=jt.Graph,mg=bt,GO=YO;function YO(e){var t=mg.maxRank(e),n=vg(e,Hr.range(1,t+1),"inEdges"),a=vg(e,Hr.range(t-1,-1,-1),"outEdges"),r=UO(e);gg(e,r);for(var i=Number.POSITIVE_INFINITY,o,s=0,l=0;l<4;++s,++l){KO(s%2?n:a,s%4>=2),r=mg.buildLayerMatrix(e);var c=zO(e,r);c<i&&(l=0,o=Hr.cloneDeep(r),i=c)}gg(e,o)}function vg(e,t,n){return Hr.map(t,function(a){return WO(e,a,n)})}function KO(e,t){var n=new QO;Hr.forEach(e,function(a){var r=a.graph().root,i=HO(a,r,n,t);Hr.forEach(i.vs,function(o,s){a.node(o).order=s}),jO(a,n,i.vs)})}function gg(e,t){Hr.forEach(t,function(n){Hr.forEach(n,function(a,r){e.node(a).order=r})})}var ge=je,XO=jt.Graph,ZO=bt,JO={positionX:rL,findType1Conflicts:AS,findType2Conflicts:kS,addConflict:ih,hasConflict:qS,verticalAlignment:$S,horizontalCompaction:DS,alignCoordinates:OS,findSmallestWidthAlignment:FS,balance:LS};function AS(e,t){var n={};function a(r,i){var o=0,s=0,l=r.length,c=ge.last(i);return ge.forEach(i,function(u,d){var f=eL(e,u),p=f?e.node(f).order:l;(f||u===c)&&(ge.forEach(i.slice(s,d+1),function(h){ge.forEach(e.predecessors(h),function(v){var g=e.node(v),b=g.order;(b<o||p<b)&&!(g.dummy&&e.node(h).dummy)&&ih(n,v,h)})}),s=d+1,o=p)}),i}return ge.reduce(t,a),n}function kS(e,t){var n={};function a(i,o,s,l,c){var u;ge.forEach(ge.range(o,s),function(d){u=i[d],e.node(u).dummy&&ge.forEach(e.predecessors(u),function(f){var p=e.node(f);p.dummy&&(p.order<l||p.order>c)&&ih(n,f,u)})})}function r(i,o){var s=-1,l,c=0;return ge.forEach(o,function(u,d){if(e.node(u).dummy==="border"){var f=e.predecessors(u);f.length&&(l=e.node(f[0]).order,a(o,c,d,s,l),c=d,s=l)}a(o,c,o.length,l,i.length)}),o}return ge.reduce(t,r),n}function eL(e,t){if(e.node(t).dummy)return ge.find(e.predecessors(t),function(n){return e.node(n).dummy})}function ih(e,t,n){if(t>n){var a=t;t=n,n=a}var r=e[t];r||(e[t]=r={}),r[n]=!0}function qS(e,t,n){if(t>n){var a=t;t=n,n=a}return ge.has(e[t],n)}function $S(e,t,n,a){var r={},i={},o={};return ge.forEach(t,function(s){ge.forEach(s,function(l,c){r[l]=l,i[l]=l,o[l]=c})}),ge.forEach(t,function(s){var l=-1;ge.forEach(s,function(c){var u=a(c);if(u.length){u=ge.sortBy(u,function(v){return o[v]});for(var d=(u.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var h=u[f];i[c]===c&&l<o[h]&&!qS(n,c,h)&&(i[h]=c,i[c]=r[c]=r[h],l=o[h])}}})}),{root:r,align:i}}function DS(e,t,n,a,r){var i={},o=tL(e,t,n,r),s=r?"borderLeft":"borderRight";function l(d,f){for(var p=o.nodes(),h=p.pop(),v={};h;)v[h]?d(h):(v[h]=!0,p.push(h),p=p.concat(f(h))),h=p.pop()}function c(d){i[d]=o.inEdges(d).reduce(function(f,p){return Math.max(f,i[p.v]+o.edge(p))},0)}function u(d){var f=o.outEdges(d).reduce(function(h,v){return Math.min(h,i[v.w]-o.edge(v))},Number.POSITIVE_INFINITY),p=e.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==s&&(i[d]=Math.max(i[d],f))}return l(c,o.predecessors.bind(o)),l(u,o.successors.bind(o)),ge.forEach(a,function(d){i[d]=i[n[d]]}),i}function tL(e,t,n,a){var r=new XO,i=e.graph(),o=nL(i.nodesep,i.edgesep,a);return ge.forEach(t,function(s){var l;ge.forEach(s,function(c){var u=n[c];if(r.setNode(u),l){var d=n[l],f=r.edge(d,u);r.setEdge(d,u,Math.max(o(e,c,l),f||0))}l=c})}),r}function FS(e,t){return ge.minBy(ge.values(t),function(n){var a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return ge.forIn(n,function(i,o){var s=aL(e,o)/2;a=Math.max(i+s,a),r=Math.min(i-s,r)}),a-r})}function OS(e,t){var n=ge.values(t),a=ge.min(n),r=ge.max(n);ge.forEach(["u","d"],function(i){ge.forEach(["l","r"],function(o){var s=i+o,l=e[s],c;if(l!==t){var u=ge.values(l);c=o==="l"?a-ge.min(u):r-ge.max(u),c&&(e[s]=ge.mapValues(l,function(d){return d+c}))}})})}function LS(e,t){return ge.mapValues(e.ul,function(n,a){if(t)return e[t.toLowerCase()][a];var r=ge.sortBy(ge.map(e,a));return(r[1]+r[2])/2})}function rL(e){var t=ZO.buildLayerMatrix(e),n=ge.merge(AS(e,t),kS(e,t)),a={},r;ge.forEach(["u","d"],function(o){r=o==="u"?t:ge.values(t).reverse(),ge.forEach(["l","r"],function(s){s==="r"&&(r=ge.map(r,function(d){return ge.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),c=$S(e,r,n,l),u=DS(e,r,c.root,c.align,s==="r");s==="r"&&(u=ge.mapValues(u,function(d){return-d})),a[o+s]=u})});var i=FS(e,a);return OS(a,i),LS(a,e.graph().align)}function nL(e,t,n){return function(a,r,i){var o=a.node(r),s=a.node(i),l=0,c;if(l+=o.width/2,ge.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(o.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,ge.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function aL(e,t){return e.node(t).width}var Fa=je,VS=bt,iL=JO.positionX,oL=sL;function sL(e){e=VS.asNonCompoundGraph(e),lL(e),Fa.forEach(iL(e),function(t,n){e.node(n).x=t})}function lL(e){var t=VS.buildLayerMatrix(e),n=e.graph().ranksep,a=0;Fa.forEach(t,function(r){var i=Fa.max(Fa.map(r,function(o){return e.node(o).height}));Fa.forEach(r,function(o){e.node(o).y=a+i/2}),a+=i+n})}var Se=je,yg=o2,bg=E2,uL=Q2,cL=bt.normalizeRanks,dL=X2,fL=bt.removeEmptyRanks,wg=tO,pL=sO,Sg=uO,hL=GO,mL=oL,Kr=bt,vL=jt.Graph,gL=yL;function yL(e,t){var n=t&&t.debugTiming?Kr.time:Kr.notime;n("layout",function(){var a=n("  buildLayoutGraph",function(){return RL(e)});n("  runLayout",function(){bL(a,n)}),n("  updateInputGraph",function(){wL(e,a)})})}function bL(e,t){t("    makeSpaceForEdgeLabels",function(){PL(e)}),t("    removeSelfEdges",function(){VL(e)}),t("    acyclic",function(){yg.run(e)}),t("    nestingGraph.run",function(){wg.run(e)}),t("    rank",function(){uL(Kr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){AL(e)}),t("    removeEmptyRanks",function(){fL(e)}),t("    nestingGraph.cleanup",function(){wg.cleanup(e)}),t("    normalizeRanks",function(){cL(e)}),t("    assignRankMinMax",function(){kL(e)}),t("    removeEdgeLabelProxies",function(){qL(e)}),t("    normalize.run",function(){bg.run(e)}),t("    parentDummyChains",function(){dL(e)}),t("    addBorderSegments",function(){pL(e)}),t("    order",function(){hL(e)}),t("    insertSelfEdges",function(){ML(e)}),t("    adjustCoordinateSystem",function(){Sg.adjust(e)}),t("    position",function(){mL(e)}),t("    positionSelfEdges",function(){BL(e)}),t("    removeBorderNodes",function(){LL(e)}),t("    normalize.undo",function(){bg.undo(e)}),t("    fixupEdgeLabelCoords",function(){FL(e)}),t("    undoCoordinateSystem",function(){Sg.undo(e)}),t("    translateGraph",function(){$L(e)}),t("    assignNodeIntersects",function(){DL(e)}),t("    reversePoints",function(){OL(e)}),t("    acyclic.undo",function(){yg.undo(e)})}function wL(e,t){Se.forEach(e.nodes(),function(n){var a=e.node(n),r=t.node(n);a&&(a.x=r.x,a.y=r.y,t.children(n).length&&(a.width=r.width,a.height=r.height))}),Se.forEach(e.edges(),function(n){var a=e.edge(n),r=t.edge(n);a.points=r.points,Se.has(r,"x")&&(a.x=r.x,a.y=r.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var SL=["nodesep","edgesep","ranksep","marginx","marginy"],_L={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},EL=["acyclicer","ranker","rankdir","align"],CL=["width","height"],xL={width:0,height:0},NL=["minlen","weight","width","height","labeloffset"],IL={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},TL=["labelpos"];function RL(e){var t=new vL({multigraph:!0,compound:!0}),n=Yu(e.graph());return t.setGraph(Se.merge({},_L,Gu(n,SL),Se.pick(n,EL))),Se.forEach(e.nodes(),function(a){var r=Yu(e.node(a));t.setNode(a,Se.defaults(Gu(r,CL),xL)),t.setParent(a,e.parent(a))}),Se.forEach(e.edges(),function(a){var r=Yu(e.edge(a));t.setEdge(a,Se.merge({},IL,Gu(r,NL),Se.pick(r,TL)))}),t}function PL(e){var t=e.graph();t.ranksep/=2,Se.forEach(e.edges(),function(n){var a=e.edge(n);a.minlen*=2,a.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?a.width+=a.labeloffset:a.height+=a.labeloffset)})}function AL(e){Se.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var a=e.node(t.v),r=e.node(t.w),i={rank:(r.rank-a.rank)/2+a.rank,e:t};Kr.addDummyNode(e,"edge-proxy",i,"_ep")}})}function kL(e){var t=0;Se.forEach(e.nodes(),function(n){var a=e.node(n);a.borderTop&&(a.minRank=e.node(a.borderTop).rank,a.maxRank=e.node(a.borderBottom).rank,t=Se.max(t,a.maxRank))}),e.graph().maxRank=t}function qL(e){Se.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function $L(e){var t=Number.POSITIVE_INFINITY,n=0,a=Number.POSITIVE_INFINITY,r=0,i=e.graph(),o=i.marginx||0,s=i.marginy||0;function l(c){var u=c.x,d=c.y,f=c.width,p=c.height;t=Math.min(t,u-f/2),n=Math.max(n,u+f/2),a=Math.min(a,d-p/2),r=Math.max(r,d+p/2)}Se.forEach(e.nodes(),function(c){l(e.node(c))}),Se.forEach(e.edges(),function(c){var u=e.edge(c);Se.has(u,"x")&&l(u)}),t-=o,a-=s,Se.forEach(e.nodes(),function(c){var u=e.node(c);u.x-=t,u.y-=a}),Se.forEach(e.edges(),function(c){var u=e.edge(c);Se.forEach(u.points,function(d){d.x-=t,d.y-=a}),Se.has(u,"x")&&(u.x-=t),Se.has(u,"y")&&(u.y-=a)}),i.width=n-t+o,i.height=r-a+s}function DL(e){Se.forEach(e.edges(),function(t){var n=e.edge(t),a=e.node(t.v),r=e.node(t.w),i,o;n.points?(i=n.points[0],o=n.points[n.points.length-1]):(n.points=[],i=r,o=a),n.points.unshift(Kr.intersectRect(a,i)),n.points.push(Kr.intersectRect(r,o))})}function FL(e){Se.forEach(e.edges(),function(t){var n=e.edge(t);if(Se.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function OL(e){Se.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function LL(e){Se.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),a=e.node(n.borderTop),r=e.node(n.borderBottom),i=e.node(Se.last(n.borderLeft)),o=e.node(Se.last(n.borderRight));n.width=Math.abs(o.x-i.x),n.height=Math.abs(r.y-a.y),n.x=i.x+n.width/2,n.y=a.y+n.height/2}}),Se.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function VL(e){Se.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function ML(e){var t=Kr.buildLayerMatrix(e);Se.forEach(t,function(n){var a=0;Se.forEach(n,function(r,i){var o=e.node(r);o.order=i+a,Se.forEach(o.selfEdges,function(s){Kr.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:i+ ++a,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function BL(e){Se.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var a=e.node(n.e.v),r=a.x+a.width/2,i=a.y,o=n.x-r,s=a.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*o/3,y:i-s},{x:r+5*o/6,y:i-s},{x:r+o,y:i},{x:r+5*o/6,y:i+s},{x:r+2*o/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}function Gu(e,t){return Se.mapValues(Se.pick(e,t),Number)}function Yu(e){var t={};return Se.forEach(e,function(n,a){t[a.toLowerCase()]=n}),t}var Ji=je,UL=bt,zL=jt.Graph,HL={debugOrdering:WL};function WL(e){var t=UL.buildLayerMatrix(e),n=new zL({compound:!0,multigraph:!0}).setGraph({});return Ji.forEach(e.nodes(),function(a){n.setNode(a,{label:a}),n.setParent(a,"layer"+e.node(a).rank)}),Ji.forEach(e.edges(),function(a){n.setEdge(a.v,a.w,{},a.name)}),Ji.forEach(t,function(a,r){var i="layer"+r;n.setNode(i,{rank:"same"}),Ji.reduce(a,function(o,s){return n.setEdge(o,s,{style:"invis"}),s})}),n}var jL="0.8.5",QL={graphlib:jt,layout:gL,debug:HL,util:{time:bt.time,notime:bt.notime},version:jL};const MS=St(QL),GL=()=>L(Q,{children:[m(Pe,{variant:"smallText1",className:"description",children:"Undefined"}),m(xn,{placement:"top",markdownText:`Provenance tracks the relationship 
          between data, code and analytical results.`,helpUrl:"https://help.synapse.org/docs/Provenance.1972470373.html"})]}),hd=e=>{const t=e.targetVersionNumber?`.${e.targetVersionNumber}`:"",n=`${e.targetId}${t}`;return k.useMemo(()=>L(Q,{children:[m("div",{children:m(qe,{icon:"fileOutlined"})}),m("span",{children:n})]}),[n])};try{hd.displayName="EntityPlaceholderNodeLabel",hd.__docgenInfo={description:"This node type is used if the user cannot access the entity for some reason",displayName:"EntityPlaceholderNodeLabel",props:{targetId:{defaultValue:null,description:"",name:"targetId",required:!0,type:{name:"string"}},targetVersionNumber:{defaultValue:null,description:"",name:"targetVersionNumber",required:!1,type:{name:"number"}}}}}catch{}var pt=(e=>(e.ENTITY="EntityNode",e.ENTITY_PLACEHOLDER="EntityPlaceholderNode",e.EXTERNAL="ExternalNode",e.ACTIVITY="ActivityNode",e.EXPAND="ExpandNode",e.UNDEFINED="UndefinedNode",e))(pt||{});const jo=e=>{const{type:t,data:n}=e;let a;switch(t){case"EntityNode":a=m(sd,{...n});break;case"EntityPlaceholderNode":a=m(hd,{...n});break;case"ExternalNode":a=m(cd,{...n});break;case"ActivityNode":a=m(id,{...n});break;case"ExpandNode":a=m(ld,{...n});break;case"UndefinedNode":a=m(GL,{});break;default:a=L("p",{children:["Unrecognized node type: ",t]});break}const r={label:a,props:n,type:t};return{id:Cr(e),position:{x:100,y:100},data:r,connectable:!1,draggable:!1,className:`${t}`}},BS=(e,t)=>{const n=Cr(e),a=Cr(t);return{id:`${n}-${a}`,source:n,target:a,animated:!0,type:mr.SimpleBezier,markerEnd:{type:Ja.ArrowClosed}}},Cr=e=>{const{type:t,data:n}=e;switch(t){case"EntityNode":return`${n.id}.${n.versionNumber??"latest"}`;case"EntityPlaceholderNode":return`${n.targetId}.${n.targetVersionNumber??"latest"}`;case"ExternalNode":return`${n.url}`;case"ActivityNode":return`${n.id}`;case"ExpandNode":return`expand.node.${n.entityHeader.id}.${n.entityHeader.versionNumber??"latest"}`;case"UndefinedNode":return`undefined.dummy.node.${n.id}.${n.versionNumber??"latest"}`}},Vn=new MS.graphlib.Graph;Vn.setDefaultEdgeLabel(()=>({}));const _g=e=>e.data.type=="ExpandNode"?30:100,Eg=e=>e.data.type=="ExpandNode"?30:172,YL=(e,t,n)=>{const a=n==="LR";return Vn.setGraph({rankdir:n}),e.forEach(r=>{Vn.setNode(r.id,{width:Eg(r),height:_g(r)})}),t.forEach(r=>{Vn.setEdge(r.source,r.target)}),MS.layout(Vn),e.forEach(r=>{const i=Vn.node(r.id);return r.targetPosition=a?te.Left:te.Top,r.sourcePosition=a?te.Right:te.Bottom,r.position={x:i.x-Eg(r)/2,y:i.y-_g(r)/2},r}),{nodes:e,edges:t}},Cg=(e,t)=>O1(e,t,Pa).length==0;try{jo.displayName="getProvenanceNode",jo.__docgenInfo={description:"",displayName:"getProvenanceNode",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}try{Cr.displayName="getNodeId",Cr.__docgenInfo={description:"",displayName:"getNodeId",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}const xg=e=>{const{entityHeader:t,rootEntityHeaders:n}=e;return(n==null?void 0:n.find(r=>t.id==r.id&&t.versionNumber==r.versionNumber))!==void 0},US=(e,t)=>t.find(a=>a.id===Cr(e))===void 0,KL=(e,t)=>{const n={type:pt.ENTITY,data:e};return t.find(a=>a.id===Cr(n))},XL=(e,t,n)=>n.find(r=>r.source===Cr(e)&&r.target===Cr(t))===void 0,Ni=e=>{const{newNodeProps:t,existingNodeProps:n,nodesCopy:a,edgesCopy:r}=e;US(t,a)&&a.push(jo(t)),XL(t,n,r)&&r.push(BS(t,n))},ZL=e=>{const{activity:t,entityHeader:n,nodesCopy:a,edgesCopy:r}=e,i={type:pt.ACTIVITY,data:t},o={type:pt.ENTITY,data:n};Ni({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},JL=e=>{const{entityHeader:t,itemCount:n=0,nodesCopy:a,edgesCopy:r}=e,i={type:pt.EXPAND,data:{itemCount:n,entityHeader:t}},o={type:pt.ENTITY,data:t};Ni({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},eV=e=>{const{ref:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:pt.ENTITY_PLACEHOLDER,data:t},o={type:pt.ACTIVITY,data:n};Ni({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},tV=e=>{const{entityHeader:t,nodesCopy:n,edgesCopy:a}=e,r={type:pt.UNDEFINED,data:t},i={type:pt.ENTITY,data:t};Ni({newNodeProps:r,existingNodeProps:i,nodesCopy:n,edgesCopy:a})},rV=e=>{const{usedURL:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:pt.ACTIVITY,data:n},o={type:pt.EXTERNAL,data:t};Ni({newNodeProps:o,existingNodeProps:i,nodesCopy:a,edgesCopy:r})},nV=e=>{const{entityHeader:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:pt.ENTITY,data:t};if(US(i,a)&&(a.push(jo(i)),n)){const o={type:pt.ACTIVITY,data:n};r.push(BS(i,o))}};const Ku=400,Xu=.85,aV=e=>{const{entityRefs:t,containerHeight:n="200px",initialNodes:a=[],initialEdges:r=[],onNodesChangedListener:i,onEdgesChangedListener:o}=e,{accessToken:s}=$e(),[l,c]=B.useState(a),[u,d]=B.useState(r),[f,p,h]=mq([]),[v,g,b]=vq([]),[E,y]=k.useState(),_=yC(),{data:w,isSuccess:S}=B1(t,{useErrorBoundary:!0});if(S&&w&&w.totalNumberOfResults==0){const q=t.map(F=>F.targetId).join(",");_(`Unable to load provenance for the given Synapse IDs: ${q}`)}const C=w==null?void 0:w.results,[x,T]=B.useState(!1),R=Ws(),$=k.useCallback((q,F)=>{y(F)},[]),A=k.useCallback(async q=>{var z;const{entityHeader:F,nodesCopy:P,edgesCopy:V,usedInActivity:O}=q;nV({entityHeader:F,activity:O,nodesCopy:P,edgesCopy:V});try{const j=await We.getActivityForEntity(F.id,F.versionNumber,s);(!xg({entityHeader:F,rootEntityHeaders:C})||j.used&&j.used.length>=Ku)&&JL({entityHeader:F,itemCount:(z=j.used)==null?void 0:z.length,nodesCopy:P,edgesCopy:V})}catch(j){console.error(j),xg({entityHeader:F,rootEntityHeaders:C})&&tV({entityHeader:F,nodesCopy:P,edgesCopy:V})}},[s,C]);k.useEffect(()=>{!x&&f.length>0&&setTimeout(()=>{if(C){const q=KL(C[0],f);if(q){const F=R.getZoom(),P=F>Xu?Xu:F;R==null||R.setCenter(q.position.x+150,q.position.y-30,{zoom:P,duration:0})}T(!0)}})},[x,f,R,C]);const I=k.useCallback(async q=>{const{entityHeader:F,nodesCopy:P,edgesCopy:V}=q;try{const O=await We.getActivityForEntity(F.id,F.versionNumber,s);if(ZL({activity:O,entityHeader:F,nodesCopy:P,edgesCopy:V}),O.used&&O.used.length<Ku){const z=[];O.used.forEach(X=>{X.concreteType==bC?z.push(X.reference):rV({usedURL:X,activity:O,nodesCopy:P,edgesCopy:V})});const j=await We.getEntityHeaders(z,s),{results:G}=j;z.filter(X=>G.find(re=>re.id==X.targetId)==null).forEach(X=>{eV({ref:X,activity:O,nodesCopy:P,edgesCopy:V})});const Y=[];G.forEach(X=>{Y.push(A({entityHeader:X,nodesCopy:P,edgesCopy:V,usedInActivity:O}))}),await Promise.allSettled(Y)}}catch(O){console.error(O)}},[s,A]);k.useEffect(()=>{if(C&&l.length==0){const q=[...l],F=[...u],P=[];C.forEach(V=>{const O=A({entityHeader:V,nodesCopy:q,edgesCopy:F});P.push(O);const z=I({entityHeader:V,nodesCopy:q,edgesCopy:F});P.push(z)}),Promise.allSettled(P).finally(()=>{c(q),d(F)})}},[A,_,I,C,t,u,l]),k.useEffect(()=>{const q=E==null?void 0:E.data;if(E&&(q==null?void 0:q.type)==pt.EXPAND){const F=q.props;if(F.itemCount>Ku){Gr("Web visualization does not support expanding this many items at this time.","danger");return}else{q.label=m(Yx,{size:30});const P=l.filter(z=>z.id!=E.id),V=jp([E],u)[0],O=u.filter(z=>z!=V);I({entityHeader:F.entityHeader,nodesCopy:P,edgesCopy:O}).finally(()=>{c(P),d(O)})}y(void 0)}},[E,l,u,I]),k.useEffect(()=>{const{nodes:q,edges:F}=YL(l,u,"TB");Cg(q,f)||(p(q),i&&i(q)),Cg(F,v)||(g(F),o&&o(F))},[l,u,f,v,p,g,x,R,t,i,o]);const N=k.useCallback(q=>{q&&typeof q.deltaX<"u"&&typeof q.deltaY<"u"&&window.scrollTo(window.scrollX+q.deltaX,window.scrollY+q.deltaY)},[]);return m("div",{className:"bootstrap-4-backport ProvenanceWidget",role:"graphics-doc",style:{width:"100%",height:n},children:m(F0,{defaultViewport:{x:0,y:0,zoom:Xu},nodes:f,edges:v,onNodeClick:$,onNodesChange:h,onEdgesChange:b,attributionPosition:"bottom-right",onConnect:void 0,zoomOnScroll:!1,onPaneScroll:N,children:m(Eq,{})})})},md=e=>m(rb,{children:m(Yp,{children:m(aV,{...e})})});try{md.displayName="ProvenanceGraph",md.__docgenInfo={description:"",displayName:"ProvenanceGraph",props:{entityRefs:{defaultValue:null,description:"",name:"entityRefs",required:!0,type:{name:"ReferenceList"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!1,type:{name:"string"}},initialNodes:{defaultValue:null,description:"",name:"initialNodes",required:!1,type:{name:"Node[]"}},initialEdges:{defaultValue:null,description:"",name:"initialEdges",required:!1,type:{name:"Edge[]"}},onNodesChangedListener:{defaultValue:null,description:"",name:"onNodesChangedListener",required:!1,type:{name:"((nodes: Node[]) => void)"}},onEdgesChangedListener:{defaultValue:null,description:"",name:"onEdgesChangedListener",required:!1,type:{name:"((edges: Edge[]) => void)"}}}}}catch{}function vd(e){const{entityList:t,displayHeightPx:n}=e,a=t.split(",").map(i=>{const o=i.split("/version/");return{targetId:o[0],targetVersionNumber:o.length>1?parseInt(o[1]):void 0}}),r=n?`${n}px`:void 0;return m(md,{entityRefs:a,containerHeight:r})}try{vd.displayName="MarkdownProvenanceGraph",vd.__docgenInfo={description:"",displayName:"MarkdownProvenanceGraph",props:{entityList:{defaultValue:null,description:"",name:"entityList",required:!0,type:{name:"string"}},displayHeightPx:{defaultValue:null,description:"",name:"displayHeightPx",required:!0,type:{name:"string"}}}}}catch{}class ti extends B.Component{constructor(t){super(t),this.getEntity=this.getEntity.bind(this),this.getSynapseFiles=this.getSynapseFiles.bind(this),this.state={preSignedURL:""}}getEntity(){const{synapseId:t}=this.props;t&&Ua(this.context.accessToken,t).then(n=>{const a=[{associateObjectId:t,associateObjectType:rr.FileEntity,fileHandleId:n.dataFileHandleId}];this.getSynapseFiles(a,n.dataFileHandleId)})}getSynapseFiles(t,n){op({includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:t},this.context.accessToken).then(r=>{const{preSignedURL:i}=r.requestedFiles.filter(o=>o.fileHandleId===n)[0];this.setState({preSignedURL:i})}).catch(r=>{console.error("Error on getting image ",r)})}componentDidMount(){if(!this.props.wikiId)this.getEntity();else{const{fileName:t,fileResults:n=[]}=this.props,{id:a}=n.filter(i=>i.fileName===t)[0],r=[{associateObjectId:this.props.wikiId,associateObjectType:rr.WikiAttachment,fileHandleId:a}];this.getSynapseFiles(r,a)}}render(){const{params:t}=this.props,{align:n="",altText:a="synapse image"}=t;let r="auto";t.scale&&t.scale!=="100"&&(r=`${Number(t.scale)}%`);const i=n.toLowerCase();let o="";i==="left"&&(o="floatLeft"),i==="right"&&(o="floatright"),i==="center"&&(o="align-center");const s={width:r,height:r};return this.state.preSignedURL?m(B.Fragment,{children:m("img",{alt:a,className:"img-fluid  "+o,src:this.state.preSignedURL,style:s})}):null}}Le(ti,"contextType",yi);try{ti.displayName="SynapseImage",ti.__docgenInfo={description:"",displayName:"SynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},fileResults:{defaultValue:null,description:"",name:"fileResults",required:!1,type:{name:"FileHandle[]"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"{ align: string; scale: string; responsive: string; altText: string; }"}}}}}catch{}const ri=B.createContext(void 0),gd=({children:e,wikiContext:t})=>m(ri.Provider,{value:t,children:e}),Ng=ri.Consumer;function zS(){return k.useContext(ri)??{}}try{ri.displayName="SynapseWikiContext",ri.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseWikiContext",props:{}}}catch{}try{gd.displayName="SynapseWikiContextProvider",gd.__docgenInfo={description:"Provides context related to Synapse Wikis",displayName:"SynapseWikiContextProvider",props:{wikiContext:{defaultValue:null,description:"",name:"wikiContext",required:!1,type:{name:"SynapseWikiContextType"}}}}}catch{}try{Ng.displayName="SynapseWikiContextConsumer",Ng.__docgenInfo={description:"",displayName:"SynapseWikiContextConsumer",props:{}}}catch{}function yd(e){const{wikiId:t,wikiPage:n,fileHandles:a}=zS();return e.fileName?a?m(ti,{params:e,fileName:e.fileName,wikiId:t||(n==null?void 0:n.id),fileResults:a.list}):m(Q,{}):e.synapseId?m(ti,{params:e,synapseId:e.synapseId}):m(Q,{})}try{yd.displayName="MarkdownSynapseImage",yd.__docgenInfo={description:"",displayName:"MarkdownSynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},align:{defaultValue:null,description:"",name:"align",required:!0,type:{name:"string"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"string"}},responsive:{defaultValue:null,description:"",name:"responsive",required:!0,type:{name:"string"}},altText:{defaultValue:null,description:"",name:"altText",required:!0,type:{name:"string"}}}}}catch{}const iV=qb($b);class Qo extends B.Component{constructor(t){super(t),this.state={isLoaded:!1,queryData:{}},this.fetchPlotlyData=this.fetchPlotlyData.bind(this),this.showPlot=this.showPlot.bind(this)}componentDidMount(){this.fetchPlotlyData()}fetchPlotlyData(){const{query:t}=this.props.widgetparamsMapped,n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:ua,entityId:Jr(t),query:{sql:t}};nb(n,this.context.accessToken).then(a=>{this.setState({isLoaded:!0,queryData:a})}).catch(a=>{console.log("Error on full table query ",a)})}showPlot(){var p,h;if(!this.state.isLoaded)return;const{title:t,xtitle:n,ytitle:a,type:r,xaxistype:i,showlegend:o}=this.props.widgetparamsMapped,s=this.state,l=this.props.widgetparamsMapped.horizontal.toLowerCase(),c={showlegend:o,title:t};n&&(c.xaxis={title:n}),i&&(c.xaxis={...c.xaxis,xaxistype:i.toLowerCase()}),a&&(c.yaxis={title:a});const u=[],d=l?"v":"h",f=((p=s.queryData.queryResult)==null?void 0:p.queryResults.headers)??[];for(let v=0;v<f.length-1;v+=1)u[v]={orientation:d,name:f[v+1].name,type:r.toLowerCase(),x:[],y:[]};for(const v of((h=s.queryData.queryResult)==null?void 0:h.queryResults.rows)??[])for(let g=1;g<v.values.length;g+=1){const b=v.values;u[g-1].x.push(b[0]),u[g-1].y.push(b[g])}return m(iV,{layout:c,data:u})}render(){return this.state.isLoaded?this.showPlot():null}}Le(Qo,"contextType",yi);try{Qo.displayName="SynapsePlot",Qo.__docgenInfo={description:"",displayName:"SynapsePlot",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},widgetparamsMapped:{defaultValue:null,description:"",name:"widgetparamsMapped",required:!1,type:{name:"any"}}}}}catch{}function bd(e){const{ownerId:t,wikiId:n,wikiPage:a}=zS();return m(Qo,{ownerId:t,wikiId:n||(a==null?void 0:a.id),widgetparamsMapped:e})}try{bd.displayName="MarkdownSynapsePlot",bd.__docgenInfo={description:"",displayName:"MarkdownSynapsePlot",props:{}}}catch{}const oV=200,Ig="ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME",Tg="ESTIMATED_DOWNLOAD_SPEED",sV="syn12600511",lV=e=>new Promise((t,n)=>{const a=localStorage.getItem(Ig),r=localStorage.getItem(Tg);if(a&&r&&new Date().getTime()<Number(a)){t(Number(r));return}Ua(e,sV).then(i=>{const o=i,l={includeFileHandles:!0,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:o.id,associateObjectType:rr.FileEntity,fileHandleId:o.dataFileHandleId}]};op(l,e).then(c=>{const u=c.requestedFiles[0].preSignedURL,d=c.requestedFiles[0].fileHandle,f=new Date().getTime();return wC(d,u).then(()=>{const p=d.contentSize/((new Date().getTime()-f-oV)/1e3),h=new Date().getTime();localStorage.setItem(Ig,(h+1e3*60*5).toString()),localStorage.setItem(Tg,p.toString()),t(p)})})}).catch(i=>n(i))}),pn=e=>m(dn,{style:{...e.style,display:"inline-block"},...e});try{pn.displayName="SkeletonInlineBlock",pn.__docgenInfo={description:"Skeleton with a display value of `inline-block`. MUI applies `display: block` with high specificity, so it's easiest to just apply the style to the component.",displayName:"SkeletonInlineBlock",props:{animation:{defaultValue:{value:"'pulse'"},description:"The animation.\nIf `false` the animation effect is disabled.",name:"animation",required:!1,type:{name:'false | "pulse" | "wave"'}},children:{defaultValue:null,description:"Optional children to infer width and height from.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SkeletonClasses> & Partial<ClassNameMap<never>>)"}},height:{defaultValue:null,description:`Height of the skeleton.
Useful when you don't want to adapt the skeleton to a text element but for instance a card.`,name:"height",required:!1,type:{name:"string | number"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},variant:{defaultValue:{value:"'text'"},description:"The type of content that will be rendered.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"rounded"'},{value:'"rectangular"'},{value:'"circular"'}]}},width:{defaultValue:null,description:`Width of the skeleton.
Useful when the skeleton is inside an inline element with no width of its own.`,name:"width",required:!1,type:{name:"string | number"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}}}}}catch{}var HS={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Qr,function(){var n,a,r=1e3,i=6e4,o=36e5,s=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:c,months:u,days:s,hours:o,minutes:i,seconds:r,milliseconds:1,weeks:6048e5},p=function(w){return w instanceof _},h=function(w,S,C){return new _(w,C,S.$l)},v=function(w){return a.p(w)+"s"},g=function(w){return w<0},b=function(w){return g(w)?Math.ceil(w):Math.floor(w)},E=function(w){return Math.abs(w)},y=function(w,S){return w?g(w)?{negative:!0,format:""+E(w)+S}:{negative:!1,format:""+w+S}:{negative:!1,format:""}},_=function(){function w(C,x,T){var R=this;if(this.$d={},this.$l=T,C===void 0&&(this.$ms=0,this.parseFromMilliseconds()),x)return h(C*f[v(x)],this);if(typeof C=="number")return this.$ms=C,this.parseFromMilliseconds(),this;if(typeof C=="object")return Object.keys(C).forEach(function(I){R.$d[v(I)]=C[I]}),this.calMilliseconds(),this;if(typeof C=="string"){var $=C.match(d);if($){var A=$.slice(2).map(function(I){return I!=null?Number(I):0});return this.$d.years=A[0],this.$d.months=A[1],this.$d.weeks=A[2],this.$d.days=A[3],this.$d.hours=A[4],this.$d.minutes=A[5],this.$d.seconds=A[6],this.calMilliseconds(),this}}return this}var S=w.prototype;return S.calMilliseconds=function(){var C=this;this.$ms=Object.keys(this.$d).reduce(function(x,T){return x+(C.$d[T]||0)*f[T]},0)},S.parseFromMilliseconds=function(){var C=this.$ms;this.$d.years=b(C/c),C%=c,this.$d.months=b(C/u),C%=u,this.$d.days=b(C/s),C%=s,this.$d.hours=b(C/o),C%=o,this.$d.minutes=b(C/i),C%=i,this.$d.seconds=b(C/r),C%=r,this.$d.milliseconds=C},S.toISOString=function(){var C=y(this.$d.years,"Y"),x=y(this.$d.months,"M"),T=+this.$d.days||0;this.$d.weeks&&(T+=7*this.$d.weeks);var R=y(T,"D"),$=y(this.$d.hours,"H"),A=y(this.$d.minutes,"M"),I=this.$d.seconds||0;this.$d.milliseconds&&(I+=this.$d.milliseconds/1e3);var N=y(I,"S"),q=C.negative||x.negative||R.negative||$.negative||A.negative||N.negative,F=$.format||A.format||N.format?"T":"",P=(q?"-":"")+"P"+C.format+x.format+R.format+F+$.format+A.format+N.format;return P==="P"||P==="-P"?"P0D":P},S.toJSON=function(){return this.toISOString()},S.format=function(C){var x=C||"YYYY-MM-DDTHH:mm:ss",T={Y:this.$d.years,YY:a.s(this.$d.years,2,"0"),YYYY:a.s(this.$d.years,4,"0"),M:this.$d.months,MM:a.s(this.$d.months,2,"0"),D:this.$d.days,DD:a.s(this.$d.days,2,"0"),H:this.$d.hours,HH:a.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:a.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:a.s(this.$d.seconds,2,"0"),SSS:a.s(this.$d.milliseconds,3,"0")};return x.replace(l,function(R,$){return $||String(T[R])})},S.as=function(C){return this.$ms/f[v(C)]},S.get=function(C){var x=this.$ms,T=v(C);return T==="milliseconds"?x%=1e3:x=T==="weeks"?b(x/f[T]):this.$d[T],x===0?0:x},S.add=function(C,x,T){var R;return R=x?C*f[v(x)]:p(C)?C.$ms:h(C,this).$ms,h(this.$ms+R*(T?-1:1),this)},S.subtract=function(C,x){return this.add(C,x,!0)},S.locale=function(C){var x=this.clone();return x.$l=C,x},S.clone=function(){return h(this.$ms,this)},S.humanize=function(C){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!C)},S.milliseconds=function(){return this.get("milliseconds")},S.asMilliseconds=function(){return this.as("milliseconds")},S.seconds=function(){return this.get("seconds")},S.asSeconds=function(){return this.as("seconds")},S.minutes=function(){return this.get("minutes")},S.asMinutes=function(){return this.as("minutes")},S.hours=function(){return this.get("hours")},S.asHours=function(){return this.as("hours")},S.days=function(){return this.get("days")},S.asDays=function(){return this.as("days")},S.weeks=function(){return this.get("weeks")},S.asWeeks=function(){return this.as("weeks")},S.months=function(){return this.get("months")},S.asMonths=function(){return this.as("months")},S.years=function(){return this.get("years")},S.asYears=function(){return this.as("years")},w}();return function(w,S,C){n=C,a=C().$utils(),C.duration=function(R,$){var A=C.locale();return h(R,{$l:A},$)},C.isDuration=p;var x=S.prototype.add,T=S.prototype.subtract;S.prototype.add=function(R,$){return p(R)&&(R=R.asMilliseconds()),x.bind(this)(R,$)},S.prototype.subtract=function(R,$){return p(R)&&(R=R.asMilliseconds()),T.bind(this)(R,$)}}})})(HS);var uV=HS.exports;const cV=St(uV);var WS={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Qr,function(){return function(n,a,r){n=n||{};var i=a.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,u,d,f){return i.fromToBase(c,u,d,f)}r.en.relativeTime=o,i.fromToBase=function(c,u,d,f,p){for(var h,v,g,b=d.$locale().relativeTime||o,E=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],y=E.length,_=0;_<y;_+=1){var w=E[_];w.d&&(h=f?r(c).diff(d,w.d,!0):d.diff(c,w.d,!0));var S=(n.rounding||Math.round)(Math.abs(h));if(g=h>0,S<=w.r||!w.r){S<=1&&_>0&&(w=E[_-1]);var C=b[w.l];p&&(S=p(""+S)),v=typeof C=="string"?C.replace("%d",S):C(S,u,w.l,g);break}}if(u)return v;var x=g?b.future:b.past;return typeof x=="function"?x(v):x.replace("%s",v)},i.to=function(c,u){return s(c,u,this,!0)},i.from=function(c,u){return s(c,u,this)};var l=function(c){return c.$u?r.utc():r()};i.toNow=function(c){return this.to(l(this),c)},i.fromNow=function(c){return this.from(l(this),c)}}})})(WS);var dV=WS.exports;const fV=St(dV);nr.extend(cV);nr.extend(fV);function wd(e){const{numFiles:t,numBytes:n}=e,{accessToken:a}=$e(),r=!!n,[i,o]=k.useState({isLoading:r,downloadSpeed:0}),{isLoading:s,downloadSpeed:l}=i;k.useEffect(()=>{a&&lV(a).then(v=>{o({isLoading:!1,downloadSpeed:v})})},[a]);const c=s||l===0||!n?0:n/l,u=c===0,d=u?"":nr.duration({seconds:c}).humanize(),f=t===0,p=f?"SRC-inactive":"SRC-primary-text-color",h=u?"SRC-inactive":"SRC-primary-text-color";return L("span",{className:"download-details-container",children:[L("span",{children:[m(r1,{className:p}),f?m(pn,{width:50}):L(Q,{children:[t," files"]})]}),r&&m(yt,{title:"This is the total size of all files. Zipped package(s) will likely be smaller.",enterNextDelay:Ro,placement:"top",children:L("span",{"data-testid":"numBytesUI",children:[m(n1,{className:h}),u?m(pn,{width:50}):ab(n)]})}),r&&m(yt,{title:"This is an estimate of how long package download will take.",enterNextDelay:Ro,placement:"top",children:L("span",{"data-testid":"downloadTimeEstimateUI",children:[m(vN,{className:h}),s&&t>0?m(pn,{width:50}):d]})})]})}try{wd.displayName="DownloadDetails",wd.__docgenInfo={description:`Displays download information including number of files, size of download, and time to download.
Prefer to use {@link download_list_v2 /DownloadDetails} instead, particularly when you have information about file packaging in/eligibility`,displayName:"DownloadDetails",props:{numFiles:{defaultValue:null,description:"",name:"numFiles",required:!0,type:{name:"number"}},numBytes:{defaultValue:null,description:"",name:"numBytes",required:!1,type:{name:"number"}}}}}catch{}const lr="isShowingFacetFilters",Qt="isHidingFacetFilters",En=k.createContext(void 0),Go=({children:e,queryContext:t})=>m(En.Provider,{value:t,children:e});function ct(){const e=k.useContext(En);if(e===void 0)throw new Error("useQueryContext must be used within a QueryWrapper");return e}function pV(){const e=k.useContext(En);if(e===void 0)throw new Error("usePaginatedQueryContext must be used within a QueryWrapper");return e}function hV(){const e=k.useContext(En);if(e===void 0)throw new Error("useInfiniteQueryContext must be used within a QueryWrapper");return e}const ni=En.Consumer;try{En.displayName="QueryContext",En.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryContext",props:{}}}catch{}try{Go.displayName="QueryContextProvider",Go.__docgenInfo={description:"Provides data related to a Synapse table query, and functions for iterating through pages of the data.",displayName:"QueryContextProvider",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}}}}}catch{}try{ni.displayName="QueryContextConsumer",ni.__docgenInfo={description:"",displayName:"QueryContextConsumer",props:{}}}catch{}async function mV(e,t,n,a,r){try{const i={query:n==null?void 0:n.query,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",parentId:a};return await We.addFilesToDownloadListV2(i,e),Gr("File(s) were successfully added to your Download Cart.","success",{primaryButtonConfig:{text:"View Download Cart",onClick:r}}),t(),[0,""]}catch(i){return Gr(i.reason,"danger"),t(),[0,""]}}const Yn={[2]:{severity:"info",infoText:"Would you like to add all files to the download cart?",closeText:"Cancel"},[3]:{severity:"info",infoText:L(Q,{children:["Note: Files that you add will be mixed in with the files already in your download cart.",m("br",{}),"If you don't want to mix these files, clear your download cart before continuing."]}),closeText:"Cancel"},[1]:{severity:"info",infoText:"Adding Files To List",closeText:"Cancel"},[0]:{severity:"info",infoText:"Calculating File Size",closeText:"Cancel"},[4]:{severity:"error",closeText:"Close",infoText:L(Q,{children:["Please  ",m(SC,{})," to add files to your download cart."]})}},vV=e=>{switch(e.status){case 0:case 1:return L("div",{children:[m("span",{className:"spinner white"}),m("span",{className:"spinner__text",children:Yn[e.status].infoText})]});case 4:return m(Q,{children:Yn[e.status].infoText});case 2:case 3:return L(Q,{children:[m(wd,{numFiles:e.fileCount,numBytes:e.fileSize}),m("span",{className:"download-confirmation-infoText",style:{paddingLeft:"8px"},children:Yn[e.status].infoText})]});default:return m(Q,{})}},Sd=({getLastQueryRequest:e,folderId:t,fnClose:n,setTopLevelControlsState:a,topLevelControlsState:r})=>{const{accessToken:i,downloadCartPageUrl:o}=$e(),{showDownloadConfirmation:s=!0}=r??{},[l,c]=k.useState(i?0:4),[u,d]=k.useState(0),[f,p]=k.useState(),{data:h,refetch:v}=j1(),g=e(),[b,E]=k.useState(!1),y=k.useCallback((A,I,N)=>{if(i&&N){const q=N.totalNumberOfFiles>0,F=A??0;c(q?3:2),d(F),p(I)}},[i]),{data:_,isSuccess:w}=xq({parentId:t,includeSumFileSizes:!0,includeTotalChildCount:!0,includeTypes:[Tc.FILE]});Po(()=>{w&&_&&h&&y(_.totalChildCount,_.sumFileSizesBytes,h)},[y,t,w,_,h]);const S=ca|dp,C={...g,partMask:S},{data:x}=Ob(C);Po(()=>{var A,I;if(x&&h){const N=(A=x.sumFileSizes)==null?void 0:A.greaterThan;y(x.queryCount,N||(I=x.sumFileSizes)==null?void 0:I.sumFileSizesBytes,h)}},[y,g,x,h]);const T=n?()=>n():()=>{a&&a(A=>({...A,showDownloadConfirmation:!1}))},R=async()=>{if(!i)c(4);else{c(1);const N=(await mV(i,T,g,t,()=>E(!0)))[0];c(N),v()}};b&&(window.location.href=o);const $=r==null?void 0:r.showFacetFilter;return m(Q,{children:m(Or,{sx:{pr:4,py:1},icon:Yn[l].severity==="error"?void 0:!1,severity:Yn[l].severity,className:`download-confirmation ${s?"":"hidden"}
          ${$?lr:Qt}
        `,action:L(Q,{children:[l!==1&&m(Tt,{variant:"text",color:"primary",onClick:T,children:Yn[l].closeText}),(l===2||l===3)&&m(Tt,{variant:"contained",color:"primary",onClick:()=>{R()},sx:{ml:"5px"},children:"Add"})]}),children:m(nt,{display:"flex",children:m(vV,{status:l,fileCount:u,fileSize:f})})})})};try{Sd.displayName="DownloadConfirmation",Sd.__docgenInfo={description:"",displayName:"DownloadConfirmation",props:{fnClose:{defaultValue:null,description:"",name:"fnClose",required:!1,type:{name:"(() => void)"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},folderId:{defaultValue:null,description:"",name:"folderId",required:!1,type:{name:"string"}},topLevelControlsState:{defaultValue:null,description:"",name:"topLevelControlsState",required:!1,type:{name:"TopLevelControlsState"}},setTopLevelControlsState:{defaultValue:null,description:"",name:"setTopLevelControlsState",required:!1,type:{name:"Dispatch<SetStateAction<TopLevelControlsState>>"}}}}}catch{}function gV(){return L(Q,{children:[m("p",{className:"SRC-no-results-title",children:"There is currently no content here."}),m("p",{className:"SRC-no-results-description",children:"Information is always being updated, so check back later to see if content has been added."})]})}var Wr=(e=>(e.INTERACTIVE="INTERACTIVE",e.STATIC="STATIC",e))(Wr||{});function yV(){return L("div",{className:"text-center",children:[Y1,m("h4",{children:"No Matching Results"}),m("p",{children:"Try checking the spelling or removing filters."})]})}function bV(){return L("div",{className:"text-center SRCBorderedPanel SRCBorderedPanel--padded2x",children:[K1,m("div",{style:{marginTop:"20px",fontStyle:"italic"},children:"This table is currently empty"})]})}const wV=()=>{try{return JSON.parse(sessionStorage.getItem(MC)||"")}catch{return[]}},SV=()=>{try{return JSON.parse(sessionStorage.getItem(BC)||"")}catch{return[]}},_V=()=>{try{return JSON.parse(sessionStorage.getItem(UC)||"")}catch{return[]}},EV=e=>{const t=wV().find(n=>n.id===e);return(t==null?void 0:t.name)??e},CV=e=>{const t=_V().find(n=>n.id===e);return(t==null?void 0:t.name)||e},xV=e=>{const t=SV().find(n=>n.ownerId===e);return(t==null?void 0:t.userName)||e},NV=(e,t)=>{if(e===za)return xs;switch(t){case ue.ENTITYID:case ue.ENTITYID_LIST:return EV(e);case ue.USERID:case ue.USERID_LIST:return xV(e);case ue.EVALUATIONID:return CV(e);default:return e}},ai=k.createContext(void 0),_d=({children:e,queryVisualizationContext:t})=>m(ai.Provider,{value:t,children:e});function lt(){const e=k.useContext(ai);if(e===void 0)throw new Error("useQueryVisualizationContext must be used within a QueryWrapper");return e}const Yo=ai.Consumer;function ii(e){const{noContentPlaceholderType:t=Wr.INTERACTIVE}=e,{data:n,getLastQueryRequest:a,isFacetsAvailable:r,isLoadingNewBundle:i,hasResettableFilters:o}=ct(),{columnAliases:s={}}=e,[l,c]=k.useState({showColumnFilter:!0,showFacetFilter:!0,showFacetVisualization:e.defaultShowFacetVisualization??!0,showSearchBar:e.defaultShowSearchBar??!1,showDownloadConfirmation:!1,showColumnSelectDropdown:!1,showSqlEditor:!1});k.useEffect(()=>{r||c(_=>({..._,showFacetFilter:!1,showFacetVisualization:!1}))},[r]),k.useEffect(()=>{i&&p([])},[i]);const[u,d]=k.useState([]),[f,p]=k.useState([]),h=a(),v=W1(n==null?void 0:n.selectColumns);k.useEffect(()=>{d((v==null?void 0:v.slice(0,e.visibleColumnCount??1/0).map(_=>_.name))??[])},[v,h.query.sql,e.visibleColumnCount]);const g=k.useCallback(_=>{const w=localStorage.getItem("force-display-original-column-names")==="true";return!_||w?_:s[_]?s[_]:L1(_)},[s]),b=k.useCallback(()=>{switch(t){case Wr.INTERACTIVE:return o?m(yV,{}):m(bV,{});case Wr.STATIC:default:return m(gV,{})}},[t,o]),E={topLevelControlsState:l,setTopLevelControlsState:c,columnsToShowInTable:u,setColumnsToShowInTable:d,selectedRowIndices:f,setSelectedRowIndices:p,rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,showLastUpdatedOn:e.showLastUpdatedOn,getColumnDisplayName:g,getDisplayValue:NV,NoContentPlaceholder:b},{children:y}=e;return m(_d,{queryVisualizationContext:E,children:y})}try{ii.displayName="QueryVisualizationWrapper",ii.__docgenInfo={description:`QueryVisualizationWrapper manages UI state for components that query tables in Synapse. That state can be accessed
or updated using QueryVisualizationContext. A QueryVisualizationWrapper must be used within a QueryWrapper.`,displayName:"QueryVisualizationWrapper",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},hiddenColumns:{defaultValue:null,description:"",name:"hiddenColumns",required:!1,type:{name:"string[]"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},defaultShowSearchBar:{defaultValue:null,description:"",name:"defaultShowSearchBar",required:!1,type:{name:"boolean"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}}}}}catch{}try{ai.displayName="QueryVisualizationContext",ai.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryVisualizationContext",props:{}}}catch{}try{_d.displayName="QueryVisualizationContextProvider",_d.__docgenInfo={description:"Provides fields and functions related to visualizing a Synapse table query. For actual query data, see QueryContextProvider.",displayName:"QueryVisualizationContextProvider",props:{queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{Yo.displayName="QueryVisualizationContextConsumer",Yo.__docgenInfo={description:"",displayName:"QueryVisualizationContextConsumer",props:{}}}catch{}const Zu=3,Ko=({helpMessage:e="This search bar is powered by MySQL Full Text Search.",helpUrl:t})=>{const{executeQueryRequest:n,getLastQueryRequest:a}=ct(),{topLevelControlsState:{showSearchBar:r,showFacetFilter:i}}=lt(),[o,s]=k.useState(""),l=k.useRef(null),c=d=>{var f;if(d.preventDefault(),o.trim().length<Zu)(f=l.current)==null||f.setCustomValidity(`Search term must have a minimum of ${Zu} characters`);else{const p=a(),{additionalFilters:h=[]}=p.query,v={concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:o};if(h.find(b=>b.concreteType==v.concreteType&&b.searchExpression==v.searchExpression))return;h.push(v),p.query.additionalFilters=h,n(p),s("")}},u=d=>{var f;(f=l.current)==null||f.setCustomValidity(""),s(d.currentTarget.value)};return m("div",{className:`QueryWrapperSearchInput ${i?lr:Qt}`,children:m(bi,{in:r,timeout:{enter:300,exit:300},children:L("div",{className:"QueryWrapperSearchInput__helppopoverwrapper",children:[L("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:c,children:[m("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:m(qe,{icon:"search"})}),m("input",{ref:l,minLength:Zu,onChange:u,placeholder:"Enter Search Terms",value:o,type:"text"}),o.length>0&&m("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{s("")},children:m(qe,{icon:"close"})})]}),m("div",{className:"QueryWrapperSearchInput__helppopover",children:m(xn,{markdownText:e,helpUrl:t,placement:"left"})})]})})})};try{Ko.displayName="FullTextSearch",Ko.__docgenInfo={description:"",displayName:"FullTextSearch",props:{helpMessage:{defaultValue:{value:"This search bar is powered by MySQL Full Text Search."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}var eo=function(e){return e&&e.Math==Math&&e},Rn=eo(typeof globalThis=="object"&&globalThis)||eo(typeof window=="object"&&window)||eo(typeof self=="object"&&self)||eo(typeof Qr=="object"&&Qr)||function(){return this}()||Function("return this")(),tn=function(e){try{return!!e()}catch{return!0}},IV=tn,Zs=!IV(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),TV=Zs,jS=Function.prototype,Rg=jS.apply,Pg=jS.call,RV=typeof Reflect=="object"&&Reflect.apply||(TV?Pg.bind(Rg):function(){return Pg.apply(Rg,arguments)}),QS=Zs,GS=Function.prototype,Ed=GS.call,PV=QS&&GS.bind.bind(Ed,Ed),ha=QS?PV:function(e){return function(){return Ed.apply(e,arguments)}},YS=ha,AV=YS({}.toString),kV=YS("".slice),KS=function(e){return kV(AV(e),8,-1)},qV=KS,$V=ha,XS=function(e){if(qV(e)==="Function")return $V(e)},Cd=typeof document=="object"&&document.all,DV=typeof Cd>"u"&&Cd!==void 0,ZS={all:Cd,IS_HTMLDDA:DV},JS=ZS,FV=JS.all,Pn=JS.IS_HTMLDDA?function(e){return typeof e=="function"||e===FV}:function(e){return typeof e=="function"},e_={},OV=tn,Ii=!OV(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),LV=Zs,to=Function.prototype.call,oh=LV?to.bind(to):function(){return to.apply(to,arguments)},t_={},r_={}.propertyIsEnumerable,n_=Object.getOwnPropertyDescriptor,VV=n_&&!r_.call({1:2},1);t_.f=VV?function(t){var n=n_(this,t);return!!n&&n.enumerable}:r_;var a_=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},MV=ha,BV=tn,UV=KS,Ju=Object,zV=MV("".split),HV=BV(function(){return!Ju("z").propertyIsEnumerable(0)})?function(e){return UV(e)=="String"?zV(e,""):Ju(e)}:Ju,i_=function(e){return e==null},WV=i_,jV=TypeError,o_=function(e){if(WV(e))throw jV("Can't call method on "+e);return e},QV=HV,GV=o_,s_=function(e){return QV(GV(e))},Ag=Pn,l_=ZS,YV=l_.all,Js=l_.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:Ag(e)||e===YV}:function(e){return typeof e=="object"?e!==null:Ag(e)},u_={},ec=u_,tc=Rn,KV=Pn,kg=function(e){return KV(e)?e:void 0},c_=function(e,t){return arguments.length<2?kg(ec[e])||kg(tc[e]):ec[e]&&ec[e][t]||tc[e]&&tc[e][t]},XV=ha,ZV=XV({}.isPrototypeOf),JV=typeof navigator<"u"&&String(navigator.userAgent)||"",d_=Rn,rc=JV,qg=d_.process,$g=d_.Deno,Dg=qg&&qg.versions||$g&&$g.version,Fg=Dg&&Dg.v8,Vt,Xo;Fg&&(Vt=Fg.split("."),Xo=Vt[0]>0&&Vt[0]<4?1:+(Vt[0]+Vt[1]));!Xo&&rc&&(Vt=rc.match(/Edge\/(\d+)/),(!Vt||Vt[1]>=74)&&(Vt=rc.match(/Chrome\/(\d+)/),Vt&&(Xo=+Vt[1])));var eM=Xo,Og=eM,tM=tn,f_=!!Object.getOwnPropertySymbols&&!tM(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Og&&Og<41}),rM=f_,p_=rM&&!Symbol.sham&&typeof Symbol.iterator=="symbol",nM=c_,aM=Pn,iM=ZV,oM=p_,sM=Object,h_=oM?function(e){return typeof e=="symbol"}:function(e){var t=nM("Symbol");return aM(t)&&iM(t.prototype,sM(e))},lM=String,uM=function(e){try{return lM(e)}catch{return"Object"}},cM=Pn,dM=uM,fM=TypeError,m_=function(e){if(cM(e))return e;throw fM(dM(e)+" is not a function")},pM=m_,hM=i_,mM=function(e,t){var n=e[t];return hM(n)?void 0:pM(n)},nc=oh,ac=Pn,ic=Js,vM=TypeError,gM=function(e,t){var n,a;if(t==="string"&&ac(n=e.toString)&&!ic(a=nc(n,e))||ac(n=e.valueOf)&&!ic(a=nc(n,e))||t!=="string"&&ac(n=e.toString)&&!ic(a=nc(n,e)))return a;throw vM("Can't convert object to primitive value")},v_={exports:{}},Lg=Rn,yM=Object.defineProperty,bM=function(e,t){try{yM(Lg,e,{value:t,configurable:!0,writable:!0})}catch{Lg[e]=t}return t},wM=Rn,SM=bM,Vg="__core-js_shared__",_M=wM[Vg]||SM(Vg,{}),EM=_M,Mg=EM;(v_.exports=function(e,t){return Mg[e]||(Mg[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.27.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"});var CM=v_.exports,xM=o_,NM=Object,g_=function(e){return NM(xM(e))},IM=ha,TM=g_,RM=IM({}.hasOwnProperty),sh=Object.hasOwn||function(t,n){return RM(TM(t),n)},PM=ha,AM=0,kM=Math.random(),qM=PM(1 .toString),$M=function(e){return"Symbol("+(e===void 0?"":e)+")_"+qM(++AM+kM,36)},DM=Rn,FM=CM,Bg=sh,OM=$M,LM=f_,VM=p_,Un=DM.Symbol,oc=FM("wks"),MM=VM?Un.for||Un:Un&&Un.withoutSetter||OM,BM=function(e){return Bg(oc,e)||(oc[e]=LM&&Bg(Un,e)?Un[e]:MM("Symbol."+e)),oc[e]},UM=oh,Ug=Js,zg=h_,zM=mM,HM=gM,WM=BM,jM=TypeError,QM=WM("toPrimitive"),GM=function(e,t){if(!Ug(e)||zg(e))return e;var n=zM(e,QM),a;if(n){if(t===void 0&&(t="default"),a=UM(n,e,t),!Ug(a)||zg(a))return a;throw jM("Can't convert object to primitive value")}return t===void 0&&(t="number"),HM(e,t)},YM=GM,KM=h_,y_=function(e){var t=YM(e,"string");return KM(t)?t:t+""},XM=Rn,Hg=Js,xd=XM.document,ZM=Hg(xd)&&Hg(xd.createElement),JM=function(e){return ZM?xd.createElement(e):{}},e3=Ii,t3=tn,r3=JM,b_=!e3&&!t3(function(){return Object.defineProperty(r3("div"),"a",{get:function(){return 7}}).a!=7}),n3=Ii,a3=oh,i3=t_,o3=a_,s3=s_,l3=y_,u3=sh,c3=b_,Wg=Object.getOwnPropertyDescriptor;e_.f=n3?Wg:function(t,n){if(t=s3(t),n=l3(n),c3)try{return Wg(t,n)}catch{}if(u3(t,n))return o3(!a3(i3.f,t,n),t[n])};var d3=tn,f3=Pn,p3=/#|\.prototype\./,Ti=function(e,t){var n=m3[h3(e)];return n==g3?!0:n==v3?!1:f3(t)?d3(t):!!t},h3=Ti.normalize=function(e){return String(e).replace(p3,".").toLowerCase()},m3=Ti.data={},v3=Ti.NATIVE="N",g3=Ti.POLYFILL="P",y3=Ti,jg=XS,b3=m_,w3=Zs,S3=jg(jg.bind),_3=function(e,t){return b3(e),t===void 0?e:w3?S3(e,t):function(){return e.apply(t,arguments)}},w_={},E3=Ii,C3=tn,x3=E3&&C3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),N3=Js,I3=String,T3=TypeError,R3=function(e){if(N3(e))return e;throw T3(I3(e)+" is not an object")},P3=Ii,A3=b_,k3=x3,ro=R3,Qg=y_,q3=TypeError,sc=Object.defineProperty,$3=Object.getOwnPropertyDescriptor,lc="enumerable",uc="configurable",cc="writable";w_.f=P3?k3?function(t,n,a){if(ro(t),n=Qg(n),ro(a),typeof t=="function"&&n==="prototype"&&"value"in a&&cc in a&&!a[cc]){var r=$3(t,n);r&&r[cc]&&(t[n]=a.value,a={configurable:uc in a?a[uc]:r[uc],enumerable:lc in a?a[lc]:r[lc],writable:!1})}return sc(t,n,a)}:sc:function(t,n,a){if(ro(t),n=Qg(n),ro(a),A3)try{return sc(t,n,a)}catch{}if("get"in a||"set"in a)throw q3("Accessors not supported");return"value"in a&&(t[n]=a.value),t};var D3=Ii,F3=w_,O3=a_,L3=D3?function(e,t,n){return F3.f(e,t,O3(1,n))}:function(e,t,n){return e[t]=n,e},no=Rn,V3=RV,M3=XS,B3=Pn,U3=e_.f,z3=y3,On=u_,H3=_3,Ln=L3,Gg=sh,W3=function(e){var t=function(n,a,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,a)}return new e(n,a,r)}return V3(e,this,arguments)};return t.prototype=e.prototype,t},S_=function(e,t){var n=e.target,a=e.global,r=e.stat,i=e.proto,o=a?no:r?no[n]:(no[n]||{}).prototype,s=a?On:On[n]||Ln(On,n,{})[n],l=s.prototype,c,u,d,f,p,h,v,g,b;for(f in t)c=z3(a?f:n+(r?".":"#")+f,e.forced),u=!c&&o&&Gg(o,f),h=s[f],u&&(e.dontCallGetSet?(b=U3(o,f),v=b&&b.value):v=o[f]),p=u&&v?v:t[f],!(u&&typeof h==typeof p)&&(e.bind&&u?g=H3(p,no):e.wrap&&u?g=W3(p):i&&B3(p)?g=M3(p):g=p,(e.sham||p&&p.sham||h&&h.sham)&&Ln(g,"sham",!0),Ln(s,f,g),i&&(d=n+"Prototype",Gg(On,d)||Ln(On,d,{}),Ln(On[d],f,p),e.real&&l&&(c||!l[f])&&Ln(l,f,p)))},j3=Math.ceil,Q3=Math.floor,G3=Math.trunc||function(t){var n=+t;return(n>0?Q3:j3)(n)},Y3=G3,__=function(e){var t=+e;return t!==t||t===0?0:Y3(t)},K3=__,X3=Math.max,Z3=Math.min,E_=function(e,t){var n=K3(e);return n<0?X3(n+t,0):Z3(n,t)},J3=__,e4=Math.min,t4=function(e){return e>0?e4(J3(e),9007199254740991):0},r4=t4,C_=function(e){return r4(e.length)},n4=s_,a4=E_,i4=C_,Yg=function(e){return function(t,n,a){var r=n4(t),i=i4(r),o=a4(a,i),s;if(e&&n!=n){for(;i>o;)if(s=r[o++],s!=s)return!0}else for(;i>o;o++)if((e||o in r)&&r[o]===n)return e||o||0;return!e&&-1}},o4={includes:Yg(!0),indexOf:Yg(!1)},s4=S_,l4=o4.includes,u4=tn,c4=u4(function(){return!Array(1).includes()});s4({target:"Array",proto:!0,forced:c4},{includes:function(t){return l4(this,t,arguments.length>1?arguments[1]:void 0)}});var d4=c_,x_=d4,f4=x_,p4=f4("Array","includes");const h4=St(p4);var N_={exports:{}},De={};/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(De,"__esModule",{value:!0});var ft=typeof Symbol=="function"&&Symbol.for,lh=ft?Symbol.for("react.element"):60103,uh=ft?Symbol.for("react.portal"):60106,el=ft?Symbol.for("react.fragment"):60107,tl=ft?Symbol.for("react.strict_mode"):60108,rl=ft?Symbol.for("react.profiler"):60114,nl=ft?Symbol.for("react.provider"):60109,al=ft?Symbol.for("react.context"):60110,ch=ft?Symbol.for("react.async_mode"):60111,il=ft?Symbol.for("react.concurrent_mode"):60111,ol=ft?Symbol.for("react.forward_ref"):60112,sl=ft?Symbol.for("react.suspense"):60113,m4=ft?Symbol.for("react.suspense_list"):60120,ll=ft?Symbol.for("react.memo"):60115,ul=ft?Symbol.for("react.lazy"):60116,v4=ft?Symbol.for("react.fundamental"):60117,g4=ft?Symbol.for("react.responder"):60118;function At(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lh:switch(e=e.type,e){case ch:case il:case el:case rl:case tl:case sl:return e;default:switch(e=e&&e.$$typeof,e){case al:case ol:case nl:return e;default:return t}}case ul:case ll:case uh:return t}}}function I_(e){return At(e)===il}De.typeOf=At;De.AsyncMode=ch;De.ConcurrentMode=il;De.ContextConsumer=al;De.ContextProvider=nl;De.Element=lh;De.ForwardRef=ol;De.Fragment=el;De.Lazy=ul;De.Memo=ll;De.Portal=uh;De.Profiler=rl;De.StrictMode=tl;De.Suspense=sl;De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===el||e===il||e===rl||e===tl||e===sl||e===m4||typeof e=="object"&&e!==null&&(e.$$typeof===ul||e.$$typeof===ll||e.$$typeof===nl||e.$$typeof===al||e.$$typeof===ol||e.$$typeof===v4||e.$$typeof===g4)};De.isAsyncMode=function(e){return I_(e)||At(e)===ch};De.isConcurrentMode=I_;De.isContextConsumer=function(e){return At(e)===al};De.isContextProvider=function(e){return At(e)===nl};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lh};De.isForwardRef=function(e){return At(e)===ol};De.isFragment=function(e){return At(e)===el};De.isLazy=function(e){return At(e)===ul};De.isMemo=function(e){return At(e)===ll};De.isPortal=function(e){return At(e)===uh};De.isProfiler=function(e){return At(e)===rl};De.isStrictMode=function(e){return At(e)===tl};De.isSuspense=function(e){return At(e)===sl};N_.exports=De;var Kg=N_.exports,y4=k1;function b4(e,t){return y4(e,t)}var T_=b4,w4=gb;function S4(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?w4(e,void 0,t):[]}var R_=S4,_4=Rb,E4=wb,C4=Sb,x4=Zr,N4=ks,Xg=Pb,I4=Math.min;function T4(e,t,n){for(var a=n?C4:E4,r=e[0].length,i=e.length,o=i,s=Array(i),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=x4(u,N4(t))),l=I4(u.length,l),s[o]=!n&&(t||r>=120&&u.length>=120)?new _4(o&&u):void 0}u=e[0];var d=-1,f=s[0];e:for(;++d<r&&c.length<l;){var p=u[d],h=t?t(p):p;if(p=n||p!==0?p:0,!(f?Xg(f,h):a(c,h,n))){for(o=i;--o;){var v=s[o];if(!(v?Xg(v,h):a(e[o],h,n)))continue e}f&&f.push(h),c.push(p)}}return c}var P_=T4,R4=Gs;function P4(e){return R4(e)?e:[]}var A_=P4,A4=Zr,k4=P_,q4=en,$4=A_,D4=uS,F4=q4(function(e){var t=D4(e),n=A4(e,$4);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?k4(n,void 0,t):[]}),k_=F4,O4=q1,L4=Nb,V4="[object Boolean]";function M4(e){return e===!0||e===!1||L4(e)&&O4(e)==V4}var B4=M4,Ht=T_,U4=rh,dh=_b,Zg=R_,z4=sS,H4=k_,Zo=Sp,dc=B4,Jg=e=>Array.isArray(e)?e:[e],Ft=e=>e===void 0,ao=e=>Zo(e)||Array.isArray(e)?Object.keys(e):[],zn=(e,t)=>e.hasOwnProperty(t),na=e=>U4(dh(e)),ey=e=>Ft(e)||Array.isArray(e)&&e.length===0,W4=(e,t,n,a)=>t&&zn(t,n)&&e&&zn(e,n)&&a(e[n],t[n]),fc=(e,t)=>Ft(e)&&t===0||Ft(t)&&e===0||Ht(e,t),j4=(e,t)=>Ft(e)&&t===!1||Ft(t)&&e===!1||Ht(e,t),ty=e=>Ft(e)||Ht(e,{})||e===!0,io=e=>Ft(e)||Ht(e,{}),ry=e=>Ft(e)||Zo(e)||e===!0||e===!1;function ny(e,t){return ey(e)&&ey(t)?!0:Ht(na(e),na(t))}function Q4(e,t){return e=Jg(e),t=Jg(t),Ht(na(e),na(t))}function So(e,t,n,a){var r=dh(ao(e).concat(ao(t)));return io(e)&&io(t)?!0:io(e)&&ao(t).length||io(t)&&ao(e).length?!1:r.every(function(i){var o=e[i],s=t[i];return Array.isArray(o)&&Array.isArray(s)?Ht(na(e),na(t)):Array.isArray(o)&&!Array.isArray(s)||Array.isArray(s)&&!Array.isArray(o)?!1:W4(e,t,i,a)})}function G4(e,t,n,a){return Zo(e)&&Zo(t)?a(e,t):Array.isArray(e)&&Array.isArray(t)?So(e,t,n,a):Ht(e,t)}function pc(e,t,n,a){var r=Zg(e,a),i=Zg(t,a),o=H4(r,i,a);return o.length===Math.max(r.length,i.length)}var Y4={title:Ht,uniqueItems:j4,minLength:fc,minItems:fc,minProperties:fc,required:ny,enum:ny,type:Q4,items:G4,anyOf:pc,allOf:pc,oneOf:pc,properties:So,patternProperties:So,dependencies:So},K4=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],X4=["additionalProperties","additionalItems","contains","propertyNames","not"];function Nd(e,t,n){if(n=z4(n,{ignore:[]}),ty(e)&&ty(t))return!0;if(!ry(e)||!ry(t))throw new Error("Either of the values are not a JSON schema.");if(e===t)return!0;if(dc(e)&&dc(t))return e===t;if(e===void 0&&t===!1||t===void 0&&e===!1||Ft(e)&&!Ft(t)||!Ft(e)&&Ft(t))return!1;var a=dh(Object.keys(e).concat(Object.keys(t)));if(n.ignore.length&&(a=a.filter(i=>n.ignore.indexOf(i)===-1)),!a.length)return!0;function r(i,o){return Nd(i,o,n)}return a.every(function(i){var o=e[i],s=t[i];if(X4.indexOf(i)!==-1)return Nd(o,s,n);var l=Y4[i];if(l||(l=Ht),Ht(o,s))return!0;if(K4.indexOf(i)===-1&&(!zn(e,i)&&zn(t,i)||zn(e,i)&&!zn(t,i)))return o===s;var c=l(o,s,i,r);if(!dc(c))throw new Error("Comparer must return true or false");return c})}var Z4=Nd;function J4(e){return Object.prototype.toString.call(e)==="[object Array]"}var fh=Array.isArray||J4;function e5(e){return(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")&&e.valueOf()===e.valueOf()}var t5=e5,r5=t5;function n5(e){return r5(e)&&e%1===0}var a5=n5,i5=fh,o5=a5;function s5(e){var t;if(!i5(e)||(t=e.length,!t))return!1;for(var n=0;n<t;n++)if(!o5(e[n]))return!1;return!0}var q_=s5;function l5(e){return typeof e=="function"}var $_=l5,u5=fh,ay=q_,c5=$_,oo=Math.pow(2,31)-1;function iy(e,t){var n=1,a;if(e===0)return t;if(t===0)return e;for(;e%2===0&&t%2===0;)e=e/2,t=t/2,n=n*2;for(;e%2===0;)e=e/2;for(;t;){for(;t%2===0;)t=t/2;e>t&&(a=t,t=e,e=a),t=t-e}return n*e}function oy(e,t){var n=0,a;if(e===0)return t;if(t===0)return e;for(;!(e&1)&&!(t&1);)e>>>=1,t>>>=1,n++;for(;!(e&1);)e>>>=1;for(;t;){for(;!(t&1);)t>>>=1;e>t&&(a=t,t=e,e=a),t=t-e}return e<<n}function d5(){var e=arguments.length,t,n,a,r,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(ay(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i<=oo&&o<=oo?oy(i,o):iy(i,o);a=t}else if(u5(t[0]))if(e>1){if(a=t[0],n=t[1],!c5(n))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else a=t[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(r=a.length,r<2)return null;if(n){for(i=new Array(r),s=0;s<r;s++)i[s]=n(a[s],s);a=i}if(e<3&&!ay(a))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+a+"`.");for(s=0;s<r;s++)i=a[s],i<0&&(a[s]=-i);for(i=a[0],s=1;s<r;s++)o=a[s],o<=oo&&i<=oo?i=oy(i,o):i=iy(i,o);return i}var f5=d5,sy=f5,p5=fh,ly=q_,h5=$_;function m5(){var e=arguments.length,t,n,a,r,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(ly(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i===0||o===0?0:i/sy(i,o)*o;a=t}else if(p5(t[0]))if(e>1){if(a=t[0],n=t[1],!h5(n))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else a=t[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(r=a.length,r<2)return null;if(n){for(i=new Array(r),s=0;s<r;s++)i[s]=n(a[s],s);a=i}if(e<3&&!ly(a))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+a+"`.");for(s=0;s<r;s++)i=a[s],i<0&&(a[s]=-i);for(i=a[0],s=1;s<r;s++){if(o=a[s],i===0||o===0)return 0;i=i/sy(i,o)*o}return i}var v5=m5,g5=th,uy=wi;function D_(e,t,n,a,r,i){return uy(e)&&uy(t)&&(i.set(t,e),g5(e,t,void 0,D_,i),i.delete(t)),e}var y5=D_,b5=th,w5=pS,S5=w5(function(e,t,n,a){b5(e,t,n,a)}),_5=S5,E5=K0,C5=en,x5=y5,N5=_5,I5=C5(function(e){return e.push(void 0,x5),E5(N5,void 0,e)}),T5=I5,R5=Qs,P5=1/0;function A5(e){var t=e==null?0:e.length;return t?R5(e,P5):[]}var k5=A5,q5=Zr,$5=P_,D5=en,F5=A_,O5=D5(function(e){var t=q5(e,F5);return t.length&&t[0]===e[0]?$5(t):[]}),L5=O5;function V5(e,t,n,a){for(var r=n-1,i=e.length;++r<i;)if(a(e[r],t))return r;return-1}var M5=V5,B5=Zr,U5=v1,z5=M5,H5=ks,W5=yb,j5=Array.prototype,cy=j5.splice;function Q5(e,t,n,a){var r=a?z5:U5,i=-1,o=t.length,s=e;for(e===t&&(t=W5(t)),n&&(s=B5(e,H5(n)));++i<o;)for(var l=0,c=t[i],u=n?n(c):c;(l=r(s,u,l,a))>-1;)s!==e&&cy.call(s,l,1),cy.call(e,l,1);return e}var G5=Q5,Y5=G5;function K5(e,t){return e&&e.length&&t&&t.length?Y5(e,t):e}var X5=K5,Z5=Rb,J5=wb,e6=Sb,t6=Zr,r6=ks,n6=Pb,a6=200;function i6(e,t,n,a){var r=-1,i=J5,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=t6(t,r6(n))),a?(i=e6,o=!1):t.length>=a6&&(i=n6,o=!1,t=new Z5(t));e:for(;++r<s;){var u=e[r],d=n==null?u:n(u);if(u=a||u!==0?u:0,o&&d===d){for(var f=c;f--;)if(t[f]===d)continue e;l.push(u)}else i(t,d,a)||l.push(u)}return l}var o6=i6,s6=o6,l6=en,u6=Gs,c6=l6(function(e,t){return u6(e)?s6(e,t):[]}),d6=c6,F_=bb,oi=Z4,f6=v5,p6=T5,ph=Jp,hh=k5,h6=L5,m6=k_,Id=T_,si=Sp,dy=X5,O_=rh,L_=Xp,mh=_b,hn=R_,v6=d6,fy=(e,...t)=>v6.apply(null,[e].concat(ph(t))),g6=e=>hr(z_,e),y6=e=>hr(H_,e),hr=(e,t)=>e.indexOf(t)!==-1,b6=e=>!sn(e).length&&e!==!1&&e!==!0,Td=e=>si(e)||e===!0||e===!1,w6=e=>e===!1,V_=e=>e===!0,cl=(e,t,n)=>n(e),M_=e=>O_(mh(hh(e))),Cn=e=>e!==void 0,vh=e=>mh(hh(e.map(sn))),ma=e=>e[0],S6=e=>M_(e),Ri=e=>Math.max.apply(Math,e),Pi=e=>Math.min.apply(Math,e),_6=e=>e.some(V_),E6=e=>hn(ph(e),Id);function C6(e){return function(t,n){return oi({[e]:t},{[e]:n})}}function B_(e){if(Array.isArray(e.allOf)){var t=e.allOf;return delete e.allOf,[e].concat(t.map(function(n){return B_(n)}))}else return[e]}function gh(e,t){return e.map(function(n){return n&&n[t]})}function x6(e,t){return e.map(function(n){if(n)if(Array.isArray(n.items)){var a=n.items[t];if(Td(a))return a;if(n.hasOwnProperty("additionalItems"))return n.additionalItems}else return n.items})}function N6(e,t){return e.map(function(n,a){try{return t(n,a)}catch{return}}).filter(Cn)}function I6(e){return e.map(function(t){if(t)return Array.isArray(t.items)?t.additionalItems:t.items})}function sn(e){return si(e)||Array.isArray(e)?Object.keys(e):[]}function Rd(e,t){if(t=t||[],!e.length)return t;var n=e.slice(0).shift(),a=e.slice(1);return t.length?Rd(a,ph(t.map(r=>n.map(i=>[i].concat(r))))):Rd(a,n.map(r=>r))}function T6(e,t){return Array.isArray(e)?(e.splice.apply(e,[0,0].concat(t)),e):t}function U_(e,t){var n;try{n=e.map(function(a){return JSON.stringify(a,null,2)}).join(`
`)}catch{n=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+`". They are probably incompatible. Values: 
`+n)}function R6(e){for(var t in e)e.hasOwnProperty(t)&&b6(e[t])&&delete e[t];return e}function Pd(e,t,n){return function(a,r){if(r===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return r=String(r),e(a,null,n.concat(t,r))}}function py(e,t,n,a,r,i){if(e.length){var o=r.resolvers[t];if(!o)throw new Error("No resolver found for "+t);var s=hn(n.map(function(d){return e.reduce(function(f,p){return d[p]!==void 0&&(f[p]=d[p]),f},{})}).filter(Cn),oi),l=t==="properties"?z_:H_,c=l.reduce(function(d,f){return hr(Ad,f)?d[f]=Pd(a,f,i):d[f]=function(p){return a(p,null,i.concat(f))},d},{});t==="items"&&(c.itemsArray=Pd(a,"items",i),c.items=function(d){return a(d,null,i.concat("items"))});var u=o(s,i.concat(t),c,r);return si(u)||U_(s,i.concat(t)),R6(u)}}function hc(e,t,n){var a=vh(n||e),r=n?x6:gh;return a.reduce(function(i,o){var s=r(e,o),l=hn(s.filter(Cn),oi);return i[o]=t(l,o),i},n?[]:{})}function P6(e){L_(e,function(t,n){t===!1&&delete e[n]})}function A6(e){L_(e,function(t,n){t===!1&&e.splice(n,1)})}function k6(e){return{required:e}}var z_=["properties","patternProperties","additionalProperties"],H_=["items","additionalItems"],Ad=["properties","patternProperties","definitions","dependencies"],hy=["anyOf","oneOf"],q6=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Oe={type(e){if(e.some(Array.isArray)){var t=e.map(function(a){return Array.isArray(a)?a:[a]}),n=h6.apply(null,t);if(n.length===1)return n[0];if(n.length>1)return mh(n)}},properties(e,t,n,a){a.ignoreAdditionalProperties||(e.forEach(function(i){var o=e.filter(u=>u!==i),s=sn(i.properties),l=sn(i.patternProperties),c=l.map(u=>new RegExp(u));o.forEach(function(u){var d=sn(u.properties),f=d.filter(h=>c.some(v=>v.test(h))),p=fy(d,s,f);p.forEach(function(h){u.properties[h]=n.properties([u.properties[h],i.additionalProperties],h)})})}),e.forEach(function(i){var o=e.filter(l=>l!==i),s=sn(i.patternProperties);i.additionalProperties===!1&&o.forEach(function(l){var c=sn(l.patternProperties),u=fy(c,s);u.forEach(d=>delete l.patternProperties[d])})}));var r={additionalProperties:n.additionalProperties(e.map(i=>i.additionalProperties)),patternProperties:hc(e.map(i=>i.patternProperties),n.patternProperties),properties:hc(e.map(i=>i.properties),n.properties)};return r.additionalProperties===!1&&P6(r.properties),r},dependencies(e,t,n){var a=vh(e);return a.reduce(function(r,i){var o=gh(e,i),s=hn(o.filter(Cn),Id),l=s.filter(Array.isArray);if(l.length){if(l.length===s.length)r[i]=M_(s);else{var c=s.filter(Td),u=l.map(k6);r[i]=n(c.concat(u),i)}return r}return s=hn(s,oi),r[i]=n(s,i),r},{})},items(e,t,n){var a=e.map(s=>s.items),r=a.filter(Cn),i={};r.every(Td)?i.items=n.items(a):i.items=hc(e,n.itemsArray,a);var o;return r.every(Array.isArray)?o=e.map(s=>s.additionalItems):r.some(Array.isArray)&&(o=I6(e)),o&&(i.additionalItems=n.additionalItems(o)),i.additionalItems===!1&&Array.isArray(i.items)&&A6(i.items),i},oneOf(e,t,n){var a=Rd(F_(e)),r=N6(a,n),i=hn(r,oi);if(i.length)return i},not(e){return{anyOf:e}},pattern(e,t,n,a,r){var i=t.pop();r(e.map(function(o){return{[i]:o}}))},multipleOf(e){for(var t=e.slice(0),n=1;t.some(a=>!Number.isInteger(a));)t=t.map(a=>a*10),n=n*10;return f6(t)/n},enum(e){var t=m6.apply(null,e.concat(Id));if(t.length)return O_(t)}};Oe.$id=ma;Oe.$ref=ma;Oe.$schema=ma;Oe.additionalItems=cl;Oe.additionalProperties=cl;Oe.anyOf=Oe.oneOf;Oe.contains=cl;Oe.default=ma;Oe.definitions=Oe.dependencies;Oe.description=ma;Oe.examples=E6;Oe.exclusiveMaximum=Pi;Oe.exclusiveMinimum=Ri;Oe.maximum=Pi;Oe.maxItems=Pi;Oe.maxLength=Pi;Oe.maxProperties=Pi;Oe.minimum=Ri;Oe.minItems=Ri;Oe.minLength=Ri;Oe.minProperties=Ri;Oe.propertyNames=cl;Oe.required=S6;Oe.title=ma;Oe.uniqueItems=_6;function yh(e,t,n){t=p6(t,{ignoreAdditionalProperties:!1,resolvers:Oe});function a(o,s,l){o=F_(o.filter(Cn)),l=l||[];var c=si(s)?s:{};if(!o.length)return;if(o.some(w6))return!1;if(o.every(V_))return!0;o=o.filter(si);var u=vh(o);if(hr(u,"allOf"))return yh({allOf:o},t);var d=u.filter(g6);dy(u,d);var f=u.filter(y6);dy(u,f),u.forEach(function(h){var v=gh(o,h),g=hn(v.filter(Cn),C6(h));if(g.length===1&&hr(hy,h))c[h]=g[0].map(function(_){return a([_],_)});else if(g.length===1&&!hr(Ad,h)&&!hr(q6,h))c[h]=g[0];else{var b=t.resolvers[h]||t.resolvers.defaultResolver;if(!b)throw new Error("No resolver found for key "+h+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var E;hr(Ad,h)||hr(hy,h)?E=Pd(a,h,l):E=function(_){return a(_,null,l.concat(h))};var y=!1;c[h]=b(g,l.concat(h),E,t,function(_){return y=Array.isArray(_),p(_)}),c[h]===void 0&&!y?U_(g,l.concat(h)):c[h]===void 0&&delete c[h]}}),Object.assign(c,py(d,"properties",o,a,t,l)),Object.assign(c,py(f,"items",o,a,t,l));function p(h){c.allOf=T6(c.allOf,h)}return c}var r=hh(B_(e)),i=a(r,e);return i}yh.options={resolvers:Oe};var $6=yh;const D6=St($6);var F6=g_,my=E_,O6=C_,L6=function(t){for(var n=F6(this),a=O6(n),r=arguments.length,i=my(r>1?arguments[1]:void 0,a),o=r>2?arguments[2]:void 0,s=o===void 0?a:my(o,a);s>i;)n[i++]=t;return n},V6=S_,M6=L6;V6({target:"Array",proto:!0},{fill:M6});var B6=x_,U6=B6("Array","fill"),z6=U6,H6=z6,W6=H6,j6=W6,Q6=j6,G6=Q6,Y6=G6;const K6=St(Y6);var dl={},X6=/~/,Z6=/~[01]/g;function J6(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function W_(e){return X6.test(e)?e.replace(Z6,J6):e}function eB(e,t,n){for(var a,r,i=1,o=t.length;i<o;){if(t[i]==="constructor"||t[i]==="prototype"||t[i]==="__proto__")return e;if(a=W_(t[i++]),r=o>i,typeof e[a]>"u"&&(Array.isArray(e)&&a==="-"&&(a=e.length),r&&(t[i]!==""&&t[i]<1/0||t[i]==="-"?e[a]=[]:e[a]={})),!r)break;e=e[a]}var s=e[a];return n===void 0?delete e[a]:e[a]=n,s}function bh(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function j_(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=bh(t);var n=t.length;if(n===1)return e;for(var a=1;a<n;){if(e=e[W_(t[a++])],n===a)return e;if(typeof e!="object"||e===null)return}}function Q_(e,t,n){if(typeof e!="object")throw new Error("Invalid input object.");if(t=bh(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return eB(e,t,n)}function tB(e){var t=bh(e);return{get:function(n){return j_(n,t)},set:function(n,a){return Q_(n,t,a)}}}dl.get=j_;dl.set=Q_;dl.compile=tB;var kd={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,a){a(t)})(Qr,function(n){function a(){for(var M=arguments.length,D=Array(M),U=0;U<M;U++)D[U]=arguments[U];if(D.length>1){D[0]=D[0].slice(0,-1);for(var W=D.length-1,H=1;H<W;++H)D[H]=D[H].slice(1,-1);return D[W]=D[W].slice(1),D.join("")}else return D[0]}function r(M){return"(?:"+M+")"}function i(M){return M===void 0?"undefined":M===null?"null":Object.prototype.toString.call(M).split(" ").pop().split("]").shift().toLowerCase()}function o(M){return M.toUpperCase()}function s(M){return M!=null?M instanceof Array?M:typeof M.length!="number"||M.split||M.setInterval||M.call?[M]:Array.prototype.slice.call(M):[]}function l(M,D){var U=M;if(D)for(var W in D)U[W]=D[W];return U}function c(M){var D="[A-Za-z]",U="[0-9]",W=a(U,"[A-Fa-f]"),H=r(r("%[EFef]"+W+"%"+W+W+"%"+W+W)+"|"+r("%[89A-Fa-f]"+W+"%"+W+W)+"|"+r("%"+W+W)),ee="[\\:\\/\\?\\#\\[\\]\\@]",se="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ce=a(ee,se),Ve=M?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ge=M?"[\\uE000-\\uF8FF]":"[]",_e=a(D,U,"[\\-\\.\\_\\~]",Ve);r(D+a(D,U,"[\\+\\-\\.]")+"*"),r(r(H+"|"+a(_e,se,"[\\:]"))+"*");var Fe=r(r("25[0-5]")+"|"+r("2[0-4]"+U)+"|"+r("1"+U+U)+"|"+r("0?[1-9]"+U)+"|0?0?"+U),Ye=r(Fe+"\\."+Fe+"\\."+Fe+"\\."+Fe),me=r(W+"{1,4}"),Ue=r(r(me+"\\:"+me)+"|"+Ye),Ze=r(r(me+"\\:")+"{6}"+Ue),ze=r("\\:\\:"+r(me+"\\:")+"{5}"+Ue),Kt=r(r(me)+"?\\:\\:"+r(me+"\\:")+"{4}"+Ue),Ct=r(r(r(me+"\\:")+"{0,1}"+me)+"?\\:\\:"+r(me+"\\:")+"{3}"+Ue),qt=r(r(r(me+"\\:")+"{0,2}"+me)+"?\\:\\:"+r(me+"\\:")+"{2}"+Ue),Ir=r(r(r(me+"\\:")+"{0,3}"+me)+"?\\:\\:"+me+"\\:"+Ue),cr=r(r(r(me+"\\:")+"{0,4}"+me)+"?\\:\\:"+Ue),mt=r(r(r(me+"\\:")+"{0,5}"+me)+"?\\:\\:"+me),vt=r(r(r(me+"\\:")+"{0,6}"+me)+"?\\:\\:"),an=r([Ze,ze,Kt,Ct,qt,Ir,cr,mt,vt].join("|")),dr=r(r(_e+"|"+H)+"+");r("[vV]"+W+"+\\."+a(_e,se,"[\\:]")+"+"),r(r(H+"|"+a(_e,se))+"*");var wa=r(H+"|"+a(_e,se,"[\\:\\@]"));return r(r(H+"|"+a(_e,se,"[\\@]"))+"+"),r(r(wa+"|"+a("[\\/\\?]",Ge))+"*"),{NOT_SCHEME:new RegExp(a("[^]",D,U,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",_e,se),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",_e,se),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",_e,se),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",_e,se),"g"),NOT_QUERY:new RegExp(a("[^\\%]",_e,se,"[\\:\\@\\/\\?]",Ge),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",_e,se,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",_e,se),"g"),UNRESERVED:new RegExp(_e,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",_e,Ce),"g"),PCT_ENCODED:new RegExp(H,"g"),IPV4ADDRESS:new RegExp("^("+Ye+")$"),IPV6ADDRESS:new RegExp("^\\[?("+an+")"+r(r("\\%25|\\%(?!"+W+"{2})")+"("+dr+")")+"?\\]?$")}}var u=c(!1),d=c(!0),f=function(){function M(D,U){var W=[],H=!0,ee=!1,se=void 0;try{for(var Ce=D[Symbol.iterator](),Ve;!(H=(Ve=Ce.next()).done)&&(W.push(Ve.value),!(U&&W.length===U));H=!0);}catch(Ge){ee=!0,se=Ge}finally{try{!H&&Ce.return&&Ce.return()}finally{if(ee)throw se}}return W}return function(D,U){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return M(D,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(M){if(Array.isArray(M)){for(var D=0,U=Array(M.length);D<M.length;D++)U[D]=M[D];return U}else return Array.from(M)},h=2147483647,v=36,g=1,b=26,E=38,y=700,_=72,w=128,S="-",C=/^xn--/,x=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=v-g,A=Math.floor,I=String.fromCharCode;function N(M){throw new RangeError(R[M])}function q(M,D){for(var U=[],W=M.length;W--;)U[W]=D(M[W]);return U}function F(M,D){var U=M.split("@"),W="";U.length>1&&(W=U[0]+"@",M=U[1]),M=M.replace(T,".");var H=M.split("."),ee=q(H,D).join(".");return W+ee}function P(M){for(var D=[],U=0,W=M.length;U<W;){var H=M.charCodeAt(U++);if(H>=55296&&H<=56319&&U<W){var ee=M.charCodeAt(U++);(ee&64512)==56320?D.push(((H&1023)<<10)+(ee&1023)+65536):(D.push(H),U--)}else D.push(H)}return D}var V=function(D){return String.fromCodePoint.apply(String,p(D))},O=function(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:v},z=function(D,U){return D+22+75*(D<26)-((U!=0)<<5)},j=function(D,U,W){var H=0;for(D=W?A(D/y):D>>1,D+=A(D/U);D>$*b>>1;H+=v)D=A(D/$);return A(H+($+1)*D/(D+E))},G=function(D){var U=[],W=D.length,H=0,ee=w,se=_,Ce=D.lastIndexOf(S);Ce<0&&(Ce=0);for(var Ve=0;Ve<Ce;++Ve)D.charCodeAt(Ve)>=128&&N("not-basic"),U.push(D.charCodeAt(Ve));for(var Ge=Ce>0?Ce+1:0;Ge<W;){for(var _e=H,Fe=1,Ye=v;;Ye+=v){Ge>=W&&N("invalid-input");var me=O(D.charCodeAt(Ge++));(me>=v||me>A((h-H)/Fe))&&N("overflow"),H+=me*Fe;var Ue=Ye<=se?g:Ye>=se+b?b:Ye-se;if(me<Ue)break;var Ze=v-Ue;Fe>A(h/Ze)&&N("overflow"),Fe*=Ze}var ze=U.length+1;se=j(H-_e,ze,_e==0),A(H/ze)>h-ee&&N("overflow"),ee+=A(H/ze),H%=ze,U.splice(H++,0,ee)}return String.fromCodePoint.apply(String,U)},K=function(D){var U=[];D=P(D);var W=D.length,H=w,ee=0,se=_,Ce=!0,Ve=!1,Ge=void 0;try{for(var _e=D[Symbol.iterator](),Fe;!(Ce=(Fe=_e.next()).done);Ce=!0){var Ye=Fe.value;Ye<128&&U.push(I(Ye))}}catch(Sa){Ve=!0,Ge=Sa}finally{try{!Ce&&_e.return&&_e.return()}finally{if(Ve)throw Ge}}var me=U.length,Ue=me;for(me&&U.push(S);Ue<W;){var Ze=h,ze=!0,Kt=!1,Ct=void 0;try{for(var qt=D[Symbol.iterator](),Ir;!(ze=(Ir=qt.next()).done);ze=!0){var cr=Ir.value;cr>=H&&cr<Ze&&(Ze=cr)}}catch(Sa){Kt=!0,Ct=Sa}finally{try{!ze&&qt.return&&qt.return()}finally{if(Kt)throw Ct}}var mt=Ue+1;Ze-H>A((h-ee)/mt)&&N("overflow"),ee+=(Ze-H)*mt,H=Ze;var vt=!0,an=!1,dr=void 0;try{for(var wa=D[Symbol.iterator](),Lh;!(vt=(Lh=wa.next()).done);vt=!0){var Vh=Lh.value;if(Vh<H&&++ee>h&&N("overflow"),Vh==H){for(var Oi=ee,Li=v;;Li+=v){var Vi=Li<=se?g:Li>=se+b?b:Li-se;if(Oi<Vi)break;var Mh=Oi-Vi,Bh=v-Vi;U.push(I(z(Vi+Mh%Bh,0))),Oi=A(Mh/Bh)}U.push(I(z(Oi,0))),se=j(ee,mt,Ue==me),ee=0,++Ue}}}catch(Sa){an=!0,dr=Sa}finally{try{!vt&&wa.return&&wa.return()}finally{if(an)throw dr}}++ee,++H}return U.join("")},Y=function(D){return F(D,function(U){return C.test(U)?G(U.slice(4).toLowerCase()):U})},X=function(D){return F(D,function(U){return x.test(U)?"xn--"+K(U):U})},re={version:"2.1.0",ucs2:{decode:P,encode:V},decode:G,encode:K,toASCII:X,toUnicode:Y},J={};function fe(M){var D=M.charCodeAt(0),U=void 0;return D<16?U="%0"+D.toString(16).toUpperCase():D<128?U="%"+D.toString(16).toUpperCase():D<2048?U="%"+(D>>6|192).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase():U="%"+(D>>12|224).toString(16).toUpperCase()+"%"+(D>>6&63|128).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase(),U}function ve(M){for(var D="",U=0,W=M.length;U<W;){var H=parseInt(M.substr(U+1,2),16);if(H<128)D+=String.fromCharCode(H),U+=3;else if(H>=194&&H<224){if(W-U>=6){var ee=parseInt(M.substr(U+4,2),16);D+=String.fromCharCode((H&31)<<6|ee&63)}else D+=M.substr(U,6);U+=6}else if(H>=224){if(W-U>=9){var se=parseInt(M.substr(U+4,2),16),Ce=parseInt(M.substr(U+7,2),16);D+=String.fromCharCode((H&15)<<12|(se&63)<<6|Ce&63)}else D+=M.substr(U,9);U+=9}else D+=M.substr(U,3),U+=3}return D}function ne(M,D){function U(W){var H=ve(W);return H.match(D.UNRESERVED)?H:W}return M.scheme&&(M.scheme=String(M.scheme).replace(D.PCT_ENCODED,U).toLowerCase().replace(D.NOT_SCHEME,"")),M.userinfo!==void 0&&(M.userinfo=String(M.userinfo).replace(D.PCT_ENCODED,U).replace(D.NOT_USERINFO,fe).replace(D.PCT_ENCODED,o)),M.host!==void 0&&(M.host=String(M.host).replace(D.PCT_ENCODED,U).toLowerCase().replace(D.NOT_HOST,fe).replace(D.PCT_ENCODED,o)),M.path!==void 0&&(M.path=String(M.path).replace(D.PCT_ENCODED,U).replace(M.scheme?D.NOT_PATH:D.NOT_PATH_NOSCHEME,fe).replace(D.PCT_ENCODED,o)),M.query!==void 0&&(M.query=String(M.query).replace(D.PCT_ENCODED,U).replace(D.NOT_QUERY,fe).replace(D.PCT_ENCODED,o)),M.fragment!==void 0&&(M.fragment=String(M.fragment).replace(D.PCT_ENCODED,U).replace(D.NOT_FRAGMENT,fe).replace(D.PCT_ENCODED,o)),M}function ce(M){return M.replace(/^0*(.*)/,"$1")||"0"}function Ie(M,D){var U=M.match(D.IPV4ADDRESS)||[],W=f(U,2),H=W[1];return H?H.split(".").map(ce).join("."):M}function be(M,D){var U=M.match(D.IPV6ADDRESS)||[],W=f(U,3),H=W[1],ee=W[2];if(H){for(var se=H.toLowerCase().split("::").reverse(),Ce=f(se,2),Ve=Ce[0],Ge=Ce[1],_e=Ge?Ge.split(":").map(ce):[],Fe=Ve.split(":").map(ce),Ye=D.IPV4ADDRESS.test(Fe[Fe.length-1]),me=Ye?7:8,Ue=Fe.length-me,Ze=Array(me),ze=0;ze<me;++ze)Ze[ze]=_e[ze]||Fe[Ue+ze]||"";Ye&&(Ze[me-1]=Ie(Ze[me-1],D));var Kt=Ze.reduce(function(mt,vt,an){if(!vt||vt==="0"){var dr=mt[mt.length-1];dr&&dr.index+dr.length===an?dr.length++:mt.push({index:an,length:1})}return mt},[]),Ct=Kt.sort(function(mt,vt){return vt.length-mt.length})[0],qt=void 0;if(Ct&&Ct.length>1){var Ir=Ze.slice(0,Ct.index),cr=Ze.slice(Ct.index+Ct.length);qt=Ir.join(":")+"::"+cr.join(":")}else qt=Ze.join(":");return ee&&(qt+="%"+ee),qt}else return M}var ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,de="".match(/(){0}/)[1]===void 0;function we(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U={},W=D.iri!==!1?d:u;D.reference==="suffix"&&(M=(D.scheme?D.scheme+":":"")+"//"+M);var H=M.match(ae);if(H){de?(U.scheme=H[1],U.userinfo=H[3],U.host=H[4],U.port=parseInt(H[5],10),U.path=H[6]||"",U.query=H[7],U.fragment=H[8],isNaN(U.port)&&(U.port=H[5])):(U.scheme=H[1]||void 0,U.userinfo=M.indexOf("@")!==-1?H[3]:void 0,U.host=M.indexOf("//")!==-1?H[4]:void 0,U.port=parseInt(H[5],10),U.path=H[6]||"",U.query=M.indexOf("?")!==-1?H[7]:void 0,U.fragment=M.indexOf("#")!==-1?H[8]:void 0,isNaN(U.port)&&(U.port=M.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?H[4]:void 0)),U.host&&(U.host=be(Ie(U.host,W),W)),U.scheme===void 0&&U.userinfo===void 0&&U.host===void 0&&U.port===void 0&&!U.path&&U.query===void 0?U.reference="same-document":U.scheme===void 0?U.reference="relative":U.fragment===void 0?U.reference="absolute":U.reference="uri",D.reference&&D.reference!=="suffix"&&D.reference!==U.reference&&(U.error=U.error||"URI is not a "+D.reference+" reference.");var ee=J[(D.scheme||U.scheme||"").toLowerCase()];if(!D.unicodeSupport&&(!ee||!ee.unicodeSupport)){if(U.host&&(D.domainHost||ee&&ee.domainHost))try{U.host=re.toASCII(U.host.replace(W.PCT_ENCODED,ve).toLowerCase())}catch(se){U.error=U.error||"Host's domain name can not be converted to ASCII via punycode: "+se}ne(U,u)}else ne(U,W);ee&&ee.parse&&ee.parse(U,D)}else U.error=U.error||"URI can not be parsed.";return U}function ie(M,D){var U=D.iri!==!1?d:u,W=[];return M.userinfo!==void 0&&(W.push(M.userinfo),W.push("@")),M.host!==void 0&&W.push(be(Ie(String(M.host),U),U).replace(U.IPV6ADDRESS,function(H,ee,se){return"["+ee+(se?"%25"+se:"")+"]"})),(typeof M.port=="number"||typeof M.port=="string")&&(W.push(":"),W.push(String(M.port))),W.length?W.join(""):void 0}var Qe=/^\.\.?\//,Te=/^\/\.(\/|$)/,Me=/^\/\.\.(\/|$)/,it=/^\/?(?:.|\n)*?(?=\/|$)/;function Re(M){for(var D=[];M.length;)if(M.match(Qe))M=M.replace(Qe,"");else if(M.match(Te))M=M.replace(Te,"/");else if(M.match(Me))M=M.replace(Me,"/"),D.pop();else if(M==="."||M==="..")M="";else{var U=M.match(it);if(U){var W=U[0];M=M.slice(W.length),D.push(W)}else throw new Error("Unexpected dot segment condition")}return D.join("")}function Z(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=D.iri?d:u,W=[],H=J[(D.scheme||M.scheme||"").toLowerCase()];if(H&&H.serialize&&H.serialize(M,D),M.host&&!U.IPV6ADDRESS.test(M.host)){if(D.domainHost||H&&H.domainHost)try{M.host=D.iri?re.toUnicode(M.host):re.toASCII(M.host.replace(U.PCT_ENCODED,ve).toLowerCase())}catch(Ce){M.error=M.error||"Host's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+Ce}}ne(M,U),D.reference!=="suffix"&&M.scheme&&(W.push(M.scheme),W.push(":"));var ee=ie(M,D);if(ee!==void 0&&(D.reference!=="suffix"&&W.push("//"),W.push(ee),M.path&&M.path.charAt(0)!=="/"&&W.push("/")),M.path!==void 0){var se=M.path;!D.absolutePath&&(!H||!H.absolutePath)&&(se=Re(se)),ee===void 0&&(se=se.replace(/^\/\//,"/%2F")),W.push(se)}return M.query!==void 0&&(W.push("?"),W.push(M.query)),M.fragment!==void 0&&(W.push("#"),W.push(M.fragment)),W.join("")}function le(M,D){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=arguments[3],H={};return W||(M=we(Z(M,U),U),D=we(Z(D,U),U)),U=U||{},!U.tolerant&&D.scheme?(H.scheme=D.scheme,H.userinfo=D.userinfo,H.host=D.host,H.port=D.port,H.path=Re(D.path||""),H.query=D.query):(D.userinfo!==void 0||D.host!==void 0||D.port!==void 0?(H.userinfo=D.userinfo,H.host=D.host,H.port=D.port,H.path=Re(D.path||""),H.query=D.query):(D.path?(D.path.charAt(0)==="/"?H.path=Re(D.path):((M.userinfo!==void 0||M.host!==void 0||M.port!==void 0)&&!M.path?H.path="/"+D.path:M.path?H.path=M.path.slice(0,M.path.lastIndexOf("/")+1)+D.path:H.path=D.path,H.path=Re(H.path)),H.query=D.query):(H.path=M.path,D.query!==void 0?H.query=D.query:H.query=M.query),H.userinfo=M.userinfo,H.host=M.host,H.port=M.port),H.scheme=M.scheme),H.fragment=D.fragment,H}function pe(M,D,U){var W=l({scheme:"null"},U);return Z(le(we(M,W),we(D,W),W,!0),W)}function xe(M,D){return typeof M=="string"?M=Z(we(M,D),D):i(M)==="object"&&(M=we(Z(M,D),D)),M}function he(M,D,U){return typeof M=="string"?M=Z(we(M,U),U):i(M)==="object"&&(M=Z(M,U)),typeof D=="string"?D=Z(we(D,U),U):i(D)==="object"&&(D=Z(D,U)),M===D}function kt(M,D){return M&&M.toString().replace(!D||!D.iri?u.ESCAPE:d.ESCAPE,fe)}function ye(M,D){return M&&M.toString().replace(!D||!D.iri?u.PCT_ENCODED:d.PCT_ENCODED,ve)}var Be={scheme:"http",domainHost:!0,parse:function(D,U){return D.host||(D.error=D.error||"HTTP URIs must have a host."),D},serialize:function(D,U){var W=String(D.scheme).toLowerCase()==="https";return(D.port===(W?443:80)||D.port==="")&&(D.port=void 0),D.path||(D.path="/"),D}},He={scheme:"https",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize};function Et(M){return typeof M.secure=="boolean"?M.secure:String(M.scheme).toLowerCase()==="wss"}var dt={scheme:"ws",domainHost:!0,parse:function(D,U){var W=D;return W.secure=Et(W),W.resourceName=(W.path||"/")+(W.query?"?"+W.query:""),W.path=void 0,W.query=void 0,W},serialize:function(D,U){if((D.port===(Et(D)?443:80)||D.port==="")&&(D.port=void 0),typeof D.secure=="boolean"&&(D.scheme=D.secure?"wss":"ws",D.secure=void 0),D.resourceName){var W=D.resourceName.split("?"),H=f(W,2),ee=H[0],se=H[1];D.path=ee&&ee!=="/"?ee:void 0,D.query=se,D.resourceName=void 0}return D.fragment=void 0,D}},Gt={scheme:"wss",domainHost:dt.domainHost,parse:dt.parse,serialize:dt.serialize},An={},Yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ht="[0-9A-Fa-f]",ga=r(r("%[EFef]"+ht+"%"+ht+ht+"%"+ht+ht)+"|"+r("%[89A-Fa-f]"+ht+"%"+ht+ht)+"|"+r("%"+ht+ht)),nn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ya="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ki=a(ya,'[\\"\\\\]'),ur="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",bl=new RegExp(Yt,"g"),Nr=new RegExp(ga,"g"),wl=new RegExp(a("[^]",nn,"[\\.]",'[\\"]',ki),"g"),qi=new RegExp(a("[^]",Yt,ur),"g"),Sl=qi;function ba(M){var D=ve(M);return D.match(bl)?D:M}var $i={scheme:"mailto",parse:function(D,U){var W=D,H=W.to=W.path?W.path.split(","):[];if(W.path=void 0,W.query){for(var ee=!1,se={},Ce=W.query.split("&"),Ve=0,Ge=Ce.length;Ve<Ge;++Ve){var _e=Ce[Ve].split("=");switch(_e[0]){case"to":for(var Fe=_e[1].split(","),Ye=0,me=Fe.length;Ye<me;++Ye)H.push(Fe[Ye]);break;case"subject":W.subject=ye(_e[1],U);break;case"body":W.body=ye(_e[1],U);break;default:ee=!0,se[ye(_e[0],U)]=ye(_e[1],U);break}}ee&&(W.headers=se)}W.query=void 0;for(var Ue=0,Ze=H.length;Ue<Ze;++Ue){var ze=H[Ue].split("@");if(ze[0]=ye(ze[0]),U.unicodeSupport)ze[1]=ye(ze[1],U).toLowerCase();else try{ze[1]=re.toASCII(ye(ze[1],U).toLowerCase())}catch(Kt){W.error=W.error||"Email address's domain name can not be converted to ASCII via punycode: "+Kt}H[Ue]=ze.join("@")}return W},serialize:function(D,U){var W=D,H=s(D.to);if(H){for(var ee=0,se=H.length;ee<se;++ee){var Ce=String(H[ee]),Ve=Ce.lastIndexOf("@"),Ge=Ce.slice(0,Ve).replace(Nr,ba).replace(Nr,o).replace(wl,fe),_e=Ce.slice(Ve+1);try{_e=U.iri?re.toUnicode(_e):re.toASCII(ye(_e,U).toLowerCase())}catch(Ue){W.error=W.error||"Email address's domain name can not be converted to "+(U.iri?"Unicode":"ASCII")+" via punycode: "+Ue}H[ee]=Ge+"@"+_e}W.path=H.join(",")}var Fe=D.headers=D.headers||{};D.subject&&(Fe.subject=D.subject),D.body&&(Fe.body=D.body);var Ye=[];for(var me in Fe)Fe[me]!==An[me]&&Ye.push(me.replace(Nr,ba).replace(Nr,o).replace(qi,fe)+"="+Fe[me].replace(Nr,ba).replace(Nr,o).replace(Sl,fe));return Ye.length&&(W.query=Ye.join("&")),W}},_l=/^([^\:]+)\:(.*)/,Di={scheme:"urn",parse:function(D,U){var W=D.path&&D.path.match(_l),H=D;if(W){var ee=U.scheme||H.scheme||"urn",se=W[1].toLowerCase(),Ce=W[2],Ve=ee+":"+(U.nid||se),Ge=J[Ve];H.nid=se,H.nss=Ce,H.path=void 0,Ge&&(H=Ge.parse(H,U))}else H.error=H.error||"URN can not be parsed.";return H},serialize:function(D,U){var W=U.scheme||D.scheme||"urn",H=D.nid,ee=W+":"+(U.nid||H),se=J[ee];se&&(D=se.serialize(D,U));var Ce=D,Ve=D.nss;return Ce.path=(H||U.nid)+":"+Ve,Ce}},El=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Fi={scheme:"urn:uuid",parse:function(D,U){var W=D;return W.uuid=W.nss,W.nss=void 0,!U.tolerant&&(!W.uuid||!W.uuid.match(El))&&(W.error=W.error||"UUID is not valid."),W},serialize:function(D,U){var W=D;return W.nss=(D.uuid||"").toLowerCase(),W}};J[Be.scheme]=Be,J[He.scheme]=He,J[dt.scheme]=dt,J[Gt.scheme]=Gt,J[$i.scheme]=$i,J[Di.scheme]=Di,J[Fi.scheme]=Fi,n.SCHEMES=J,n.pctEncChar=fe,n.pctDecChars=ve,n.parse=we,n.removeDotSegments=Re,n.serialize=Z,n.resolveComponents=le,n.resolve=pe,n.normalize=xe,n.equal=he,n.escapeComponent=kt,n.unescapeComponent=ye,Object.defineProperty(n,"__esModule",{value:!0})})})(kd,kd.exports);var rB=kd.exports,wh=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,r,i;if(Array.isArray(t)){if(a=t.length,a!=n.length)return!1;for(r=a;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(n).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=a;r--!==0;){var o=i[r];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},nB=function(t){for(var n=0,a=t.length,r=0,i;r<a;)n++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<a&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return n},va={copy:aB,checkDataType:qd,checkDataTypes:iB,coerceToTypes:oB,toHash:Sh,getProperty:_h,escapeQuotes:Eh,equal:wh,ucs2length:nB,varOccurences:uB,varReplace:cB,schemaHasRules:dB,schemaHasRulesExcept:fB,schemaUnknownRules:pB,toQuotedString:$d,getPathExpr:hB,getPath:mB,getData:yB,unescapeFragment:bB,unescapeJsonPointer:xh,escapeFragment:wB,escapeJsonPointer:Ch};function aB(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function qd(e,t,n,a){var r=a?" !== ":" === ",i=a?" || ":" && ",o=a?"!":"",s=a?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+s+"("+t+" % 1)"+i+t+r+t+(n?i+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+r+'"'+e+'"'+(n?i+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+r+'"'+e+'"'}}function iB(e,t,n){switch(e.length){case 1:return qd(e[0],t,n,!0);default:var a="",r=Sh(e);r.array&&r.object&&(a=r.null?"(":"(!"+t+" || ",a+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var i in r)a+=(a?" && ":"")+qd(i,t,n,!0);return a}}var vy=Sh(["string","number","integer","boolean","null"]);function oB(e,t){if(Array.isArray(t)){for(var n=[],a=0;a<t.length;a++){var r=t[a];(vy[r]||e==="array"&&r==="array")&&(n[n.length]=r)}if(n.length)return n}else{if(vy[t])return[t];if(e==="array"&&t==="array")return["array"]}}function Sh(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var sB=/^[a-z$_][a-z$_0-9]*$/i,lB=/'|\\/g;function _h(e){return typeof e=="number"?"["+e+"]":sB.test(e)?"."+e:"['"+Eh(e)+"']"}function Eh(e){return e.replace(lB,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function uB(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function cB(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function dB(e,t){if(typeof e=="boolean")return!e;for(var n in e)if(t[n])return!0}function fB(e,t,n){if(typeof e=="boolean")return!e&&n!="not";for(var a in e)if(a!=n&&t[a])return!0}function pB(e,t){if(typeof e!="boolean"){for(var n in e)if(!t[n])return n}}function $d(e){return"'"+Eh(e)+"'"}function hB(e,t,n,a){var r=n?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return G_(e,r)}function mB(e,t,n){var a=$d(n?"/"+Ch(t):_h(t));return G_(e,a)}var vB=/^\/(?:[^~]|~0|~1)*$/,gB=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function yB(e,t,n){var a,r,i,o;if(e==="")return"rootData";if(e[0]=="/"){if(!vB.test(e))throw new Error("Invalid JSON-pointer: "+e);r=e,i="rootData"}else{if(o=e.match(gB),!o)throw new Error("Invalid JSON-pointer: "+e);if(a=+o[1],r=o[2],r=="#"){if(a>=t)throw new Error("Cannot access property/index "+a+" levels up, current level is "+t);return n[t-a]}if(a>t)throw new Error("Cannot access data "+a+" levels up, current level is "+t);if(i="data"+(t-a||""),!r)return i}for(var s=i,l=r.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=_h(xh(u)),s+=" && "+i)}return s}function G_(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function bB(e){return xh(decodeURIComponent(e))}function wB(e){return encodeURIComponent(Ch(e))}function Ch(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function xh(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var SB=va,Y_=_B;function _B(e){SB.copy(e,this)}var K_={exports:{}},Mr=K_.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var a=typeof n=="function"?n:n.pre||function(){},r=n.post||function(){};_o(t,a,r,e,"",e)};Mr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Mr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Mr.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Mr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _o(e,t,n,a,r,i,o,s,l,c){if(a&&typeof a=="object"&&!Array.isArray(a)){t(a,r,i,o,s,l,c);for(var u in a){var d=a[u];if(Array.isArray(d)){if(u in Mr.arrayKeywords)for(var f=0;f<d.length;f++)_o(e,t,n,d[f],r+"/"+u+"/"+f,i,r,u,a,f)}else if(u in Mr.propsKeywords){if(d&&typeof d=="object")for(var p in d)_o(e,t,n,d[p],r+"/"+u+"/"+EB(p),i,r,u,a,p)}else(u in Mr.keywords||e.allKeys&&!(u in Mr.skipKeywords))&&_o(e,t,n,d,r+"/"+u,i,r,u,a)}n(a,r,i,o,s,l,c)}}function EB(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var CB=K_.exports,Ai=rB,gy=wh,fl=va,Jo=Y_,xB=CB,Nh=rn;rn.normalizeId=jr;rn.fullPath=es;rn.url=ts;rn.ids=PB;rn.inlineRef=Dd;rn.schema=pl;function rn(e,t,n){var a=this._refs[n];if(typeof a=="string")if(this._refs[a])a=this._refs[a];else return rn.call(this,e,t,a);if(a=a||this._schemas[n],a instanceof Jo)return Dd(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var r=pl.call(this,t,n),i,o,s;return r&&(i=r.schema,t=r.root,s=r.baseId),i instanceof Jo?o=i.validate||e.call(this,i.schema,t,void 0,s):i!==void 0&&(o=Dd(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function pl(e,t){var n=Ai.parse(t),a=Z_(n),r=es(this._getId(e.schema));if(Object.keys(e.schema).length===0||a!==r){var i=jr(a),o=this._refs[i];if(typeof o=="string")return NB.call(this,e,o,n);if(o instanceof Jo)o.validate||this._compile(o),e=o;else if(o=this._schemas[i],o instanceof Jo){if(o.validate||this._compile(o),i==jr(t))return{schema:o,root:e,baseId:r};e=o}else return;if(!e.schema)return;r=es(this._getId(e.schema))}return X_.call(this,n,r,e.schema,e)}function NB(e,t,n){var a=pl.call(this,e,t);if(a){var r=a.schema,i=a.baseId;e=a.root;var o=this._getId(r);return o&&(i=ts(i,o)),X_.call(this,n,i,r,e)}}var IB=fl.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function X_(e,t,n,a){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var r=e.fragment.split("/"),i=1;i<r.length;i++){var o=r[i];if(o){if(o=fl.unescapeFragment(o),n=n[o],n===void 0)break;var s;if(!IB[o]&&(s=this._getId(n),s&&(t=ts(t,s)),n.$ref)){var l=ts(t,n.$ref),c=pl.call(this,a,l);c&&(n=c.schema,a=c.root,t=c.baseId)}}}if(n!==void 0&&n!==a.schema)return{schema:n,root:a,baseId:t}}}var TB=fl.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Dd(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return Fd(e);if(t)return Od(e)<=t}function Fd(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],typeof t=="object"&&!Fd(t))return!1}else for(var a in e)if(a=="$ref"||(t=e[a],typeof t=="object"&&!Fd(t)))return!1;return!0}function Od(e){var t=0,n;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if(n=e[a],typeof n=="object"&&(t+=Od(n)),t==1/0)return 1/0}else for(var r in e){if(r=="$ref")return 1/0;if(TB[r])t++;else if(n=e[r],typeof n=="object"&&(t+=Od(n)+1),t==1/0)return 1/0}return t}function es(e,t){t!==!1&&(e=jr(e));var n=Ai.parse(e);return Z_(n)}function Z_(e){return Ai.serialize(e).split("#")[0]+"#"}var RB=/#\/?$/;function jr(e){return e?e.replace(RB,""):""}function ts(e,t){return t=jr(t),Ai.resolve(e,t)}function PB(e){var t=jr(this._getId(e)),n={"":t},a={"":es(t,!1)},r={},i=this;return xB(e,{allKeys:!0},function(o,s,l,c,u,d,f){if(s!==""){var p=i._getId(o),h=n[c],v=a[c]+"/"+u;if(f!==void 0&&(v+="/"+(typeof f=="number"?f:fl.escapeFragment(f))),typeof p=="string"){p=h=jr(h?Ai.resolve(h,p):p);var g=i._refs[p];if(typeof g=="string"&&(g=i._refs[g]),g&&g.schema){if(!gy(o,g.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=jr(v))if(p[0]=="#"){if(r[p]&&!gy(o,r[p]))throw new Error('id "'+p+'" resolves to more than one schema');r[p]=o}else i._refs[p]=v}n[s]=h,a[s]=v}}),r}var mc=Nh,Ih={Validation:yy(AB),MissingRef:yy(Th)};function AB(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}Th.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function Th(e,t,n){this.message=n||Th.message(e,t),this.missingRef=mc.url(e,t),this.missingSchema=mc.normalizeId(mc.fullPath(this.missingRef))}function yy(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var J_=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,a=t.cmp&&function(i){return function(o){return function(s,l){var c={key:s,value:o[s]},u={key:l,value:o[l]};return i(c,u)}}}(t.cmp),r=[];return function i(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var s,l;if(Array.isArray(o)){for(l="[",s=0;s<o.length;s++)s&&(l+=","),l+=i(o[s])||"null";return l+"]"}if(o===null)return"null";if(r.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=r.push(o)-1,u=Object.keys(o).sort(a&&a(o));for(l="",s=0;s<u.length;s++){var d=u[s],f=i(o[d]);f&&(l&&(l+=","),l+=JSON.stringify(d)+":"+f)}return r.splice(c,1),"{"+l+"}"}}(e)},eE=function(t,n,a){var r="",i=t.schema.$async===!0,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),s=t.self._getId(t.schema);if(t.opts.strictKeywords){var l=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(l){var c="unknown keyword: "+l;if(t.opts.strictKeywords==="log")t.logger.warn(c);else throw new Error(c)}}if(t.isTop&&(r+=" var validate = ",i&&(t.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(t.opts.sourceCode||t.opts.processCode)&&(r+=" "+("/*# sourceURL="+s+" */")+" ")),typeof t.schema=="boolean"||!(o||t.schema.$ref)){var n="false schema",u=t.level,d=t.dataLevel,f=t.schema[n],p=t.schemaPath+t.util.getProperty(n),h=t.errSchemaPath+"/"+n,w=!t.opts.allErrors,x,v="data"+(d||""),_="valid"+u;if(t.schema===!1){t.isTop?w=!0:r+=" var "+_+" = false; ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?i?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+_+" = true; ";return t.isTop&&(r+=" }; return validate; "),r}if(t.isTop){var E=t.isTop,u=t.level=0,d=t.dataLevel=0,v="data";if(t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],t.schema.default!==void 0&&t.opts.useDefaults&&t.opts.strictDefaults){var y="default is ignored in the schema root";if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var u=t.level,d=t.dataLevel,v="data"+(d||"");if(s&&(t.baseId=t.resolve.url(t.baseId,s)),i&&!t.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}var _="valid"+u,w=!t.opts.allErrors,S="",C="",x,T=t.schema.type,R=Array.isArray(T);if(T&&t.opts.nullable&&t.schema.nullable===!0&&(R?T.indexOf("null")==-1&&(T=T.concat("null")):T!="null"&&(T=[T,"null"],R=!0)),R&&T.length==1&&(T=T[0],R=!1),t.schema.$ref&&o){if(t.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');t.opts.extendRefs!==!0&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(r+=" "+t.RULES.all.$comment.code(t,"$comment")),T){if(t.opts.coerceTypes)var $=t.util.coerceToTypes(t.opts.coerceTypes,T);var A=t.RULES.types[T];if($||R||A===!0||A&&!Te(A)){var p=t.schemaPath+".type",h=t.errSchemaPath+"/type",p=t.schemaPath+".type",h=t.errSchemaPath+"/type",I=R?"checkDataTypes":"checkDataType";if(r+=" if ("+t.util[I](T,v,t.opts.strictNumbers,!0)+") { ",$){var N="dataType"+u,q="coerced"+u;r+=" var "+N+" = typeof "+v+"; var "+q+" = undefined; ",t.opts.coerceTypes=="array"&&(r+=" if ("+N+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+N+" = typeof "+v+"; if ("+t.util.checkDataType(t.schema.type,v,t.opts.strictNumbers)+") "+q+" = "+v+"; } "),r+=" if ("+q+" !== undefined) ; ";var F=$;if(F)for(var P,V=-1,O=F.length-1;V<O;)P=F[V+=1],P=="string"?r+=" else if ("+N+" == 'number' || "+N+" == 'boolean') "+q+" = '' + "+v+"; else if ("+v+" === null) "+q+" = ''; ":P=="number"||P=="integer"?(r+=" else if ("+N+" == 'boolean' || "+v+" === null || ("+N+" == 'string' && "+v+" && "+v+" == +"+v+" ",P=="integer"&&(r+=" && !("+v+" % 1)"),r+=")) "+q+" = +"+v+"; "):P=="boolean"?r+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+q+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+q+" = true; ":P=="null"?r+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+q+" = null; ":t.opts.coerceTypes=="array"&&P=="array"&&(r+=" else if ("+N+" == 'string' || "+N+" == 'number' || "+N+" == 'boolean' || "+v+" == null) "+q+" = ["+v+"]; ");r+=" else {   ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+q+" !== undefined) {  ";var z=d?"data"+(d-1||""):"parentData",j=d?t.dataPathArr[d]:"parentDataProperty";r+=" "+v+" = "+q+"; ",d||(r+="if ("+z+" !== undefined)"),r+=" "+z+"["+j+"] = "+q+"; } "}else{var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(t.schema.$ref&&!o)r+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",w&&(r+=" } if (errors === ",E?r+="0":r+="errs_"+u,r+=") { ",C+="}");else{var G=t.RULES;if(G){for(var A,K=-1,Y=G.length-1;K<Y;)if(A=G[K+=1],Te(A)){if(A.type&&(r+=" if ("+t.util.checkDataType(A.type,v,t.opts.strictNumbers)+") { "),t.opts.useDefaults){if(A.type=="object"&&t.schema.properties){var f=t.schema.properties,X=Object.keys(f),re=X;if(re)for(var J,fe=-1,ve=re.length-1;fe<ve;){J=re[fe+=1];var ne=f[J];if(ne.default!==void 0){var ce=v+t.util.getProperty(J);if(t.compositeRule){if(t.opts.strictDefaults){var y="default is ignored for: "+ce;if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}}else r+=" if ("+ce+" === undefined ",t.opts.useDefaults=="empty"&&(r+=" || "+ce+" === null || "+ce+" === '' "),r+=" ) "+ce+" = ",t.opts.useDefaults=="shared"?r+=" "+t.useDefault(ne.default)+" ":r+=" "+JSON.stringify(ne.default)+" ",r+="; "}}}else if(A.type=="array"&&Array.isArray(t.schema.items)){var Ie=t.schema.items;if(Ie){for(var ne,V=-1,be=Ie.length-1;V<be;)if(ne=Ie[V+=1],ne.default!==void 0){var ce=v+"["+V+"]";if(t.compositeRule){if(t.opts.strictDefaults){var y="default is ignored for: "+ce;if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}}else r+=" if ("+ce+" === undefined ",t.opts.useDefaults=="empty"&&(r+=" || "+ce+" === null || "+ce+" === '' "),r+=" ) "+ce+" = ",t.opts.useDefaults=="shared"?r+=" "+t.useDefault(ne.default)+" ":r+=" "+JSON.stringify(ne.default)+" ",r+="; "}}}}var ae=A.rules;if(ae){for(var de,we=-1,ie=ae.length-1;we<ie;)if(de=ae[we+=1],Me(de)){var Qe=de.code(t,de.keyword,A.type);Qe&&(r+=" "+Qe+" ",w&&(S+="}"))}}if(w&&(r+=" "+S+" ",S=""),A.type&&(r+=" } ",T&&T===A.type&&!$)){r+=" else { ";var p=t.schemaPath+".type",h=t.errSchemaPath+"/type",g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}w&&(r+=" if (errors === ",E?r+="0":r+="errs_"+u,r+=") { ",C+="}")}}}w&&(r+=" "+C+" "),E?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+_+" = errors === errs_"+u+";";function Te(Re){for(var Z=Re.rules,le=0;le<Z.length;le++)if(Me(Z[le]))return!0}function Me(Re){return t.schema[Re.keyword]!==void 0||Re.implements&&it(Re)}function it(Re){for(var Z=Re.implements,le=0;le<Z.length;le++)if(t.schema[Z[le]]!==void 0)return!0}return r},so=Nh,rs=va,tE=Ih,kB=J_,by=eE,qB=rs.ucs2length,$B=wh,DB=tE.Validation,FB=Ld;function Ld(e,t,n,a){var r=this,i=this._opts,o=[void 0],s={},l=[],c={},u=[],d={},f=[];t=t||{schema:e,refVal:o,refs:s};var p=OB.call(this,e,t,a),h=this._compilations[p.index];if(p.compiling)return h.callValidate=y;var v=this._formats,g=this.RULES;try{var b=_(e,t,n,a);h.validate=b;var E=h.callValidate;return E&&(E.schema=b.schema,E.errors=null,E.refs=b.refs,E.refVal=b.refVal,E.root=b.root,E.$async=b.$async,i.sourceCode&&(E.source=b.source)),b}finally{LB.call(this,e,t,a)}function y(){var I=h.validate,N=I.apply(this,arguments);return y.errors=I.errors,N}function _(I,N,q,F){var P=!N||N&&N.schema==I;if(N.schema!=t.schema)return Ld.call(r,I,N,q,F);var V=I.$async===!0,O=by({isTop:!0,schema:I,isRoot:P,baseId:F,root:N,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:tE.MissingRef,RULES:g,validate:by,util:rs,resolve:so,resolveRef:w,usePattern:R,useDefault:$,useCustomRule:A,opts:i,formats:v,logger:r.logger,self:r});O=lo(o,BB)+lo(l,VB)+lo(u,MB)+lo(f,UB)+O,i.processCode&&(O=i.processCode(O,I));var z;try{var j=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O);z=j(r,g,v,t,o,u,f,$B,qB,DB),o[0]=z}catch(G){throw r.logger.error("Error compiling schema, function code:",O),G}return z.schema=I,z.errors=null,z.refs=s,z.refVal=o,z.root=P?z:N,V&&(z.$async=!0),i.sourceCode===!0&&(z.source={code:O,patterns:l,defaults:u}),z}function w(I,N,q){N=so.url(I,N);var F=s[N],P,V;if(F!==void 0)return P=o[F],V="refVal["+F+"]",T(P,V);if(!q&&t.refs){var O=t.refs[N];if(O!==void 0)return P=t.refVal[O],V=S(N,P),T(P,V)}V=S(N);var z=so.call(r,_,t,N);if(z===void 0){var j=n&&n[N];j&&(z=so.inlineRef(j,i.inlineRefs)?j:Ld.call(r,j,t,n,I))}if(z===void 0)C(N);else return x(N,z),T(z,V)}function S(I,N){var q=o.length;return o[q]=N,s[I]=q,"refVal"+q}function C(I){delete s[I]}function x(I,N){var q=s[I];o[q]=N}function T(I,N){return typeof I=="object"||typeof I=="boolean"?{code:N,schema:I,inline:!0}:{code:N,$async:I&&!!I.$async}}function R(I){var N=c[I];return N===void 0&&(N=c[I]=l.length,l[N]=I),"pattern"+N}function $(I){switch(typeof I){case"boolean":case"number":return""+I;case"string":return rs.toQuotedString(I);case"object":if(I===null)return"null";var N=kB(I),q=d[N];return q===void 0&&(q=d[N]=u.length,u[q]=I),"default"+q}}function A(I,N,q,F){if(r._opts.validateSchema!==!1){var P=I.definition.dependencies;if(P&&!P.every(function(re){return Object.prototype.hasOwnProperty.call(q,re)}))throw new Error("parent schema must have all required keywords: "+P.join(","));var V=I.definition.validateSchema;if(V){var O=V(N);if(!O){var z="keyword schema is invalid: "+r.errorsText(V.errors);if(r._opts.validateSchema=="log")r.logger.error(z);else throw new Error(z)}}}var j=I.definition.compile,G=I.definition.inline,K=I.definition.macro,Y;if(j)Y=j.call(r,N,q,F);else if(K)Y=K.call(r,N,q,F),i.validateSchema!==!1&&r.validateSchema(Y,!0);else if(G)Y=G.call(r,F,I.keyword,N,q);else if(Y=I.definition.validate,!Y)return;if(Y===void 0)throw new Error('custom keyword "'+I.keyword+'"failed to compile');var X=f.length;return f[X]=Y,{code:"customRule"+X,validate:Y}}}function OB(e,t,n){var a=rE.call(this,e,t,n);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:n},{index:a,compiling:!1})}function LB(e,t,n){var a=rE.call(this,e,t,n);a>=0&&this._compilations.splice(a,1)}function rE(e,t,n){for(var a=0;a<this._compilations.length;a++){var r=this._compilations[a];if(r.schema==e&&r.root==t&&r.baseId==n)return a}return-1}function VB(e,t){return"var pattern"+e+" = new RegExp("+rs.toQuotedString(t[e])+");"}function MB(e){return"var default"+e+" = defaults["+e+"];"}function BB(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function UB(e){return"var customRule"+e+" = customRules["+e+"];"}function lo(e,t){if(!e.length)return"";for(var n="",a=0;a<e.length;a++)n+=t(a,e);return n}var nE={exports:{}},hl=nE.exports=function(){this._cache={}};hl.prototype.put=function(t,n){this._cache[t]=n};hl.prototype.get=function(t){return this._cache[t]};hl.prototype.del=function(t){delete this._cache[t]};hl.prototype.clear=function(){this._cache={}};var zB=nE.exports,HB=va,WB=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,jB=[0,31,28,31,30,31,30,31,31,30,31,30,31],QB=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,aE=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,GB=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,YB=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,iE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,oE=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,sE=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,lE=/^(?:\/(?:[^~/]|~0|~1)*)*$/,uE=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,cE=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,KB=ml;function ml(e){return e=e=="full"?"full":"fast",HB.copy(ml[e])}ml.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":iE,url:oE,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:aE,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:pE,uuid:sE,"json-pointer":lE,"json-pointer-uri-fragment":uE,"relative-json-pointer":cE};ml.full={date:dE,time:fE,"date-time":JB,uri:t9,"uri-reference":YB,"uri-template":iE,url:oE,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:aE,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:pE,uuid:sE,"json-pointer":lE,"json-pointer-uri-fragment":uE,"relative-json-pointer":cE};function XB(e){return e%4===0&&(e%100!==0||e%400===0)}function dE(e){var t=e.match(WB);if(!t)return!1;var n=+t[1],a=+t[2],r=+t[3];return a>=1&&a<=12&&r>=1&&r<=(a==2&&XB(n)?29:jB[a])}function fE(e,t){var n=e.match(QB);if(!n)return!1;var a=n[1],r=n[2],i=n[3],o=n[5];return(a<=23&&r<=59&&i<=59||a==23&&r==59&&i==60)&&(!t||o)}var ZB=/t|\s/i;function JB(e){var t=e.split(ZB);return t.length==2&&dE(t[0])&&fE(t[1],!0)}var e9=/\/|:/;function t9(e){return e9.test(e)&&GB.test(e)}var r9=/[^\\]\\Z/;function pE(e){if(r9.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}var n9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.errSchemaPath+"/"+n,c=!t.opts.allErrors,u="data"+(o||""),d="valid"+i,f,p;if(s=="#"||s=="#/")t.isRoot?(f=t.async,p="validate"):(f=t.root.schema.$async===!0,p="root.refVal[0]");else{var h=t.resolveRef(t.baseId,s,t.isRoot);if(h===void 0){var v=t.MissingRefError.message(t.baseId,s);if(t.opts.missingRefs=="fail"){t.logger.error(v);var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { ref: '"+t.util.escapeQuotes(s)+"' } ",t.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(s)+"' "),t.opts.verbose&&(r+=" , schema: "+t.util.toQuotedString(s)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ")}else if(t.opts.missingRefs=="ignore")t.logger.warn(v),c&&(r+=" if (true) { ");else throw new t.MissingRefError(t.baseId,s,v)}else if(h.inline){var E=t.util.copy(t);E.level++;var y="valid"+E.level;E.schema=h.schema,E.schemaPath="",E.errSchemaPath=s;var _=t.validate(E).replace(/validate\.schema/g,h.code);r+=" "+_+" ",c&&(r+=" if ("+y+") { ")}else f=h.$async===!0||t.async&&h.$async!==!1,p=h.code}if(p){var g=g||[];g.push(r),r="",t.opts.passContext?r+=" "+p+".call(this, ":r+=" "+p+"( ",r+=" "+u+", (dataPath || '')",t.errorPath!='""'&&(r+=" + "+t.errorPath);var w=o?"data"+(o-1||""):"parentData",S=o?t.dataPathArr[o]:"parentDataProperty";r+=" , "+w+" , "+S+", rootData)  ";var C=r;if(r=g.pop(),f){if(!t.async)throw new Error("async schema referenced by sync schema");c&&(r+=" var "+d+"; "),r+=" try { await "+C+"; ",c&&(r+=" "+d+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(r+=" "+d+" = false; "),r+=" } ",c&&(r+=" if ("+d+") { ")}else r+=" if (!"+C+") { if (vErrors === null) vErrors = "+p+".errors; else vErrors = vErrors.concat("+p+".errors); errors = vErrors.length; } ",c&&(r+=" else { ")}return r},a9=function(t,n,a){var r=" ",i=t.schema[n],o=t.schemaPath+t.util.getProperty(n),s=t.errSchemaPath+"/"+n,l=!t.opts.allErrors,c=t.util.copy(t),u="";c.level++;var d="valid"+c.level,f=c.baseId,p=!0,h=i;if(h)for(var v,g=-1,b=h.length-1;g<b;)v=h[g+=1],(t.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:t.util.schemaHasRules(v,t.RULES.all))&&(p=!1,c.schema=v,c.schemaPath=o+"["+g+"]",c.errSchemaPath=s+"/"+g,r+="  "+t.validate(c)+" ",c.baseId=f,l&&(r+=" if ("+d+") { ",u+="}"));return l&&(p?r+=" if (true) { ":r+=" "+u.slice(0,-1)+" "),r},i9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b=s.every(function(x){return t.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:t.util.schemaHasRules(x,t.RULES.all)});if(b){var E=h.baseId;r+=" var "+p+" = errors; var "+f+" = false;  ";var y=t.compositeRule;t.compositeRule=h.compositeRule=!0;var _=s;if(_)for(var w,S=-1,C=_.length-1;S<C;)w=_[S+=1],h.schema=w,h.schemaPath=l+"["+S+"]",h.errSchemaPath=c+"/"+S,r+="  "+t.validate(h)+" ",h.baseId=E,r+=" "+f+" = "+f+" || "+g+"; if (!"+f+") { ",v+="}";t.compositeRule=h.compositeRule=y,r+=" "+v+" if (!"+f+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else u&&(r+=" if (true) { ");return r},o9=function(t,n,a){var r=" ",i=t.schema[n],o=t.errSchemaPath+"/"+n;t.opts.allErrors;var s=t.util.toQuotedString(i);return t.opts.$comment===!0?r+=" console.log("+s+");":typeof t.opts.$comment=="function"&&(r+=" self._opts.$comment("+s+", "+t.util.toQuotedString(o)+", validate.root.schema);"),r},s9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p=t.opts.$data&&s&&s.$data;p&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; "),p||(r+=" var schema"+i+" = validate.schema"+l+";"),r+="var "+f+" = equal("+d+", schema"+i+"); if (!"+f+") {   ";var h=h||[];h.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var v=r;return r=h.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},l9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b="i"+i,E=h.dataLevel=t.dataLevel+1,y="data"+E,_=t.baseId,w=t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all);if(r+="var "+p+" = errors;var "+f+";",w){var S=t.compositeRule;t.compositeRule=h.compositeRule=!0,h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+=" var "+g+" = false; for (var "+b+" = 0; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var C=d+"["+b+"]";h.dataPathArr[E]=b;var x=t.validate(h);h.baseId=_,t.util.varOccurences(x,y)<2?r+=" "+t.util.varReplace(x,y,C)+" ":r+=" var "+y+" = "+C+"; "+x+" ",r+=" if ("+g+") break; }  ",t.compositeRule=h.compositeRule=S,r+=" "+v+" if (!"+g+") {"}else r+=" if ("+d+".length == 0) {";var T=T||[];T.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var R=r;return r=T.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",w&&(r+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } "),t.opts.allErrors&&(r+=" } "),r},u9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="errs__"+i,p=t.util.copy(t),h="";p.level++;var v="valid"+p.level,g={},b={},E=t.opts.ownProperties;for(S in s)if(S!="__proto__"){var y=s[S],_=Array.isArray(y)?b:g;_[S]=y}r+="var "+f+" = errors;";var w=t.errorPath;r+="var missing"+i+";";for(var S in b)if(_=b[S],_.length){if(r+=" if ( "+d+t.util.getProperty(S)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(S)+"') "),u){r+=" && ( ";var C=_;if(C)for(var x,T=-1,R=C.length-1;T<R;){x=C[T+=1],T&&(r+=" || ");var $=t.util.getProperty(x),A=d+$;r+=" ( ( "+A+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(x)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?x:$)+") ) "}r+=")) {  ";var I="missing"+i,N="' + "+I+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,I,!0):w+" + "+I);var q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(S)+"', missingProperty: '"+N+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",t.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(S)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var F=r;r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var P=_;if(P)for(var x,V=-1,O=P.length-1;V<O;){x=P[V+=1];var $=t.util.getProperty(x),N=t.util.escapeQuotes(x),A=d+$;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,x,t.opts.jsonPointers)),r+=" if ( "+A+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(x)+"') "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(S)+"', missingProperty: '"+N+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",t.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(S)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(h+="}",r+=" else { ")}t.errorPath=w;var z=p.baseId;for(var S in g){var y=g[S];(t.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:t.util.schemaHasRules(y,t.RULES.all))&&(r+=" "+v+" = true; if ( "+d+t.util.getProperty(S)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(S)+"') "),r+=") { ",p.schema=y,p.schemaPath=l+t.util.getProperty(S),p.errSchemaPath=c+"/"+t.util.escapeFragment(S),r+="  "+t.validate(p)+" ",p.baseId=z,r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}"))}return u&&(r+="   "+h+" if ("+f+" == errors) {"),r},c9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p=t.opts.$data&&s&&s.$data;p&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var h="i"+i,v="schema"+i;p||(r+=" var "+v+" = validate.schema"+l+";"),r+="var "+f+";",p&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=""+f+" = false;for (var "+h+"=0; "+h+"<"+v+".length; "+h+"++) if (equal("+d+", "+v+"["+h+"])) { "+f+" = true; break; }",p&&(r+="  }  "),r+=" if (!"+f+") {   ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},d9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||"");if(t.opts.format===!1)return u&&(r+=" if (true) { "),r;var f=t.opts.$data&&s&&s.$data,p;f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",p="schema"+i):p=s;var h=t.opts.unknownFormats,v=Array.isArray(h);if(f){var g="format"+i,b="isObject"+i,E="formatType"+i;r+=" var "+g+" = formats["+p+"]; var "+b+" = typeof "+g+" == 'object' && !("+g+" instanceof RegExp) && "+g+".validate; var "+E+" = "+b+" && "+g+".type || 'string'; if ("+b+") { ",t.async&&(r+=" var async"+i+" = "+g+".async; "),r+=" "+g+" = "+g+".validate; } if (  ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),r+=" (",h!="ignore"&&(r+=" ("+p+" && !"+g+" ",v&&(r+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),r+=") || "),r+=" ("+g+" && "+E+" == '"+a+"' && !(typeof "+g+" == 'function' ? ",t.async?r+=" (async"+i+" ? await "+g+"("+d+") : "+g+"("+d+")) ":r+=" "+g+"("+d+") ",r+=" : "+g+".test("+d+"))))) {"}else{var g=t.formats[s];if(!g){if(h=="ignore")return t.logger.warn('unknown format "'+s+'" ignored in schema at path "'+t.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(v&&h.indexOf(s)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+s+'" is used in schema at path "'+t.errSchemaPath+'"')}var b=typeof g=="object"&&!(g instanceof RegExp)&&g.validate,E=b&&g.type||"string";if(b){var y=g.async===!0;g=g.validate}if(E!=a)return u&&(r+=" if (true) { "),r;if(y){if(!t.async)throw new Error("async format in sync schema");var _="formats"+t.util.getProperty(s)+".validate";r+=" if (!(await "+_+"("+d+"))) { "}else{r+=" if (! ";var _="formats"+t.util.getProperty(s);b&&(_+=".validate"),typeof g=="function"?r+=" "+_+"("+d+") ":r+=" "+_+".test("+d+") ",r+=") { "}}var w=w||[];w.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { format:  ",f?r+=""+p:r+=""+t.util.toQuotedString(s),r+="  } ",t.opts.messages!==!1&&(r+=` , message: 'should match format "`,f?r+="' + "+p+" + '":r+=""+t.util.escapeQuotes(s),r+=`"' `),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+t.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=w.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},f9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p="errs__"+i,h=t.util.copy(t);h.level++;var v="valid"+h.level,g=t.schema.then,b=t.schema.else,E=g!==void 0&&(t.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:t.util.schemaHasRules(g,t.RULES.all)),y=b!==void 0&&(t.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:t.util.schemaHasRules(b,t.RULES.all)),_=h.baseId;if(E||y){var w;h.createErrors=!1,h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+=" var "+p+" = errors; var "+f+" = true;  ";var S=t.compositeRule;t.compositeRule=h.compositeRule=!0,r+="  "+t.validate(h)+" ",h.baseId=_,h.createErrors=!0,r+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }  ",t.compositeRule=h.compositeRule=S,E?(r+=" if ("+v+") {  ",h.schema=t.schema.then,h.schemaPath=t.schemaPath+".then",h.errSchemaPath=t.errSchemaPath+"/then",r+="  "+t.validate(h)+" ",h.baseId=_,r+=" "+f+" = "+v+"; ",E&&y?(w="ifClause"+i,r+=" var "+w+" = 'then'; "):w="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+v+") { ",y&&(h.schema=t.schema.else,h.schemaPath=t.schemaPath+".else",h.errSchemaPath=t.errSchemaPath+"/else",r+="  "+t.validate(h)+" ",h.baseId=_,r+=" "+f+" = "+v+"; ",E&&y?(w="ifClause"+i,r+=" var "+w+" = 'else'; "):w="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { failingKeyword: "+w+" } ",t.opts.messages!==!1&&(r+=` , message: 'should match "' + `+w+` + '" schema' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},p9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b="i"+i,E=h.dataLevel=t.dataLevel+1,y="data"+E,_=t.baseId;if(r+="var "+p+" = errors;var "+f+";",Array.isArray(s)){var w=t.schema.additionalItems;if(w===!1){r+=" "+f+" = "+d+".length <= "+s.length+"; ";var S=c;c=t.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var C=C||[];C.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+s.length+" items' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=C.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c=S,u&&(v+="}",r+=" else { ")}var T=s;if(T){for(var R,$=-1,A=T.length-1;$<A;)if(R=T[$+=1],t.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:t.util.schemaHasRules(R,t.RULES.all)){r+=" "+g+" = true; if ("+d+".length > "+$+") { ";var I=d+"["+$+"]";h.schema=R,h.schemaPath=l+"["+$+"]",h.errSchemaPath=c+"/"+$,h.errorPath=t.util.getPathExpr(t.errorPath,$,t.opts.jsonPointers,!0),h.dataPathArr[E]=$;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",r+=" }  ",u&&(r+=" if ("+g+") { ",v+="}")}}if(typeof w=="object"&&(t.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:t.util.schemaHasRules(w,t.RULES.all))){h.schema=w,h.schemaPath=t.schemaPath+".additionalItems",h.errSchemaPath=t.errSchemaPath+"/additionalItems",r+=" "+g+" = true; if ("+d+".length > "+s.length+") {  for (var "+b+" = "+s.length+"; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var I=d+"["+b+"]";h.dataPathArr[E]=b;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",u&&(r+=" if (!"+g+") break; "),r+=" } }  ",u&&(r+=" if ("+g+") { ",v+="}")}}else if(t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+="  for (var "+b+" = 0; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var I=d+"["+b+"]";h.dataPathArr[E]=b;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",u&&(r+=" if (!"+g+") break; "),r+=" }"}return u&&(r+=" "+v+" if ("+p+" == errors) {"),r},wy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,_,d="data"+(o||""),f=t.opts.$data&&s&&s.$data,p;f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",p="schema"+i):p=s;var h=n=="maximum",v=h?"exclusiveMaximum":"exclusiveMinimum",g=t.schema[v],b=t.opts.$data&&g&&g.$data,E=h?"<":">",y=h?">":"<",_=void 0;if(!(f||typeof s=="number"||s===void 0))throw new Error(n+" must be number");if(!(b||g===void 0||typeof g=="number"||typeof g=="boolean"))throw new Error(v+" must be number or boolean");if(b){var w=t.util.getData(g.$data,o,t.dataPathArr),S="exclusive"+i,C="exclType"+i,x="exclIsNumber"+i,T="op"+i,R="' + "+T+" + '";r+=" var schemaExcl"+i+" = "+w+"; ",w="schemaExcl"+i,r+=" var "+S+"; var "+C+" = typeof "+w+"; if ("+C+" != 'boolean' && "+C+" != 'undefined' && "+C+" != 'number') { ";var _=v,$=$||[];$.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: '"+v+" should be boolean' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var A=r;r=$.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" "+C+" == 'number' ? ( ("+S+" = "+p+" === undefined || "+w+" "+E+"= "+p+") ? "+d+" "+y+"= "+w+" : "+d+" "+y+" "+p+" ) : ( ("+S+" = "+w+" === true) ? "+d+" "+y+"= "+p+" : "+d+" "+y+" "+p+" ) || "+d+" !== "+d+") { var op"+i+" = "+S+" ? '"+E+"' : '"+E+"='; ",s===void 0&&(_=v,c=t.errSchemaPath+"/"+v,p=w,f=b)}else{var x=typeof g=="number",R=E;if(x&&f){var T="'"+R+"'";r+=" if ( ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" ( "+p+" === undefined || "+g+" "+E+"= "+p+" ? "+d+" "+y+"= "+g+" : "+d+" "+y+" "+p+" ) || "+d+" !== "+d+") { "}else{x&&s===void 0?(S=!0,_=v,c=t.errSchemaPath+"/"+v,p=g,y+="="):(x&&(p=Math[h?"min":"max"](g,s)),g===(x?p:!0)?(S=!0,_=v,c=t.errSchemaPath+"/"+v,y+="="):(S=!1,R+="="));var T="'"+R+"'";r+=" if ( ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" "+d+" "+y+" "+p+" || "+d+" !== "+d+") { "}}_=_||n;var $=$||[];$.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+T+", limit: "+p+", exclusive: "+S+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be "+R+" ",f?r+="' + "+p:r+=""+p+"'"),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var A=r;return r=$.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},Sy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),f=t.opts.$data&&s&&s.$data,p;if(f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",p="schema"+i):p=s,!(f||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxItems"?">":"<";r+="if ( ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" "+d+".length "+h+" "+p+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+p+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have ",n=="maxItems"?r+="more":r+="fewer",r+=" than ",f?r+="' + "+p+" + '":r+=""+s,r+=" items' "),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},_y=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),f=t.opts.$data&&s&&s.$data,p;if(f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",p="schema"+i):p=s,!(f||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxLength"?">":"<";r+="if ( ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),t.opts.unicode===!1?r+=" "+d+".length ":r+=" ucs2length("+d+") ",r+=" "+h+" "+p+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+p+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be ",n=="maxLength"?r+="longer":r+="shorter",r+=" than ",f?r+="' + "+p+" + '":r+=""+s,r+=" characters' "),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},Ey=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),f=t.opts.$data&&s&&s.$data,p;if(f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",p="schema"+i):p=s,!(f||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxProperties"?">":"<";r+="if ( ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" Object.keys("+d+").length "+h+" "+p+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+p+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have ",n=="maxProperties"?r+="more":r+="fewer",r+=" than ",f?r+="' + "+p+" + '":r+=""+s,r+=" properties' "),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},h9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f=t.opts.$data&&s&&s.$data,p;if(f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",p="schema"+i):p=s,!(f||typeof s=="number"))throw new Error(n+" must be number");r+="var division"+i+";if (",f&&(r+=" "+p+" !== undefined && ( typeof "+p+" != 'number' || "),r+=" (division"+i+" = "+d+" / "+p+", ",t.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+t.opts.multipleOfPrecision+" ":r+=" division"+i+" !== parseInt(division"+i+") ",r+=" ) ",f&&(r+="  )  "),r+=" ) {   ";var h=h||[];h.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+p+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",f?r+="' + "+p:r+=""+p+"'"),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var v=r;return r=h.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},m9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="errs__"+i,p=t.util.copy(t);p.level++;var h="valid"+p.level;if(t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){p.schema=s,p.schemaPath=l,p.errSchemaPath=c,r+=" var "+f+" = errors;  ";var v=t.compositeRule;t.compositeRule=p.compositeRule=!0,p.createErrors=!1;var g;p.opts.allErrors&&(g=p.opts.allErrors,p.opts.allErrors=!1),r+=" "+t.validate(p)+" ",p.createErrors=!0,g&&(p.opts.allErrors=g),t.compositeRule=p.compositeRule=v,r+=" if ("+h+") {   ";var b=b||[];b.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var E=r;r=b.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r},v9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b=h.baseId,E="prevValid"+i,y="passingSchemas"+i;r+="var "+p+" = errors , "+E+" = false , "+f+" = false , "+y+" = null; ";var _=t.compositeRule;t.compositeRule=h.compositeRule=!0;var w=s;if(w)for(var S,C=-1,x=w.length-1;C<x;)S=w[C+=1],(t.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:t.util.schemaHasRules(S,t.RULES.all))?(h.schema=S,h.schemaPath=l+"["+C+"]",h.errSchemaPath=c+"/"+C,r+="  "+t.validate(h)+" ",h.baseId=b):r+=" var "+g+" = true; ",C&&(r+=" if ("+g+" && "+E+") { "+f+" = false; "+y+" = ["+y+", "+C+"]; } else { ",v+="}"),r+=" if ("+g+") { "+f+" = "+E+" = true; "+y+" = "+C+"; }";return t.compositeRule=h.compositeRule=_,r+=""+v+"if (!"+f+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",t.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }",t.opts.allErrors&&(r+=" } "),r},g9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f=t.opts.$data&&s&&s.$data,p;f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",p="schema"+i):p=s;var h=f?"(new RegExp("+p+"))":t.usePattern(s);r+="if ( ",f&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),r+=" !"+h+".test("+d+") ) {   ";var v=v||[];v.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",f?r+=""+p:r+=""+t.util.toQuotedString(s),r+="  } ",t.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,f?r+="' + "+p+" + '":r+=""+t.util.escapeQuotes(s),r+=`"' `),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+t.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var g=r;return r=v.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},y9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="errs__"+i,p=t.util.copy(t),h="";p.level++;var v="valid"+p.level,g="key"+i,b="idx"+i,E=p.dataLevel=t.dataLevel+1,y="data"+E,_="dataProperties"+i,w=Object.keys(s||{}).filter(V),S=t.schema.patternProperties||{},C=Object.keys(S).filter(V),x=t.schema.additionalProperties,T=w.length||C.length,R=x===!1,$=typeof x=="object"&&Object.keys(x).length,A=t.opts.removeAdditional,I=R||$||A,N=t.opts.ownProperties,q=t.baseId,F=t.schema.required;if(F&&!(t.opts.$data&&F.$data)&&F.length<t.opts.loopRequired)var P=t.util.toHash(F);function V(he){return he!=="__proto__"}if(r+="var "+f+" = errors;var "+v+" = true;",N&&(r+=" var "+_+" = undefined;"),I){if(N?r+=" "+_+" = "+_+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+_+".length; "+b+"++) { var "+g+" = "+_+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",w.length)if(w.length>8)r+=" || validate.schema"+l+".hasOwnProperty("+g+") ";else{var O=w;if(O)for(var z,j=-1,G=O.length-1;j<G;)z=O[j+=1],r+=" || "+g+" == "+t.util.toQuotedString(z)+" "}if(C.length){var K=C;if(K)for(var Y,X=-1,re=K.length-1;X<re;)Y=K[X+=1],r+=" || "+t.usePattern(Y)+".test("+g+") "}r+=" ); if (isAdditional"+i+") { "}if(A=="all")r+=" delete "+d+"["+g+"]; ";else{var J=t.errorPath,fe="' + "+g+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers)),R)if(A)r+=" delete "+d+"["+g+"]; ";else{r+=" "+v+" = false; ";var ve=c;c=t.errSchemaPath+"/additionalProperties";var ne=ne||[];ne.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { additionalProperty: '"+fe+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var ce=r;r=ne.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+ce+"]); ":r+=" validate.errors = ["+ce+"]; return false; ":r+=" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=ve,u&&(r+=" break; ")}else if($)if(A=="failing"){r+=" var "+f+" = errors;  ";var Ie=t.compositeRule;t.compositeRule=p.compositeRule=!0,p.schema=x,p.schemaPath=t.schemaPath+".additionalProperties",p.errSchemaPath=t.errSchemaPath+"/additionalProperties",p.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var be=d+"["+g+"]";p.dataPathArr[E]=g;var ae=t.validate(p);p.baseId=q,t.util.varOccurences(ae,y)<2?r+=" "+t.util.varReplace(ae,y,be)+" ":r+=" var "+y+" = "+be+"; "+ae+" ",r+=" if (!"+v+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+g+"]; }  ",t.compositeRule=p.compositeRule=Ie}else{p.schema=x,p.schemaPath=t.schemaPath+".additionalProperties",p.errSchemaPath=t.errSchemaPath+"/additionalProperties",p.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var be=d+"["+g+"]";p.dataPathArr[E]=g;var ae=t.validate(p);p.baseId=q,t.util.varOccurences(ae,y)<2?r+=" "+t.util.varReplace(ae,y,be)+" ":r+=" var "+y+" = "+be+"; "+ae+" ",u&&(r+=" if (!"+v+") break; ")}t.errorPath=J}T&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}")}var de=t.opts.useDefaults&&!t.compositeRule;if(w.length){var we=w;if(we)for(var z,ie=-1,Qe=we.length-1;ie<Qe;){z=we[ie+=1];var Te=s[z];if(t.opts.strictKeywords?typeof Te=="object"&&Object.keys(Te).length>0||Te===!1:t.util.schemaHasRules(Te,t.RULES.all)){var Me=t.util.getProperty(z),be=d+Me,it=de&&Te.default!==void 0;p.schema=Te,p.schemaPath=l+Me,p.errSchemaPath=c+"/"+t.util.escapeFragment(z),p.errorPath=t.util.getPath(t.errorPath,z,t.opts.jsonPointers),p.dataPathArr[E]=t.util.toQuotedString(z);var ae=t.validate(p);if(p.baseId=q,t.util.varOccurences(ae,y)<2){ae=t.util.varReplace(ae,y,be);var Re=be}else{var Re=y;r+=" var "+y+" = "+be+"; "}if(it)r+=" "+ae+" ";else{if(P&&P[z]){r+=" if ( "+Re+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(z)+"') "),r+=") { "+v+" = false; ";var J=t.errorPath,ve=c,Z=t.util.escapeQuotes(z);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(J,z,t.opts.jsonPointers)),c=t.errSchemaPath+"/required";var ne=ne||[];ne.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+Z+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+Z+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var ce=r;r=ne.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+ce+"]); ":r+=" validate.errors = ["+ce+"]; return false; ":r+=" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=ve,t.errorPath=J,r+=" } else { "}else u?(r+=" if ( "+Re+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(z)+"') "),r+=") { "+v+" = true; } else { "):(r+=" if ("+Re+" !== undefined ",N&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(z)+"') "),r+=" ) { ");r+=" "+ae+" } "}}u&&(r+=" if ("+v+") { ",h+="}")}}if(C.length){var le=C;if(le)for(var Y,pe=-1,xe=le.length-1;pe<xe;){Y=le[pe+=1];var Te=S[Y];if(t.opts.strictKeywords?typeof Te=="object"&&Object.keys(Te).length>0||Te===!1:t.util.schemaHasRules(Te,t.RULES.all)){p.schema=Te,p.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(Y),p.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(Y),N?r+=" "+_+" = "+_+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+_+".length; "+b+"++) { var "+g+" = "+_+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",r+=" if ("+t.usePattern(Y)+".test("+g+")) { ",p.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var be=d+"["+g+"]";p.dataPathArr[E]=g;var ae=t.validate(p);p.baseId=q,t.util.varOccurences(ae,y)<2?r+=" "+t.util.varReplace(ae,y,be)+" ":r+=" var "+y+" = "+be+"; "+ae+" ",u&&(r+=" if (!"+v+") break; "),r+=" } ",u&&(r+=" else "+v+" = true; "),r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}")}}}return u&&(r+=" "+h+" if ("+f+" == errors) {"),r},b9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="errs__"+i,p=t.util.copy(t),h="";p.level++;var v="valid"+p.level;if(r+="var "+f+" = errors;",t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){p.schema=s,p.schemaPath=l,p.errSchemaPath=c;var g="key"+i,b="idx"+i,E="i"+i,y="' + "+g+" + '",_=p.dataLevel=t.dataLevel+1,w="data"+_,S="dataProperties"+i,C=t.opts.ownProperties,x=t.baseId;C&&(r+=" var "+S+" = undefined; "),C?r+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+S+".length; "+b+"++) { var "+g+" = "+S+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",r+=" var startErrs"+i+" = errors; ";var T=g,R=t.compositeRule;t.compositeRule=p.compositeRule=!0;var $=t.validate(p);p.baseId=x,t.util.varOccurences($,w)<2?r+=" "+t.util.varReplace($,w,T)+" ":r+=" var "+w+" = "+T+"; "+$+" ",t.compositeRule=p.compositeRule=R,r+=" if (!"+v+") { for (var "+E+"=startErrs"+i+"; "+E+"<errors; "+E+"++) { vErrors["+E+"].propertyName = "+g+"; }   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",t.opts.messages!==!1&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+=" "+h+" if ("+f+" == errors) {"),r},w9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p=t.opts.$data&&s&&s.$data;p&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var h="schema"+i;if(!p)if(s.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var v=[],g=s;if(g)for(var b,E=-1,y=g.length-1;E<y;){b=g[E+=1];var _=t.schema.properties[b];_&&(t.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:t.util.schemaHasRules(_,t.RULES.all))||(v[v.length]=b)}}else var v=s;if(p||v.length){var w=t.errorPath,S=p||v.length>=t.opts.loopRequired,C=t.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",S){p||(r+=" var "+h+" = validate.schema"+l+"; ");var x="i"+i,T="schema"+i+"["+x+"]",R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,T,t.opts.jsonPointers)),r+=" var "+f+" = true; ",p&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=" for (var "+x+" = 0; "+x+" < "+h+".length; "+x+"++) { "+f+" = "+d+"["+h+"["+x+"]] !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+h+"["+x+"]) "),r+="; if (!"+f+") break; } ",p&&(r+="  }  "),r+="  if (!"+f+") {   ";var $=$||[];$.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var A=r;r=$.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var I=v;if(I)for(var N,x=-1,q=I.length-1;x<q;){N=I[x+=1],x&&(r+=" || ");var F=t.util.getProperty(N),P=d+F;r+=" ( ( "+P+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?N:F)+") ) "}r+=") {  ";var T="missing"+i,R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,T,!0):w+" + "+T);var $=$||[];$.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var A=r;r=$.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(S){p||(r+=" var "+h+" = validate.schema"+l+"; ");var x="i"+i,T="schema"+i+"["+x+"]",R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,T,t.opts.jsonPointers)),p&&(r+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),r+=" for (var "+x+" = 0; "+x+" < "+h+".length; "+x+"++) { if ("+d+"["+h+"["+x+"]] === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+h+"["+x+"]) "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(r+="  }  ")}else{var V=v;if(V)for(var N,O=-1,z=V.length-1;O<z;){N=V[O+=1];var F=t.util.getProperty(N),R=t.util.escapeQuotes(N),P=d+F;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,N,t.opts.jsonPointers)),r+=" if ( "+P+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=w}else u&&(r+=" if (true) {");return r},S9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),f="valid"+i,p=t.opts.$data&&s&&s.$data,h;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",h="schema"+i):h=s,(s||p)&&t.opts.uniqueItems!==!1){p&&(r+=" var "+f+"; if ("+h+" === false || "+h+" === undefined) "+f+" = true; else if (typeof "+h+" != 'boolean') "+f+" = false; else { "),r+=" var i = "+d+".length , "+f+" = true , j; if (i > 1) { ";var v=t.schema.items&&t.schema.items.type,g=Array.isArray(v);if(!v||v=="object"||v=="array"||g&&(v.indexOf("object")>=0||v.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+f+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var b="checkDataType"+(g?"s":"");r+=" if ("+t.util[b](v,"item",t.opts.strictNumbers,!0)+") continue; ",g&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",p&&(r+="  }  "),r+=" if (!"+f+") {   ";var E=E||[];E.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var y=r;r=E.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},_9={$ref:n9,allOf:a9,anyOf:i9,$comment:o9,const:s9,contains:l9,dependencies:u9,enum:c9,format:d9,if:f9,items:p9,maximum:wy,minimum:wy,maxItems:Sy,minItems:Sy,maxLength:_y,minLength:_y,maxProperties:Ey,minProperties:Ey,multipleOf:h9,not:m9,oneOf:v9,pattern:g9,properties:y9,propertyNames:b9,required:w9,uniqueItems:S9,validate:eE},Cy=_9,vc=va.toHash,E9=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],a=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return t.all=vc(n),t.types=vc(r),t.forEach(function(i){i.rules=i.rules.map(function(o){var s;if(typeof o=="object"){var l=Object.keys(o)[0];s=o[l],o=l,s.forEach(function(u){n.push(u),t.all[u]=!0})}n.push(o);var c=t.all[o]={keyword:o,code:Cy[o],implements:s};return c}),t.all.$comment={keyword:"$comment",code:Cy.$comment},i.type&&(t.types[i.type]=i)}),t.keywords=vc(n.concat(a)),t.custom={},t},xy=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],C9=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var a=t[n].split("/"),r=e,i;for(i=1;i<a.length;i++)r=r[a[i]];for(i=0;i<xy.length;i++){var o=xy[i],s=r[o];s&&(r[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},x9=Ih.MissingRef,N9=hE;function hE(e,t,n){var a=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(n=t,t=void 0);var r=i(e).then(function(){var s=a._addSchema(e,void 0,t);return s.validate||o(s)});return n&&r.then(function(s){n(null,s)},n),r;function i(s){var l=s.$schema;return l&&!a.getSchema(l)?hE.call(a,{$ref:l},!0):Promise.resolve()}function o(s){try{return a._compile(s)}catch(c){if(c instanceof x9)return l(c);throw c}function l(c){var u=c.missingSchema;if(p(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var d=a._loadingSchemas[u];return d||(d=a._loadingSchemas[u]=a._opts.loadSchema(u),d.then(f,f)),d.then(function(h){if(!p(u))return i(h).then(function(){p(u)||a.addSchema(h,u,void 0,t)})}).then(function(){return o(s)});function f(){delete a._loadingSchemas[u]}function p(h){return a._refs[h]||a._schemas[h]}}}}var I9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d,f="data"+(o||""),p="valid"+i,h="errs__"+i,v=t.opts.$data&&s&&s.$data,g;v?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",g="schema"+i):g=s;var b=this,E="definition"+i,y=b.definition,_="",w,S,C,x,T;if(v&&y.$data){T="keywordValidate"+i;var R=y.validateSchema;r+=" var "+E+" = RULES.custom['"+n+"'].definition; var "+T+" = "+E+".validate;"}else{if(x=t.useCustomRule(b,s,t.schema,t),!x)return;g="validate.schema"+l,T=x.code,w=y.compile,S=y.inline,C=y.macro}var $=T+".errors",A="i"+i,I="ruleErr"+i,N=y.async;if(N&&!t.async)throw new Error("async keyword in sync schema");if(S||C||(r+=""+$+" = null;"),r+="var "+h+" = errors;var "+p+";",v&&y.$data&&(_+="}",r+=" if ("+g+" === undefined) { "+p+" = true; } else { ",R&&(_+="}",r+=" "+p+" = "+E+".validateSchema("+g+"); if ("+p+") { ")),S)y.statements?r+=" "+x.validate+" ":r+=" "+p+" = "+x.validate+"; ";else if(C){var q=t.util.copy(t),_="";q.level++;var F="valid"+q.level;q.schema=x.validate,q.schemaPath="";var P=t.compositeRule;t.compositeRule=q.compositeRule=!0;var V=t.validate(q).replace(/validate\.schema/g,T);t.compositeRule=q.compositeRule=P,r+=" "+V}else{var O=O||[];O.push(r),r="",r+="  "+T+".call( ",t.opts.passContext?r+="this":r+="self",w||y.schema===!1?r+=" , "+f+" ":r+=" , "+g+" , "+f+" , validate.schema"+t.schemaPath+" ",r+=" , (dataPath || '')",t.errorPath!='""'&&(r+=" + "+t.errorPath);var z=o?"data"+(o-1||""):"parentData",j=o?t.dataPathArr[o]:"parentDataProperty";r+=" , "+z+" , "+j+" , rootData )  ";var G=r;r=O.pop(),y.errors===!1?(r+=" "+p+" = ",N&&(r+="await "),r+=""+G+"; "):N?($="customErrors"+i,r+=" var "+$+" = null; try { "+p+" = await "+G+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+$+" = e.errors; else throw e; } "):r+=" "+$+" = null; "+p+" = "+G+"; "}if(y.modifying&&(r+=" if ("+z+") "+f+" = "+z+"["+j+"];"),r+=""+_,y.valid)u&&(r+=" if (true) { ");else{r+=" if ( ",y.valid===void 0?(r+=" !",C?r+=""+F:r+=""+p):r+=" "+!y.valid+" ",r+=") { ",d=b.keyword;var O=O||[];O.push(r),r="";var O=O||[];O.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ",t.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var K=r;r=O.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+K+"]); ":r+=" validate.errors = ["+K+"]; return false; ":r+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Y=r;r=O.pop(),S?y.errors?y.errors!="full"&&(r+="  for (var "+A+"="+h+"; "+A+"<errors; "+A+"++) { var "+I+" = vErrors["+A+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+f+"; "),r+=" } "):y.errors===!1?r+=" "+Y+" ":(r+=" if ("+h+" == errors) { "+Y+" } else {  for (var "+A+"="+h+"; "+A+"<errors; "+A+"++) { var "+I+" = vErrors["+A+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+f+"; "),r+=" } } "):C?(r+="   var err =   ",t.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ",t.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):y.errors===!1?r+=" "+Y+" ":(r+=" if (Array.isArray("+$+")) { if (vErrors === null) vErrors = "+$+"; else vErrors = vErrors.concat("+$+"); errors = vErrors.length;  for (var "+A+"="+h+"; "+A+"<errors; "+A+"++) { var "+I+" = vErrors["+A+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+";  "+I+'.schemaPath = "'+c+'";  ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+f+"; "),r+=" } } else { "+Y+" } "),r+=" } ",u&&(r+=" else { ")}return r};const T9="http://json-schema.org/draft-07/schema#",R9="http://json-schema.org/draft-07/schema#",P9="Core schema meta-schema",A9={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},k9=["object","boolean"],q9={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},mE={$schema:T9,$id:R9,title:P9,definitions:A9,type:k9,properties:q9,default:!0};var Ny=mE,$9={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Ny.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Ny.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},D9=/^[a-z_$][a-z0-9_$-]*$/i,F9=I9,O9=$9,L9={add:V9,get:M9,remove:B9,validate:Vd};function V9(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!D9.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var a=t.type;if(Array.isArray(a))for(var r=0;r<a.length;r++)o(e,a[r],t);else o(e,a,t);var i=t.metaSchema;i&&(t.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(i,!0))}n.keywords[e]=n.all[e]=!0;function o(s,l,c){for(var u,d=0;d<n.length;d++){var f=n[d];if(f.type==l){u=f;break}}u||(u={type:l,rules:[]},n.push(u));var p={keyword:s,definition:c,custom:!0,code:F9,implements:c.implements};u.rules.push(p),n.custom[s]=p}return this}function M9(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function B9(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var a=t[n].rules,r=0;r<a.length;r++)if(a[r].keyword==e){a.splice(r,1);break}return this}function Vd(e,t){Vd.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(O9,!0);if(n(e))return!0;if(Vd.errors=n.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}const U9="http://json-schema.org/draft-07/schema#",z9="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",H9="Meta-schema for $data reference (JSON Schema extension proposal)",W9="object",j9=["$data"],Q9={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},G9=!1,Y9={$schema:U9,$id:z9,description:H9,type:W9,required:j9,properties:Q9,additionalProperties:G9};var vE=FB,mn=Nh,K9=zB,gE=Y_,X9=J_,Z9=KB,J9=E9,yE=C9,bE=va,eU=et;et.prototype.validate=rU;et.prototype.compile=nU;et.prototype.addSchema=aU;et.prototype.addMetaSchema=iU;et.prototype.validateSchema=oU;et.prototype.getSchema=lU;et.prototype.removeSchema=cU;et.prototype.addFormat=yU;et.prototype.errorsText=gU;et.prototype._addSchema=dU;et.prototype._compile=fU;et.prototype.compileAsync=N9;var vl=L9;et.prototype.addKeyword=vl.add;et.prototype.getKeyword=vl.get;et.prototype.removeKeyword=vl.remove;et.prototype.validateKeyword=vl.validate;var wE=Ih;et.ValidationError=wE.Validation;et.MissingRefError=wE.MissingRef;et.$dataMetaSchema=yE;var ns="http://json-schema.org/draft-07/schema",Iy=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],tU=["/properties"];function et(e){if(!(this instanceof et))return new et(e);e=this._opts=bE.copy(e)||{},CU(this),this._schemas={},this._refs={},this._fragments={},this._formats=Z9(e.format),this._cache=e.cache||new K9,this._loadingSchemas={},this._compilations=[],this.RULES=J9(),this._getId=pU(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=X9),this._metaOpts=EU(this),e.formats&&SU(this),e.keywords&&_U(this),bU(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),wU(this)}function rU(e,t){var n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);n=a.validate||this._compile(a)}var r=n(t);return n.$async!==!0&&(this.errors=n.errors),r}function nU(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function aU(e,t,n,a){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.addSchema(e[r],void 0,n,a);return this}var i=this._getId(e);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return t=mn.normalizeId(t||i),_E(this,t),this._schemas[t]=this._addSchema(e,n,a,!0),this}function iU(e,t,n){return this.addSchema(e,t,n,!0),this}function oU(e,t){var n=e.$schema;if(n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||sU(this),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(n,e);if(!a&&t){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return a}function sU(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(ns)?ns:void 0,e._opts.defaultMeta}function lU(e){var t=SE(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return uU(this,e)}}function uU(e,t){var n=mn.schema.call(e,{schema:{}},t);if(n){var a=n.schema,r=n.root,i=n.baseId,o=vE.call(e,a,r,void 0,i);return e._fragments[t]=new gE({ref:t,fragment:!0,schema:a,root:r,baseId:i,validate:o}),o}}function SE(e,t){return t=mn.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function cU(e){if(e instanceof RegExp)return uo(this,this._schemas,e),uo(this,this._refs,e),this;switch(typeof e){case"undefined":return uo(this,this._schemas),uo(this,this._refs),this._cache.clear(),this;case"string":var t=SE(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,a=n?n(e):e;this._cache.del(a);var r=this._getId(e);r&&(r=mn.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function uo(e,t,n){for(var a in t){var r=t[a];!r.meta&&(!n||n.test(a))&&(e._cache.del(r.cacheKey),delete t[a])}}function dU(e,t,n,a){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,i=r?r(e):e,o=this._cache.get(i);if(o)return o;a=a||this._opts.addUsedSchema!==!1;var s=mn.normalizeId(this._getId(e));s&&a&&_E(this,s);var l=this._opts.validateSchema!==!1&&!t,c;l&&!(c=s&&s==mn.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=mn.ids.call(this,e),d=new gE({id:s,schema:e,localRefs:u,cacheKey:i,meta:n});return s[0]!="#"&&a&&(this._refs[s]=d),this._cache.put(i,d),l&&c&&this.validateSchema(e,!0),d}function fU(e,t){if(e.compiling)return e.validate=r,r.schema=e.schema,r.errors=null,r.root=t||r,e.schema.$async===!0&&(r.$async=!0),r;e.compiling=!0;var n;e.meta&&(n=this._opts,this._opts=this._metaOpts);var a;try{a=vE.call(this,e.schema,t,e.localRefs)}catch(i){throw delete e.validate,i}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function r(){var i=e.validate,o=i.apply(this,arguments);return r.errors=i.errors,o}}function pU(e){switch(e.schemaId){case"auto":return vU;case"id":return hU;default:return mU}}function hU(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function mU(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function vU(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function gU(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=t.separator===void 0?", ":t.separator,a=t.dataVar===void 0?"data":t.dataVar,r="",i=0;i<e.length;i++){var o=e[i];o&&(r+=a+o.dataPath+" "+o.message+n)}return r.slice(0,-n.length)}function yU(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function bU(e){var t;if(e._opts.$data&&(t=Y9,e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var n=mE;e._opts.$data&&(n=yE(n,tU)),e.addMetaSchema(n,ns,!0),e._refs["http://json-schema.org/schema"]=ns}}function wU(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function SU(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function _U(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}function _E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function EU(e){for(var t=bE.copy(e._opts),n=0;n<Iy.length;n++)delete t[Iy[n]];return t}function CU(e){var t=e._opts.logger;if(t===!1)e.logger={log:gc,warn:gc,error:gc};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function gc(){}const xU=St(eU);let NU=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function Ty(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function EE(e,t,n){return t&&Ty(e.prototype,t),n&&Ty(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(this,arguments)}function xr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Md(e,t)}function Md(e,t){return Md=Object.setPrototypeOf||function(a,r){return a.__proto__=r,a},Md(e,t)}function st(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function IU(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CE(e){var t=IU(e,"string");return typeof t=="symbol"?t:String(t)}function La(e){var t=e.type,n=t===void 0?"default":t,a=e.icon,r=e.className,i=st(e,["type","icon","className"]);return B.createElement("button",oe({type:"button",className:"btn btn-"+n+" "+r},i),B.createElement("i",{className:"glyphicon glyphicon-"+a}))}function Rh(e){var t=e.className,n=e.onClick,a=e.disabled;return B.createElement("div",{className:"row"},B.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right "+t},B.createElement(La,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:n,disabled:a})))}var TU=Ne.shape({ArrayFieldTemplate:Ne.elementType,FieldTemplate:Ne.elementType,ObjectFieldTemplate:Ne.elementType,definitions:Ne.object.isRequired,rootSchema:Ne.object,fields:Ne.objectOf(Ne.elementType).isRequired,formContext:Ne.object.isRequired,widgets:Ne.objectOf(Ne.oneOfType([Ne.func,Ne.object])).isRequired});Ne.bool,Ne.bool,Ne.object,Ne.any,Ne.object,Ne.func,Ne.func.isRequired,Ne.func,Ne.string,Ne.bool,TU.isRequired,Ne.bool,Ne.object.isRequired,Ne.bool,Ne.bool,Ne.bool;var Fr=xE(),Ry=null,Py=null,Bd="__rjsf_rootSchema";function xE(){var e=new xU({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return e.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),e.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),e}function RU(e){return e.length?e.reduce(function(t,n){var a=n.property,r=n.message,i=V1(a),o=t;i.length>0&&i[0]===""&&i.splice(0,1);for(var c=i.slice(0),s=Array.isArray(c),l=0,c=s?c:c[Symbol.iterator]();;){var u;if(s){if(l>=c.length)break;u=c[l++]}else{if(l=c.next(),l.done)break;u=l.value}var d=u;d in o||(o[d]={}),o=o[d]}return Array.isArray(o.__errors)?o.__errors=o.__errors.concat(r):r&&(o.__errors=[r]),t},{}):{}}function ln(e,t){t===void 0&&(t="root");var n=[];return"__errors"in e&&(n=n.concat(e.__errors.map(function(a){return{stack:t+": "+a}}))),Object.keys(e).reduce(function(a,r){return r!=="__errors"&&(a=a.concat(ln(e[r],r))),a},n)}function Ud(e){var t={__errors:[],addError:function(a){this.__errors.push(a)}};return tt(e)?Object.keys(e).reduce(function(n,a){var r;return oe({},n,(r={},r[a]=Ud(e[a]),r))},t):Array.isArray(e)?e.reduce(function(n,a,r){var i;return oe({},n,(i={},i[r]=Ud(a),i))},t):t}function NE(e){return Object.keys(e).reduce(function(t,n){var a;if(n==="addError")return t;if(n==="__errors"){var r;return oe({},t,(r={},r[n]=e[n],r))}return oe({},t,(a={},a[n]=NE(e[n]),a))},{})}function PU(e){return e===void 0&&(e=[]),e===null?[]:e.map(function(t){var n=t.dataPath,a=t.keyword,r=t.message,i=t.params,o=t.schemaPath,s=""+n;return{name:a,property:s,message:r,params:i,stack:(s+" "+r).trim(),schemaPath:o}})}function IE(e,t,n,a,r,i){r===void 0&&(r=[]),i===void 0&&(i={});var o=t;e=gl(t,e,o,!0);var s=!Ut(Py,r),l=!Ut(Ry,i);(s||l)&&(Fr=xE()),r&&s&&Array.isArray(r)&&(Fr.addMetaSchema(r),Py=r),i&&l&&tt(i)&&(Object.keys(i).forEach(function(b){Fr.addFormat(b,i[b])}),Ry=i);var c=null;try{Fr.validate(t,e)}catch(b){c=b}var u=PU(Fr.errors);Fr.errors=null;var d=c&&c.message&&typeof c.message=="string"&&c.message.includes("no schema with key or ref ");d&&(u=[].concat(u,[{stack:c.message}])),typeof a=="function"&&(u=a(u));var f=RU(u);if(d&&(f=oe({},f,{$schema:{__errors:[c.message]}})),typeof n!="function")return{errors:u,errorSchema:f};var p=n(e,Ud(e)),h=NE(p),v=Br(f,h,!0),g=ln(v);return{errors:g,errorSchema:v}}function zd(e){var t=e;if(e.constructor===Object){t=oe({},e);for(var n in t){var a=t[n];n==="$ref"&&typeof a=="string"&&a.startsWith("#")?t[n]=Bd+a:t[n]=zd(a)}}else if(Array.isArray(e)){t=[].concat(e);for(var r=0;r<t.length;r++)t[r]=zd(t[r])}return t}function Hd(e,t,n){try{return Fr.addSchema(n,Bd).validate(zd(e),t)}catch{return!1}finally{Fr.removeSchema(Bd)}}var Ph="__additional_property",yc={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function AU(e,t,n){if(!e.additionalProperties)return!1;var a=It(t),r=a.expandable;return r===!1?r:e.maxProperties!==void 0?Object.keys(n).length<e.maxProperties:!0}function aa(e){var t=e.type;return!t&&e.const?li(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties)?"object":t instanceof Array&&t.length===2&&t.includes("null")?t.find(function(n){return n!=="null"}):t}function Sr(e,t,n){n===void 0&&(n={});var a=aa(e);function r(s){if(!s.MergedWidget){var l=s.defaultProps&&s.defaultProps.options||{};s.MergedWidget=function(c){var u=c.options,d=u===void 0?{}:u,f=st(c,["options"]);return B.createElement(s,oe({options:oe({},l,d)},f))}}return s.MergedWidget}if(typeof t=="function"||Kg.isForwardRef(B.createElement(t))||Kg.isMemo(t))return r(t);if(typeof t!="string")throw new Error("Unsupported widget definition: "+typeof t);if(n.hasOwnProperty(t)){var i=n[t];return Sr(e,i,n)}if(!yc.hasOwnProperty(a))throw new Error('No widget for type "'+a+'"');if(yc[a].hasOwnProperty(t)){var o=n[yc[a][t]];return Sr(e,o,n)}throw new Error('No widget "'+t+'" for type "'+a+'"')}function kU(e,t,n){n===void 0&&(n={});try{return Sr(e,t,n),!0}catch(a){if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw a}}function Ar(e,t,n,a,r){a===void 0&&(a={}),r===void 0&&(r=!1);var i=tt(e)?e:{},o=tt(a)?a:{},s=t;if(tt(s)&&tt(i.default))s=Br(s,i.default);else if("default"in i)s=i.default;else if("$ref"in i){var l=kh(i.$ref,n);return Ar(l,s,n,o,r)}else if("dependencies"in i){var c=AE(i,n,o);return Ar(c,s,n,o,r)}else jd(i)?s=i.items.map(function(h,v){return Ar(h,Array.isArray(t)?t[v]:void 0,n,o,r)}):"oneOf"in i?i=i.oneOf[ui(void 0,i.oneOf,n)]:"anyOf"in i&&(i=i.anyOf[ui(void 0,i.anyOf,n)]);switch(typeof s>"u"&&(s=i.default),aa(i)){case"object":return Object.keys(i.properties||{}).reduce(function(h,v){var g=Ar(i.properties[v],(s||{})[v],n,(o||{})[v],r);return(r||g!==void 0)&&(h[v]=g),h},{});case"array":if(Array.isArray(s)&&(s=s.map(function(h,v){return Ar(i.items[v]||i.additionalItems||{},h,n)})),Array.isArray(a)&&(s=a.map(function(h,v){return Ar(i.items,(s||{})[v],n,h)})),i.minItems){if(Ah(i,n))return s||[];var u=s?s.length:0;if(i.minItems>u){var d=s||[],f=Array.isArray(i.items)?i.additionalItems:i.items,p=K6(new Array(i.minItems-u),Ar(f,f.defaults,n));return d.concat(p)}}}return s}function gl(e,t,n,a){if(n===void 0&&(n={}),a===void 0&&(a=!1),!tt(e))throw new Error("Invalid schema: "+e);var r=ke(e,n,t),i=Ar(r,e.default,n,t,a);return typeof t>"u"?i:tt(t)||Array.isArray(t)?Wd(i,t):t===0||t===!1||t===""?t:t||i}function Wd(e,t){if(Array.isArray(t))return Array.isArray(e)||(e=[]),t.map(function(a,r){return e[r]?Wd(e[r],a):a});if(tt(t)){var n=Object.assign({},e);return Object.keys(t).reduce(function(a,r){return a[r]=Wd(e?e[r]:{},t[r]),a},n)}else return t}function It(e){return Object.keys(e).filter(function(t){return t.indexOf("ui:")===0}).reduce(function(t,n){var a,r=e[n];return n==="ui:widget"&&tt(r)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),oe({},t,r.options||{},{widget:r.component})):n==="ui:options"&&tt(r)?oe({},t,r):oe({},t,(a={},a[n.substring(3)]=r,a))},{})}function qU(e){var t=It(e),n={props:{disabled:!1},submitText:"Submit",norender:!1};return t&&t.submitButtonOptions?Object.assign({},n,t.submitButtonOptions):n}function $U(e,t,n){var a=It(t),r=a.label,i=r===void 0?!0:r,o=aa(e);return o==="array"&&(i=Ah(e,n)||TE(e,t,n)||RE(t)),o==="object"&&(i=!1),o==="boolean"&&!t["ui:widget"]&&(i=!1),t["ui:field"]&&(i=!1),i}function tt(e){return typeof File<"u"&&e instanceof File?!1:typeof e=="object"&&e!==null&&!Array.isArray(e)}function Br(e,t,n){n===void 0&&(n=!1);var a=Object.assign({},e);return Object.keys(t).reduce(function(r,i){var o=e?e[i]:{},s=t[i];return e&&e.hasOwnProperty(i)&&tt(s)?r[i]=Br(o,s,n):n&&Array.isArray(o)&&Array.isArray(s)?r[i]=o.concat(s):r[i]=s,r},a)}function Va(e){if(e!==""){if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e))return e;var t=Number(e),n=typeof t=="number"&&!Number.isNaN(t);return/\.\d*0$/.test(e)?e:n?t:e}}function DU(e,t){if(!Array.isArray(t))return e;var n=function(d){return d.reduce(function(f,p){return f[p]=!0,f},{})},a=function(d){return d.length>1?"properties '"+d.join("', '")+"'":"property '"+d[0]+"'"},r=n(e),i=t.filter(function(u){return u==="*"||r[u]}),o=n(i),s=e.filter(function(u){return!o[u]}),l=i.indexOf("*");if(l===-1){if(s.length)throw new Error("uiSchema order list does not contain "+a(s));return i}if(l!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var c=[].concat(i);return c.splice.apply(c,[l,1].concat(s)),c}function FU(e){return Array.isArray(e.enum)&&e.enum.length===1||e.hasOwnProperty("const")}function OU(e){if(Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(e.hasOwnProperty("const"))return e.const;throw new Error("schema cannot be inferred as a constant")}function as(e,t){t===void 0&&(t={});var n=ke(e,t),a=n.oneOf||n.anyOf;return Array.isArray(n.enum)?!0:Array.isArray(a)?a.every(function(r){return FU(r)}):!1}function Ah(e,t){return t===void 0&&(t={}),!e.uniqueItems||!e.items?!1:as(e.items,t)}function TE(e,t,n){if(n===void 0&&(n={}),t["ui:widget"]==="files")return!0;if(e.items){var a=ke(e.items,n);return a.type==="string"&&a.format==="data-url"}return!1}function jd(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(function(t){return tt(t)})}function RE(e){return"widget"in It(e)&&It(e).widget!=="hidden"}function Ay(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),tt(e.additionalItems)}function is(e){if(e.enum)return e.enum.map(function(n,a){var r=e.enumNames&&e.enumNames[a]||String(n);return{label:r,value:n}});var t=e.oneOf||e.anyOf;return t.map(function(n){var a=OU(n),r=n.title||String(a);return{schema:n,label:r,value:a}})}function kh(e,t){t===void 0&&(t={});var n=e;if(e.startsWith("#"))e=decodeURIComponent(e.substring(1));else throw new Error("Could not find a definition for "+n+".");var a=dl.get(t,e);if(a===void 0)throw new Error("Could not find a definition for "+n+".");return a.hasOwnProperty("$ref")?kh(a.$ref,t):a}var li=function(t){if(Array.isArray(t))return"array";if(typeof t=="string")return"string";if(t==null)return"null";if(typeof t=="boolean")return"boolean";if(isNaN(t)){if(typeof t=="object")return"object"}else return"number";return"string"};function LU(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),e=oe({},e,{properties:oe({},e.properties)}),n=tt(n)?n:{},Object.keys(n).forEach(function(a){if(!e.properties.hasOwnProperty(a)){var r;e.additionalProperties.hasOwnProperty("$ref")?r=ke({$ref:e.additionalProperties.$ref},t,n):e.additionalProperties.hasOwnProperty("type")?r=oe({},e.additionalProperties):r={type:li(n[a])},e.properties[a]=r,e.properties[a][Ph]=!0}}),e}var VU=function(t,n,a){var r=t.if,i=t.then,o=t.else,s=st(t,["if","then","else"]),l=Hd(r,a,n)?i:o;return ke(l?yl(s,ke(l,n,a)):s,n,a)};function MU(e,t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),e.hasOwnProperty("$ref"))return PE(e,t,n);if(e.hasOwnProperty("dependencies")){var a=AE(e,t,n);return ke(a,t,n)}else return e.hasOwnProperty("allOf")?oe({},e,{allOf:e.allOf.map(function(r){return ke(r,t,n)})}):e}function PE(e,t,n){var a=kh(e.$ref,t),r=st(e,["$ref"]);return ke(oe({},a,r),t,n)}function ke(e,t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),!tt(e))return{};var a=MU(e,t,n);if(e.hasOwnProperty("if"))return VU(e,t,n);if(a.properties){var r={};Object.entries(a.properties).forEach(function(l){var c=l[0],u=l[1],d=n&&n[c],f=tt(d)?d:{},p=ke(u,t,f);r[c]=p,u!==p&&a.properties!==r&&(a=oe({},a,{properties:r}))})}if("allOf"in e)try{a=D6(oe({},a,{allOf:a.allOf}))}catch(l){console.warn(`could not merge subschemas in allOf:
`+l);var i=a,o=st(i,["allOf"]);return o}var s=a.hasOwnProperty("additionalProperties")&&a.additionalProperties!==!1;return s?LU(a,t,n):a}function AE(e,t,n){var a=e.dependencies,r=a===void 0?{}:a,i=st(e,["dependencies"]);return"oneOf"in i?i=i.oneOf[ui(n,i.oneOf,t)]:"anyOf"in i&&(i=i.anyOf[ui(n,i.anyOf,t)]),kE(r,i,t,n)}function kE(e,t,n,a){for(var r in e)if(a[r]!==void 0&&!(t.properties&&!(r in t.properties))){var i=e[r],o=st(e,[r].map(CE));return Array.isArray(i)?t=BU(t,i):tt(i)&&(t=UU(t,n,a,r,i)),kE(o,t,n,a)}return t}function BU(e,t){if(!t)return e;var n=Array.isArray(e.required)?Array.from(new Set([].concat(e.required,t))):t;return oe({},e,{required:n})}function UU(e,t,n,a,r){var i=ke(r,t,n),o=i.oneOf,s=st(i,["oneOf"]);if(e=yl(e,s),o===void 0)return e;if(!Array.isArray(o))throw new Error("invalid: it is some "+typeof o+" instead of an array");var l=o.map(function(c){return c.hasOwnProperty("$ref")?PE(c,t,n):c});return zU(e,t,n,a,l)}function zU(e,t,n,a,r){var i=r.filter(function(u){if(!u.properties)return!1;var d=u.properties[a];if(d){var f,p={type:"object",properties:(f={},f[a]=d,f)},h=IE(n,p),v=h.errors;return v.length===0}});if(i.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),e;var o=i[0],s=o.properties,l=st(s,[a].map(CE)),c=oe({},o,{properties:l});return yl(e,ke(c,t,n))}function yl(e,t){var n=Object.assign({},e);return Object.keys(t).reduce(function(a,r){var i=e?e[r]:{},o=t[r];return e&&e.hasOwnProperty(r)&&tt(o)?a[r]=yl(i,o):e&&t&&(aa(e)==="object"||aa(t)==="object")&&r==="required"&&Array.isArray(i)&&Array.isArray(o)?a[r]=M1(i,o):a[r]=o,a},n)}function co(e){return Object.prototype.toString.call(e)==="[object Arguments]"}function Ut(e,t,n,a){if(n===void 0&&(n=[]),a===void 0&&(a=[]),e===t)return!0;if(typeof e=="function"||typeof t=="function")return!0;if(typeof e!="object"||typeof t!="object")return!1;if(e===null||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(co(e)||co(t)){if(!(co(e)&&co(t)))return!1;var r=Array.prototype.slice;return Ut(r.call(e),r.call(t),n,a)}else{if(e.constructor!==t.constructor)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length===0&&o.length===0)return!0;if(i.length!==o.length)return!1;for(var s=n.length;s--;)if(n[s]===e)return a[s]===t;n.push(e),a.push(t),i.sort(),o.sort();for(var l=i.length-1;l>=0;l--)if(i[l]!==o[l])return!1;for(var c,u=i.length-1;u>=0;u--)if(c=i[u],!Ut(e[c],t[c],n,a))return!1;return n.pop(),a.pop(),!0}}function qh(e,t,n){var a=e.props,r=e.state;return!Ut(a,t)||!Ut(r,n)}function vn(e,t,n,a,r,i){a===void 0&&(a={}),r===void 0&&(r="root"),i===void 0&&(i="_");var o={$id:t||r};if("$ref"in e||"dependencies"in e||"allOf"in e){var s=ke(e,n,a);return vn(s,t,n,a,r,i)}if("items"in e&&!e.items.$ref)return vn(e.items,t,n,a,r,i);if(e.type!=="object")return o;for(var l in e.properties||{}){var c=e.properties[l],u=o.$id+i+l;o[l]=vn(tt(c)?c:{},u,n,(a||{})[l],r,i)}return o}function Ma(e,t,n,a){t===void 0&&(t=""),a===void 0&&(a={});var r={$name:t.replace(/^\./,"")};if("$ref"in e||"dependencies"in e||"allOf"in e){var i=ke(e,n,a);return Ma(i,t,n,a)}if(e.hasOwnProperty("additionalProperties")&&(r.__rjsf_additionalProperties=!0),e.hasOwnProperty("items")&&Array.isArray(a))a.forEach(function(s,l){r[l]=Ma(e.items,t+"."+l,n,s)});else if(e.hasOwnProperty("properties"))for(var o in e.properties)r[o]=Ma(e.properties[o],t+"."+o,n,(a||{})[o]);return r}function Ta(e,t){if(t===void 0&&(t=!0),!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};var n=new Date(e);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:t?n.getUTCHours():0,minute:t?n.getUTCMinutes():0,second:t?n.getUTCSeconds():0}}function ky(e,t){var n=e.year,a=e.month,r=e.day,i=e.hour,o=i===void 0?0:i,s=e.minute,l=s===void 0?0:s,c=e.second,u=c===void 0?0:c;t===void 0&&(t=!0);var d=Date.UTC(n,a-1,r,o,l,u),f=new Date(d).toJSON();return t?f:f.slice(0,10)}function HU(e){if(!e)return"";var t=new Date(e),n=kr(t.getFullYear(),4),a=kr(t.getMonth()+1,2),r=kr(t.getDate(),2),i=kr(t.getHours(),2),o=kr(t.getMinutes(),2),s=kr(t.getSeconds(),2),l=kr(t.getMilliseconds(),3);return n+"-"+a+"-"+r+"T"+i+":"+o+":"+s+"."+l}function WU(e){if(e)return new Date(e).toJSON()}function kr(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n}function jU(e){var t=e.split(","),n=t[0].split(";"),a=n[0].replace("data:",""),r=n.filter(function(u){return u.split("=")[0]==="name"}),i;r.length!==1?i="unknown":i=r[0].split("=")[1];for(var o=atob(t[1]),s=[],l=0;l<o.length;l++)s.push(o.charCodeAt(l));var c=new window.Blob([new Uint8Array(s)],{type:a});return{blob:c,name:i}}function qE(e){var t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function ui(e,t,n){if(e===void 0)return 0;for(var a=0;a<t.length;a++){var r=t[a];if(r.properties){var i={anyOf:Object.keys(r.properties).map(function(l){return{required:[l]}})},o=void 0;if(r.anyOf){var s=oe({},r);s.allOf?s.allOf=s.allOf.slice():s.allOf=[],s.allOf.push(i),o=s}else o=Object.assign({},r,i);if(delete o.required,Hd(o,e,n))return a}else if(Hd(r,e,n))return a}return 0}function Eo(e){return e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0?!0:e.anyOf&&e.anyOf.length===1?Eo(e.anyOf[0]):e.oneOf&&e.oneOf.length===1?Eo(e.oneOf[0]):e.allOf?e.allOf.some(Eo):!1}function $E(e){var t=e.TitleField,n=e.idSchema,a=e.title,r=e.required;if(!a)return null;var i=n.$id+"__title";return B.createElement(t,{id:i,title:a,required:r})}function QU(e){var t=e.DescriptionField,n=e.idSchema,a=e.description;if(!a)return null;var r=n.$id+"__description";return B.createElement(t,{id:r,description:a})}function DE(e){var t={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return B.createElement("div",{key:e.key,className:e.className},B.createElement("div",{className:e.hasToolbar?"col-xs-9":"col-xs-12"},e.children),e.hasToolbar&&B.createElement("div",{className:"col-xs-3 array-item-toolbox"},B.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(e.hasMoveUp||e.hasMoveDown)&&B.createElement(La,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveUp,onClick:e.onReorderClick(e.index,e.index-1)}),(e.hasMoveUp||e.hasMoveDown)&&B.createElement(La,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveDown,onClick:e.onReorderClick(e.index,e.index+1)}),e.hasRemove&&B.createElement(La,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly,onClick:e.onDropIndexClick(e.index)}))))}function GU(e){return B.createElement("fieldset",{className:e.className,id:e.idSchema.$id},B.createElement($E,{key:"array-field-title-"+e.idSchema.$id,TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&B.createElement("div",{className:"field-description",key:"field-description-"+e.idSchema.$id},e.uiSchema["ui:description"]||e.schema.description),B.createElement("div",{className:"row array-item-list",key:"array-item-list-"+e.idSchema.$id},e.items&&e.items.map(DE)),e.canAdd&&B.createElement(Rh,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function YU(e){return B.createElement("fieldset",{className:e.className,id:e.idSchema.$id},B.createElement($E,{key:"array-field-title-"+e.idSchema.$id,TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&B.createElement(QU,{key:"array-field-description-"+e.idSchema.$id,DescriptionField:e.DescriptionField,idSchema:e.idSchema,description:e.uiSchema["ui:description"]||e.schema.description}),B.createElement("div",{className:"row array-item-list",key:"array-item-list-"+e.idSchema.$id},e.items&&e.items.map(function(t){return DE(t)})),e.canAdd&&B.createElement(Rh,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function Qd(){return NU()}function qy(e){return Array.isArray(e)?e.map(function(t){return{key:Qd(),item:t}}):[]}function Ra(e){return e.map(function(t){return t.item})}var FE=function(e){xr(t,e);function t(a){var r;r=e.call(this,a)||this,r._getNewFormDataRow=function(){var s=r.props,l=s.schema,c=s.registry,u=c.rootSchema,d=l.items;return jd(l)&&Ay(l)&&(d=l.additionalItems),gl(d,void 0,u)},r.onAddClick=function(s){s&&s.preventDefault();var l=r.props.onChange,c={key:Qd(),item:r._getNewFormDataRow()},u=[].concat(r.state.keyedFormData,[c]);r.setState({keyedFormData:u,updatedKeyedFormData:!0},function(){return l(Ra(u))})},r.onAddIndexClick=function(s){return function(l){l&&l.preventDefault();var c=r.props.onChange,u={key:Qd(),item:r._getNewFormDataRow()},d=[].concat(r.state.keyedFormData);d.splice(s,0,u),r.setState({keyedFormData:d,updatedKeyedFormData:!0},function(){return c(Ra(d))})}},r.onDropIndexClick=function(s){return function(l){l&&l.preventDefault();var c=r.props.onChange,u=r.state.keyedFormData,d;if(r.props.errorSchema){d={};var f=r.props.errorSchema;for(var p in f)p=parseInt(p),p<s?d[p]=f[p]:p>s&&(d[p-1]=f[p])}var h=u.filter(function(v,g){return g!==s});r.setState({keyedFormData:h,updatedKeyedFormData:!0},function(){return c(Ra(h),d)})}},r.onReorderClick=function(s,l){return function(c){c&&(c.preventDefault(),c.target.blur());var u=r.props.onChange,d;if(r.props.errorSchema){d={};var f=r.props.errorSchema;for(var p in f)p==s?d[l]=f[s]:p==l?d[s]=f[l]:d[p]=f[p]}var h=r.state.keyedFormData;function v(){var b=h.slice();return b.splice(s,1),b.splice(l,0,h[s]),b}var g=v();r.setState({keyedFormData:g},function(){return u(Ra(g),d)})}},r.onChangeForIndex=function(s){return function(l,c){var u,d=r.props,f=d.formData,p=d.onChange,h=f.map(function(v,g){var b=typeof l>"u"?null:l;return s===g?b:v});p(h,c&&r.props.errorSchema&&oe({},r.props.errorSchema,(u={},u[s]=c,u)))}},r.onSelectChange=function(s){r.props.onChange(s)};var i=a.formData,o=qy(i);return r.state={keyedFormData:o,updatedKeyedFormData:!1},r}t.getDerivedStateFromProps=function(r,i){if(i.updatedKeyedFormData)return{updatedKeyedFormData:!1};var o=r.formData||[],s=i.keyedFormData||[],l=o.length===s.length?s.map(function(c,u){return{key:c.key,item:o[u]}}):qy(o);return{keyedFormData:l}};var n=t.prototype;return n.isItemRequired=function(r){return Array.isArray(r.type)?!h4(r.type,"null"):r.type!=="null"},n.canAddItem=function(r){var i=this.props,o=i.schema,s=i.uiSchema,l=It(s),c=l.addable;return c!==!1&&(o.maxItems!==void 0?c=r.length<o.maxItems:c=!0),c},n.render=function(){var r=this.props,i=r.schema,o=r.uiSchema,s=r.idSchema,l=r.registry,c=l.rootSchema;if(!i.hasOwnProperty("items")){var u=l.fields,d=u.UnsupportedField;return B.createElement(d,{schema:i,idSchema:s,reason:"Missing items definition"})}return Ah(i,c)?this.renderMultiSelect():RE(o)?this.renderCustomWidget():jd(i)?this.renderFixedArray():TE(i,o,c)?this.renderFiles():this.renderNormalArray()},n.renderNormalArray=function(){var r=this,i=this.props,o=i.schema,s=i.uiSchema,l=i.errorSchema,c=i.idSchema,u=i.name,d=i.required,f=i.disabled,p=i.readonly,h=i.hideError,v=i.autofocus,g=i.registry,b=i.onBlur,E=i.onFocus,y=i.idPrefix,_=i.idSeparator,w=_===void 0?"_":_,S=i.rawErrors,C=o.title===void 0?u:o.title,x=g.ArrayFieldTemplate,T=g.rootSchema,R=g.fields,$=g.formContext,A=R.TitleField,I=R.DescriptionField,N=ke(o.items,T),q=Ra(this.state.keyedFormData),F={canAdd:this.canAddItem(q),items:this.state.keyedFormData.map(function(V,O){var z=V.key,j=V.item,G=ke(o.items,T,j),K=l?l[O]:void 0,Y=c.$id+w+O,X=vn(G,Y,T,j,y,w);return r.renderArrayFieldItem({key:z,index:O,canMoveUp:O>0,canMoveDown:O<q.length-1,itemSchema:G,itemIdSchema:X,itemErrorSchema:K,itemData:j,itemUiSchema:s.items,autofocus:v&&O===0,onBlur:b,onFocus:E})}),className:"field field-array field-array-of-"+N.type,DescriptionField:I,disabled:f,idSchema:c,uiSchema:s,onAddClick:this.onAddClick,readonly:p,hideError:h,required:d,schema:o,title:C,TitleField:A,formContext:$,formData:q,rawErrors:S,registry:g},P=s["ui:ArrayFieldTemplate"]||x||YU;return B.createElement(P,F)},n.renderCustomWidget=function(){var r=this.props,i=r.schema,o=r.idSchema,s=r.uiSchema,l=r.disabled,c=r.readonly,u=r.hideError,d=r.required,f=r.placeholder,p=r.autofocus,h=r.onBlur,v=r.onFocus,g=r.formData,b=r.registry,E=r.rawErrors,y=r.name,_=b.widgets,w=b.formContext,S=i.title||y,C=oe({},It(s)),x=C.widget,T=st(C,["widget"]),R=Sr(i,x,_);return B.createElement(R,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:h,onFocus:v,options:T,schema:i,uiSchema:s,registry:b,value:g,disabled:l,readonly:c,hideError:u,required:d,label:S,placeholder:f,formContext:w,autofocus:p,rawErrors:E})},n.renderMultiSelect=function(){var r=this.props,i=r.schema,o=r.idSchema,s=r.uiSchema,l=r.formData,c=r.disabled,u=r.readonly,d=r.required,f=r.placeholder,p=r.autofocus,h=r.onBlur,v=r.onFocus,g=r.registry,b=r.rawErrors,E=r.name,y=this.props.formData,_=g.widgets,w=g.rootSchema,S=g.formContext,C=ke(i.items,w,l),x=i.title||E,T=is(C),R=oe({},It(s),{enumOptions:T}),$=R.widget,A=$===void 0?"select":$,I=st(R,["widget"]),N=Sr(i,A,_);return B.createElement(N,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:h,onFocus:v,options:I,schema:i,uiSchema:s,registry:g,value:y,disabled:c,readonly:u,required:d,label:x,placeholder:f,formContext:S,autofocus:p,rawErrors:b})},n.renderFiles=function(){var r=this.props,i=r.schema,o=r.uiSchema,s=r.idSchema,l=r.name,c=r.disabled,u=r.readonly,d=r.autofocus,f=r.onBlur,p=r.onFocus,h=r.registry,v=r.rawErrors,g=i.title||l,b=this.props.formData,E=h.widgets,y=h.formContext,_=It(o),w=_.widget,S=w===void 0?"files":w,C=st(_,["widget"]),x=Sr(i,S,E);return B.createElement(x,{options:C,id:s&&s.$id,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:p,schema:i,uiSchema:o,title:g,value:b,disabled:c,readonly:u,registry:h,formContext:y,autofocus:d,rawErrors:v})},n.renderFixedArray=function(){var r=this,i=this.props,o=i.schema,s=i.uiSchema,l=i.formData,c=i.errorSchema,u=i.idPrefix,d=i.idSeparator,f=d===void 0?"_":d,p=i.idSchema,h=i.name,v=i.required,g=i.disabled,b=i.readonly,E=i.autofocus,y=i.registry,_=i.onBlur,w=i.onFocus,S=i.rawErrors,C=o.title||h,x=this.props.formData,T=y.ArrayFieldTemplate,R=y.rootSchema,$=y.fields,A=y.formContext,I=$.TitleField,N=o.items.map(function(V,O){return ke(V,R,l[O])}),q=Ay(o)?ke(o.additionalItems,R,l):null;(!x||x.length<N.length)&&(x=x||[],x=x.concat(new Array(N.length-x.length)));var F={canAdd:this.canAddItem(x)&&q,className:"field field-array field-array-fixed-items",disabled:g,idSchema:p,formData:l,items:this.state.keyedFormData.map(function(V,O){var z=V.key,j=V.item,G=O>=N.length,K=G?ke(o.additionalItems,R,j):N[O],Y=p.$id+f+O,X=vn(K,Y,R,j,u,f),re=G?s.additionalItems||{}:Array.isArray(s.items)?s.items[O]:s.items||{},J=c?c[O]:void 0;return r.renderArrayFieldItem({key:z,index:O,canRemove:G,canMoveUp:O>=N.length+1,canMoveDown:G&&O<x.length-1,itemSchema:K,itemData:j,itemUiSchema:re,itemIdSchema:X,itemErrorSchema:J,autofocus:E&&O===0,onBlur:_,onFocus:w})}),onAddClick:this.onAddClick,readonly:b,required:v,registry:y,schema:o,uiSchema:s,title:C,TitleField:I,formContext:A,rawErrors:S},P=s["ui:ArrayFieldTemplate"]||T||GU;return B.createElement(P,F)},n.renderArrayFieldItem=function(r){var i=r.key,o=r.index,s=r.canRemove,l=s===void 0?!0:s,c=r.canMoveUp,u=c===void 0?!0:c,d=r.canMoveDown,f=d===void 0?!0:d,p=r.itemSchema,h=r.itemData,v=r.itemUiSchema,g=r.itemIdSchema,b=r.itemErrorSchema,E=r.autofocus,y=r.onBlur,_=r.onFocus,w=r.rawErrors,S=this.props,C=S.disabled,x=S.readonly,T=S.uiSchema,R=S.registry,$=R.fields.SchemaField,A=It(T),I=A.orderable,N=I===void 0?!0:I,q=A.removable,F=q===void 0?!0:q,P={moveUp:N&&u,moveDown:N&&f,remove:F&&l};return P.toolbar=Object.keys(P).some(function(V){return P[V]}),{children:B.createElement($,{index:o,schema:p,uiSchema:v,formData:h,errorSchema:b,idPrefix:this.props.idPrefix,idSeparator:this.props.idSeparator,idSchema:g,required:this.isItemRequired(p),onChange:this.onChangeForIndex(o),onBlur:y,onFocus:_,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,hideError:this.props.hideError,autofocus:E,rawErrors:w}),className:"array-item",disabled:C,hasToolbar:P.toolbar,hasMoveUp:P.moveUp,hasMoveDown:P.moveDown,hasRemove:P.remove,index:o,key:i,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:x}},EE(t,[{key:"itemTitle",get:function(){var r=this.props.schema;return r.items.title||r.items.description||"Item"}}]),t}(k.Component);FE.defaultProps={uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1};function OE(e){var t=e.schema,n=e.name,a=e.uiSchema,r=e.idSchema,i=e.formData,o=e.registry,s=e.required,l=e.disabled,c=e.readonly,u=e.autofocus,d=e.onChange,f=e.onFocus,p=e.onBlur,h=e.rawErrors,v=t.title,g=o.widgets,b=o.formContext,E=o.fields,y=It(a),_=y.widget,w=_===void 0?"checkbox":_,S=st(y,["widget"]),C=Sr(t,w,g),x;return Array.isArray(t.oneOf)?x=is({oneOf:t.oneOf.map(function(T){return oe({},T,{title:T.title||(T.const===!0?"Yes":"No")})})}):x=is({enum:t.enum||[!0,!1],enumNames:t.enumNames||(t.enum&&t.enum[0]===!1?["No","Yes"]:["Yes","No"])}),B.createElement(C,{options:oe({},S,{enumOptions:x}),schema:t,uiSchema:a,id:r&&r.$id,onChange:d,onFocus:f,onBlur:p,label:v===void 0?n:v,value:i,required:s,disabled:l,readonly:c,registry:o,formContext:b,autofocus:u,rawErrors:h,DescriptionField:E.DescriptionField})}OE.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};function KU(e){var t=e.id,n=e.description;return n?typeof n=="string"?B.createElement("p",{id:t,className:"field-description"},n):B.createElement("div",{id:t,className:"field-description"},n):null}var Gd=function(e){xr(t,e);function t(a){var r;r=e.call(this,a)||this,r.onOptionChange=function(l){var c=parseInt(l,10),u=r.props,d=u.formData,f=u.onChange,p=u.options,h=u.registry,v=h.rootSchema,g=ke(p[c],v,d),b=void 0;if(li(d)==="object"&&(g.type==="object"||g.properties)){b=Object.assign({},d);var E=p.slice();E.splice(c,1);for(var w=E,y=Array.isArray(w),_=0,w=y?w:w[Symbol.iterator]();;){var S;if(y){if(_>=w.length)break;S=w[_++]}else{if(_=w.next(),_.done)break;S=_.value}var C=S;if(C.properties)for(var x in C.properties)b.hasOwnProperty(x)&&delete b[x]}}f(gl(p[c],b,v)),r.setState({selectedOption:parseInt(l,10)})};var i=r.props,o=i.formData,s=i.options;return r.state={selectedOption:r.getMatchingOption(o,s)},r}var n=t.prototype;return n.componentDidUpdate=function(r,i){if(!Ut(this.props.formData,r.formData)&&this.props.idSchema.$id===r.idSchema.$id){var o=this.getMatchingOption(this.props.formData,this.props.options);if(!i||o===this.state.selectedOption)return;this.setState({selectedOption:o})}},n.getMatchingOption=function(r,i){var o=this.props.registry.rootSchema,s=ui(r,i,o);return s!==0?s:this&&this.state?this.state.selectedOption:0},n.render=function(){var r=this.props,i=r.baseType,o=r.disabled,s=r.readonly,l=r.hideError,c=r.errorSchema,u=r.formData,d=r.idPrefix,f=r.idSeparator,p=r.idSchema,h=r.onBlur,v=r.onChange,g=r.onFocus,b=r.options,E=r.registry,y=r.uiSchema,_=r.schema,w=E.fields.SchemaField,S=E.widgets,C=this.state.selectedOption,x=It(y),T=x.widget,R=T===void 0?"select":T,$=st(x,["widget"]),A=Sr({type:"number"},R,S),I=b[C]||null,N;I&&(N=I.type?I:Object.assign({},I,{type:i}));var q=b.map(function(F,P){return{label:F.title||"Option "+(P+1),value:P}});return B.createElement("div",{className:"panel panel-default panel-body"},B.createElement("div",{className:"form-group"},B.createElement(A,oe({id:""+p.$id+(_.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:h,onFocus:g,value:C,options:{enumOptions:q},registry:E},$))),I!==null&&B.createElement(w,{schema:N,uiSchema:y,errorSchema:c,idSchema:p,idPrefix:d,idSeparator:f,formData:u,onChange:v,onBlur:h,onFocus:g,registry:E,disabled:o,readonly:s,hideError:l}))},t}(k.Component);Gd.defaultProps={disabled:!1,readonly:!1,hideError:!1,errorSchema:{},idSchema:{},uiSchema:{}};var XU=/\.([0-9]*0)*$/,ZU=/[0.]0*$/,LE=function(e){xr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.handleChange=function(i){r.setState({lastValue:i}),(""+i).charAt(0)==="."&&(i="0"+i);var o=typeof i=="string"&&i.match(XU)?Va(i.replace(ZU,"")):Va(i);r.props.onChange(o)},r.state={lastValue:a.value},r}var n=t.prototype;return n.render=function(){var r=this.props.registry.fields.StringField,i=this.props,o=i.formData,s=st(i,["formData"]),l=this.state.lastValue,c=o;if(typeof l=="string"&&typeof c=="number"){var u=new RegExp((""+c).replace(".","\\.")+"\\.?0*$");l.match(u)&&(c=l)}return B.createElement(r,oe({},s,{formData:c,onChange:this.handleChange}))},t}(B.Component);LE.defaultProps={uiSchema:{}};function JU(e){var t=e.TitleField,n=e.DescriptionField;return B.createElement("fieldset",{id:e.idSchema.$id},(e.uiSchema["ui:title"]||e.title)&&B.createElement(t,{id:e.idSchema.$id+"__title",title:e.title||e.uiSchema["ui:title"],required:e.required,formContext:e.formContext}),e.description&&B.createElement(n,{id:e.idSchema.$id+"__description",description:e.description,formContext:e.formContext}),e.properties.map(function(a){return a.content}),AU(e.schema,e.uiSchema,e.formData)&&B.createElement(Rh,{className:"object-property-expand",onClick:e.onAddClick(e.schema),disabled:e.disabled||e.readonly}))}var VE=function(e){xr(t,e);function t(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,a.state={wasPropertyKeyModified:!1,additionalProperties:{}},a.onPropertyChange=function(s,l){return l===void 0&&(l=!1),function(c,u){var d,f;c===void 0&&l&&(c="");var p=oe({},a.props.formData,(d={},d[s]=c,d));a.props.onChange(p,u&&a.props.errorSchema&&oe({},a.props.errorSchema,(f={},f[s]=u,f)))}},a.onDropPropertyClick=function(s){return function(l){l.preventDefault();var c=a.props,u=c.onChange,d=c.formData,f=oe({},d);delete f[s],u(f)}},a.getAvailableKey=function(s,l){for(var c=0,u=s;l.hasOwnProperty(u);)u=s+"-"+ ++c;return u},a.onKeyChange=function(s){return function(l,c){var u,d;if(s!==l){l=a.getAvailableKey(l,a.props.formData);var f=oe({},a.props.formData),p=(u={},u[s]=l,u),h=Object.keys(f).map(function(g){var b,E=p[g]||g;return b={},b[E]=f[g],b}),v=Object.assign.apply(Object,[{}].concat(h));a.setState({wasPropertyKeyModified:!0}),a.props.onChange(v,c&&a.props.errorSchema&&oe({},a.props.errorSchema,(d={},d[l]=c,d)))}}},a.handleAddClick=function(s){return function(){var l=s.additionalProperties.type,c=oe({},a.props.formData);if(s.additionalProperties.hasOwnProperty("$ref")){var u=a.props.registry,d=ke({$ref:s.additionalProperties.$ref},u.rootSchema,a.props.formData);l=d.type}c[a.getAvailableKey("newKey",c)]=a.getDefaultValue(l),a.props.onChange(c)}},a}var n=t.prototype;return n.isRequired=function(r){var i=this.props.schema;return Array.isArray(i.required)&&i.required.indexOf(r)!==-1},n.getDefaultValue=function(r){switch(r){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}},n.render=function(){var r=this,i=this.props,o=i.uiSchema,s=i.formData,l=i.errorSchema,c=i.idSchema,u=i.name,d=i.required,f=i.disabled,p=i.readonly,h=i.hideError,v=i.idPrefix,g=i.idSeparator,b=i.onBlur,E=i.onFocus,y=i.registry,_=y.rootSchema,w=y.fields,S=y.formContext,C=w.SchemaField,x=w.TitleField,T=w.DescriptionField,R=ke(this.props.schema,_,s),$=R.title===void 0?u:R.title,A=o["ui:description"]||R.description,I;try{var N=Object.keys(R.properties||{});I=DU(N,o["ui:order"])}catch(P){return B.createElement("div",null,B.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",u||"root"," object field configuration:",B.createElement("em",null,P.message),"."),B.createElement("pre",null,JSON.stringify(R)))}var q=o["ui:ObjectFieldTemplate"]||y.ObjectFieldTemplate||JU,F={title:o["ui:title"]||$,description:A,TitleField:x,DescriptionField:T,properties:I.map(function(P){var V=R.properties[P].hasOwnProperty(Ph),O=V?o.additionalProperties:o[P],z=O&&O["ui:widget"]==="hidden";return{content:B.createElement(C,{key:P,name:P,required:r.isRequired(P),schema:R.properties[P],uiSchema:O,errorSchema:l[P],idSchema:c[P],idPrefix:v,idSeparator:g,formData:(s||{})[P],wasPropertyKeyModified:r.state.wasPropertyKeyModified,onKeyChange:r.onKeyChange(P),onChange:r.onPropertyChange(P,V),onBlur:b,onFocus:E,registry:y,disabled:f,readonly:p,hideError:h,onDropPropertyClick:r.onDropPropertyClick}),name:P,readonly:p,disabled:f,required:d,hidden:z}}),readonly:p,disabled:f,required:d,idSchema:c,uiSchema:o,schema:R,formData:s,formContext:S,registry:y};return B.createElement(q,oe({},F,{onAddClick:this.handleAddClick}))},t}(k.Component);VE.defaultProps={uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1};var ez="*",tz={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function rz(e,t,n,a){var r=t["ui:field"];if(typeof r=="function")return r;if(typeof r=="string"&&r in a)return a[r];var i=tz[aa(e)];return!i&&(e.anyOf||e.oneOf)?function(){return null}:i in a?a[i]:function(){var o=a.UnsupportedField;return B.createElement(o,{schema:e,idSchema:n,reason:"Unknown field type "+e.type})}}function ME(e){var t=e.label,n=e.required,a=e.id;return t?B.createElement("label",{className:"control-label",htmlFor:a},t,n&&B.createElement("span",{className:"required"},ez)):null}function nz(e){var t=e.id,n=e.label,a=e.onChange;return B.createElement("input",{className:"form-control",type:"text",id:t,onBlur:function(i){return a(i.target.value)},defaultValue:n})}function az(e){var t=e.id,n=e.help;return n?typeof n=="string"?B.createElement("p",{id:t,className:"help-block"},n):B.createElement("div",{id:t,className:"help-block"},n):null}function iz(e){var t=e.errors,n=t===void 0?[]:t;return n.length===0?null:B.createElement("div",null,B.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},n.filter(function(a){return!!a}).map(function(a,r){return B.createElement("li",{className:"text-danger",key:r},a)})))}function BE(e){var t=e.id,n=e.label,a=e.children,r=e.errors,i=e.help,o=e.description,s=e.hidden,l=e.required,c=e.displayLabel;return s?B.createElement("div",{className:"hidden"},a):B.createElement(oz,e,c&&B.createElement(ME,{label:n,required:l,id:t}),c&&o?o:null,a,r,i)}BE.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function oz(e){var t=e.id,n=e.classNames,a=e.disabled,r=e.label,i=e.onKeyChange,o=e.onDropPropertyClick,s=e.readonly,l=e.required,c=e.schema,u=r+" Key",d=c.hasOwnProperty(Ph);return d?B.createElement("div",{className:n},B.createElement("div",{className:"row"},B.createElement("div",{className:"col-xs-5 form-additional"},B.createElement("div",{className:"form-group"},B.createElement(ME,{label:u,required:l,id:t+"-key"}),B.createElement(nz,{label:r,required:l,id:t+"-key",onChange:i}))),B.createElement("div",{className:"form-additional form-group col-xs-5"},e.children),B.createElement("div",{className:"col-xs-2"},B.createElement(La,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:a||s,onClick:o(r)})))):B.createElement("div",{className:n},e.children)}function sz(e){var t=e.uiSchema,n=e.formData,a=e.errorSchema,r=e.idPrefix,i=e.idSeparator,o=e.name,s=e.onChange,l=e.onKeyChange,c=e.onDropPropertyClick,u=e.required,d=e.registry,f=e.wasPropertyKeyModified,p=f===void 0?!1:f,h=d.rootSchema,v=d.fields,g=d.formContext,b=t["ui:FieldTemplate"]||d.FieldTemplate||BE,E=e.idSchema,y=ke(e.schema,h,n);E=Br(vn(y,null,h,n,r,i),E);var _=rz(y,t,E,v),w=v.DescriptionField,S=!!(e.disabled||t["ui:disabled"]),C=!!(e.readonly||t["ui:readonly"]||e.schema.readOnly||y.readOnly),x=t["ui:hideError"],T=x===void 0?e.hideError:!!x,R=!!(e.autofocus||t["ui:autofocus"]);if(Object.keys(y).length===0)return null;var $=$U(y,t,h),A=a.__errors,I=st(a,["__errors"]),N=B.createElement(_,oe({},e,{idSchema:E,schema:y,uiSchema:oe({},t,{classNames:void 0}),disabled:S,readonly:C,hideError:T,autofocus:R,errorSchema:I,formContext:g,rawErrors:A})),q=E.$id,F;p?F=o:F=t["ui:title"]||e.schema.title||y.title||o;var P=t["ui:description"]||e.schema.description||y.description,V=A,O=t["ui:help"],z=t["ui:widget"]==="hidden",j=["form-group","field","field-"+y.type];!T&&V&&V.length>0&&j.push("field-error has-error has-danger"),j.push(t.classNames),j=j.join(" ").trim();var G={description:B.createElement(w,{id:q+"__description",description:P,formContext:g}),rawDescription:P,help:B.createElement(az,{id:q+"__help",help:O}),rawHelp:typeof O=="string"?O:void 0,errors:T?void 0:B.createElement(iz,{errors:V}),rawErrors:T?void 0:V,id:q,label:F,hidden:z,onChange:s,onKeyChange:l,onDropPropertyClick:c,required:u,disabled:S,readonly:C,hideError:T,displayLabel:$,classNames:j,formContext:g,formData:n,fields:v,schema:y,uiSchema:t,registry:d},K=d.fields.AnyOfField,Y=d.fields.OneOfField;return B.createElement(b,G,B.createElement(B.Fragment,null,N,y.anyOf&&!as(y)&&B.createElement(K,{disabled:S,readonly:C,hideError:T,errorSchema:a,formData:n,idPrefix:r,idSchema:E,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:y.anyOf.map(function(X){return ke(X,h,n)}),baseType:y.type,registry:d,schema:y,uiSchema:t}),y.oneOf&&!as(y)&&B.createElement(Y,{disabled:S,readonly:C,hideError:T,errorSchema:a,formData:n,idPrefix:r,idSchema:E,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:y.oneOf.map(function(X){return ke(X,h,n)}),baseType:y.type,registry:d,schema:y,uiSchema:t})))}var UE=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return!Ut(this.props,r)},n.render=function(){return sz(this.props)},t}(B.Component);UE.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1,hideError:!1};function zE(e){var t=e.schema,n=e.name,a=e.uiSchema,r=e.idSchema,i=e.formData,o=e.required,s=e.disabled,l=e.readonly,c=e.autofocus,u=e.onChange,d=e.onBlur,f=e.onFocus,p=e.registry,h=e.rawErrors,v=t.title,g=t.format,b=p.widgets,E=p.formContext,y=as(t)&&is(t),_=y?"select":"text";g&&kU(t,g,b)&&(_=g);var w=It(a),S=w.widget,C=S===void 0?_:S,x=w.placeholder,T=x===void 0?"":x,R=st(w,["widget","placeholder"]),$=Sr(t,C,b);return B.createElement($,{options:oe({},R,{enumOptions:y}),schema:t,uiSchema:a,id:r&&r.$id,label:v===void 0?n:v,value:i,onChange:u,onBlur:d,onFocus:f,required:o,disabled:s,readonly:l,formContext:E,autofocus:c,registry:p,placeholder:T,rawErrors:h})}zE.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var lz="*";function uz(e){var t=e.id,n=e.title,a=e.required;return B.createElement("legend",{id:t},n,a&&B.createElement("span",{className:"required"},lz))}var cz=function(e){xr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.formData===void 0&&this.props.onChange(null)},n.render=function(){return null},t}(k.Component);function dz(e){var t=e.schema,n=e.idSchema,a=e.reason;return B.createElement("div",{className:"unsupported-field"},B.createElement("p",null,"Unsupported field schema",n&&n.$id&&B.createElement("span",null," for"," field ",B.createElement("code",null,n.$id)),a&&B.createElement("em",null,": ",a),"."),t&&B.createElement("pre",null,JSON.stringify(t,null,2)))}var fz={AnyOfField:Gd,ArrayField:FE,BooleanField:OE,DescriptionField:KU,NumberField:LE,ObjectField:VE,OneOfField:Gd,SchemaField:UE,StringField:zE,TitleField:uz,NullField:cz,UnsupportedField:dz};function pz(e,t){for(var n=[],a=e;a<=t;a++)n.push({value:a,label:kr(a,2)});return n}function hz(e){return Object.keys(e).every(function(t){return e[t]!==-1})}function mz(e){var t=e.type,n=e.range,a=e.value,r=e.select,i=e.rootId,o=e.disabled,s=e.readonly,l=e.autofocus,c=e.registry,u=e.onBlur,d=i+"_"+t,f=c.widgets.SelectWidget;return B.createElement(f,{schema:{type:"integer"},id:d,className:"form-control",options:{enumOptions:pz(n[0],n[1])},placeholder:t,value:a,disabled:o,readonly:s,autofocus:l,onChange:function(h){return r(t,h)},onBlur:u})}var $h=function(e){xr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.onChange=function(i,o){var s;r.setState((s={},s[i]=typeof o>"u"?-1:o,s),function(){hz(r.state)&&r.props.onChange(ky(r.state,r.props.time))})},r.setNow=function(i){i.preventDefault();var o=r.props,s=o.time,l=o.disabled,c=o.readonly,u=o.onChange;if(!(l||c)){var d=Ta(new Date().toJSON(),s);r.setState(d,function(){return u(ky(r.state,s))})}},r.clear=function(i){i.preventDefault();var o=r.props,s=o.time,l=o.disabled,c=o.readonly,u=o.onChange;l||c||r.setState(Ta("",s),function(){return u(void 0)})},r.state=Ta(a.value,a.time),r}var n=t.prototype;return n.componentDidUpdate=function(r,i){r.value&&r.value!==Ta(this.props.value,this.props.time)&&this.setState(Ta(this.props.value,this.props.time))},n.shouldComponentUpdate=function(r,i){return qh(this,r,i)},n.render=function(){var r=this,i=this.props,o=i.id,s=i.disabled,l=i.readonly,c=i.autofocus,u=i.registry,d=i.onBlur,f=i.options;return B.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(p,h){return B.createElement("li",{key:h},B.createElement(mz,oe({rootId:o,select:r.onChange},p,{disabled:s,readonly:l,registry:u,onBlur:d,autofocus:c&&h===0})))}),(f.hideNowButton!=="undefined"?!f.hideNowButton:!0)&&B.createElement("li",null,B.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),(f.hideClearButton!=="undefined"?!f.hideClearButton:!0)&&B.createElement("li",null,B.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))},EE(t,[{key:"dateElementProps",get:function(){var r=this.props,i=r.time,o=r.options,s=this.state,l=s.year,c=s.month,u=s.day,d=s.hour,f=s.minute,p=s.second,h=[{type:"year",range:o.yearsRange,value:l},{type:"month",range:[1,12],value:c},{type:"day",range:[1,31],value:u}];return i&&h.push({type:"hour",range:[0,23],value:d},{type:"minute",range:[0,59],value:f},{type:"second",range:[0,59],value:p}),h}}]),t}(k.Component);$h.defaultProps={time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}};function HE(e){var t=e.registry.widgets.AltDateWidget;return B.createElement(t,oe({time:!0},e))}HE.defaultProps=oe({},$h.defaultProps,{time:!0});function WE(e){if(!e.id)throw console.log("No id for",e),new Error("no id for props "+JSON.stringify(e));var t=e.value,n=e.readonly,a=e.disabled,r=e.autofocus,i=e.onBlur,o=e.onFocus,s=e.options,l=e.schema,c=st(e,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);s.inputType?c.type=s.inputType:c.type||(l.type==="number"?(c.type="number",c.step="any"):l.type==="integer"?(c.type="number",c.step="1"):c.type="text"),s.autocomplete&&(c.autoComplete=s.autocomplete),l.multipleOf&&(c.step=l.multipleOf),typeof l.minimum<"u"&&(c.min=l.minimum),typeof l.maximum<"u"&&(c.max=l.maximum);var u=function(f){var p=f.target.value;return e.onChange(p===""?s.emptyValue:p)};return[B.createElement("input",oe({key:c.id,className:"form-control",readOnly:n,disabled:a,autoFocus:r,value:t??""},c,{list:l.examples?"examples_"+c.id:null,onChange:u,onBlur:i&&function(d){return i(c.id,d.target.value)},onFocus:o&&function(d){return o(c.id,d.target.value)}})),l.examples?B.createElement("datalist",{key:"datalist_"+c.id,id:"examples_"+c.id},[].concat(new Set(l.examples.concat(l.default?[l.default]:[]))).map(function(d){return B.createElement("option",{key:d,value:d})})):null]}WE.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};function jE(e){var t=e.schema,n=e.id,a=e.value,r=e.disabled,i=e.readonly,o=e.label,s=e.autofocus,l=e.onBlur,c=e.onFocus,u=e.onChange,d=e.DescriptionField,f=Eo(t);return B.createElement("div",{className:"checkbox "+(r||i?"disabled":"")},t.description&&B.createElement(d,{description:t.description}),B.createElement("label",null,B.createElement("input",{type:"checkbox",id:n,checked:typeof a>"u"?!1:a,required:f,disabled:r||i,autoFocus:s,onChange:function(h){return u(h.target.checked)},onBlur:l&&function(p){return l(n,p.target.checked)},onFocus:c&&function(p){return c(n,p.target.checked)}}),B.createElement("span",null,o)))}jE.defaultProps={autofocus:!1};function vz(e,t,n){var a=n.indexOf(e),r=t.slice(0,a).concat(e,t.slice(a));return r.sort(function(i,o){return n.indexOf(i)>n.indexOf(o)})}function gz(e,t){return t.filter(function(n){return n!==e})}function QE(e){var t=e.id,n=e.disabled,a=e.options,r=e.value,i=e.autofocus,o=e.readonly,s=e.onChange,l=a.enumOptions,c=a.enumDisabled,u=a.inline;return B.createElement("div",{className:"checkboxes",id:t},l.map(function(d,f){var p=r.indexOf(d.value)!==-1,h=c&&c.indexOf(d.value)!=-1,v=n||h||o?"disabled":"",g=B.createElement("span",null,B.createElement("input",{type:"checkbox",id:t+"_"+f,checked:p,disabled:n||h||o,autoFocus:i&&f===0,onChange:function(E){var y=l.map(function(_){var w=_.value;return w});E.target.checked?s(vz(d.value,r,y)):s(gz(d.value,r))}}),B.createElement("span",null,d.label));return u?B.createElement("label",{key:f,className:"checkbox-inline "+v},g):B.createElement("div",{key:f,className:"checkbox "+v},B.createElement("label",null,g))}))}QE.defaultProps={autofocus:!1,options:{inline:!1}};function yz(e){var t=e.disabled,n=e.readonly,a=e.registry.widgets.BaseInput;return B.createElement(a,oe({type:"color"},e,{disabled:t||n}))}function bz(e){var t=e.onChange,n=e.registry.widgets.BaseInput;return B.createElement(n,oe({type:"date"},e,{onChange:function(r){return t(r||void 0)}}))}function wz(e){var t=e.value,n=e.onChange,a=e.registry.widgets.BaseInput;return B.createElement(a,oe({type:"datetime-local"},e,{value:HU(t),onChange:function(i){return n(WU(i))}}))}function Sz(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,oe({type:"email"},e))}function _z(e,t){return e.replace(";base64",";name="+encodeURIComponent(t)+";base64")}function Ez(e){var t=e.name,n=e.size,a=e.type;return new Promise(function(r,i){var o=new window.FileReader;o.onerror=i,o.onload=function(s){r({dataURL:_z(s.target.result,t),name:t,size:n,type:a})},o.readAsDataURL(e)})}function Cz(e){return Promise.all([].map.call(e,Ez))}function xz(e){var t=e.filesInfo;return t.length===0?null:B.createElement("ul",{className:"file-info"},t.map(function(n,a){var r=n.name,i=n.size,o=n.type;return B.createElement("li",{key:a},B.createElement("strong",null,r)," (",o,", ",i," bytes)")}))}function Nz(e){return e.filter(function(t){return typeof t<"u"}).map(function(t){var n=jU(t),a=n.blob,r=n.name;return{name:r,size:a.size,type:a.type}})}var GE=function(e){xr(t,e);function t(a){var r;r=e.call(this,a)||this,r.onChange=function(s){var l=r.props,c=l.multiple,u=l.onChange;Cz(s.target.files).then(function(d){var f={values:d.map(function(p){return p.dataURL}),filesInfo:d};r.setState(f,function(){u(c?f.values:f.values[0])})})};var i=a.value,o=Array.isArray(i)?i:[i];return r.state={values:o,filesInfo:Nz(o)},r}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return qh(this,r,i)},n.render=function(){var r=this,i=this.props,o=i.multiple,s=i.id,l=i.readonly,c=i.disabled,u=i.autofocus,d=i.options,f=this.state.filesInfo;return B.createElement("div",null,B.createElement("p",null,B.createElement("input",{ref:function(h){return r.inputRef=h},id:s,type:"file",disabled:l||c,onChange:this.onChange,defaultValue:"",autoFocus:u,multiple:o,accept:d.accept})),B.createElement(xz,{filesInfo:f}))},t}(k.Component);GE.defaultProps={autofocus:!1};function Iz(e){var t=e.id,n=e.value;return B.createElement("input",{type:"hidden",id:t,value:typeof n>"u"?"":n})}function Tz(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,oe({type:"password"},e))}function YE(e){var t=e.options,n=e.value,a=e.required,r=e.disabled,i=e.readonly,o=e.autofocus,s=e.onBlur,l=e.onFocus,c=e.onChange,u=e.id,d=Math.random().toString(),f=t.enumOptions,p=t.enumDisabled,h=t.inline;return B.createElement("div",{className:"field-radio-group",id:u},f.map(function(v,g){var b=v.value===n,E=p&&p.indexOf(v.value)!=-1,y=r||E||i?"disabled":"",_=B.createElement("span",null,B.createElement("input",{type:"radio",checked:b,name:d,required:a,value:v.value,disabled:r||E||i,autoFocus:o&&g===0,onChange:function(S){return c(v.value)},onBlur:s&&function(w){return s(u,w.target.value)},onFocus:l&&function(w){return l(u,w.target.value)}}),B.createElement("span",null,v.label));return h?B.createElement("label",{key:g,className:"radio-inline "+y},_):B.createElement("div",{key:g,className:"radio "+y},B.createElement("label",null,_))}))}YE.defaultProps={autofocus:!1};function Rz(e){var t=e.schema,n=e.value,a=e.registry.widgets.BaseInput;return B.createElement("div",{className:"field-range-wrapper"},B.createElement(a,oe({type:"range"},e,qE(t))),B.createElement("span",{className:"range-view"},n))}var Pz=new Set(["number","integer"]);function bc(e,t){var n=e.type,a=e.items;if(t!==""){{if(n==="array"&&a&&Pz.has(a.type))return t.map(Va);if(n==="boolean")return t==="true";if(n==="number")return Va(t)}if(e.enum){if(e.enum.every(function(r){return li(r)==="number"}))return Va(t);if(e.enum.every(function(r){return li(r)==="boolean"}))return t==="true"}return t}}function wc(e,t){return t?[].slice.call(e.target.options).filter(function(n){return n.selected}).map(function(n){return n.value}):e.target.value}function KE(e){var t=e.schema,n=e.id,a=e.options,r=e.value,i=e.required,o=e.disabled,s=e.readonly,l=e.multiple,c=e.autofocus,u=e.onChange,d=e.onBlur,f=e.onFocus,p=e.placeholder,h=a.enumOptions,v=a.enumDisabled,g=l?[]:"";return B.createElement("select",{id:n,multiple:l,className:"form-control",value:typeof r>"u"?g:r,required:i,disabled:o||s,autoFocus:c,onBlur:d&&function(b){var E=wc(b,l);d(n,bc(t,E))},onFocus:f&&function(b){var E=wc(b,l);f(n,bc(t,E))},onChange:function(E){var y=wc(E,l);u(bc(t,y))}},!l&&t.default===void 0&&B.createElement("option",{value:""},p),h.map(function(b,E){var y=b.value,_=b.label,w=v&&v.indexOf(y)!=-1;return B.createElement("option",{key:E,value:y,disabled:w},_)}))}KE.defaultProps={autofocus:!1};function XE(e){var t=e.id,n=e.options,a=e.placeholder,r=e.value,i=e.required,o=e.disabled,s=e.readonly,l=e.autofocus,c=e.onChange,u=e.onBlur,d=e.onFocus,f=function(h){var v=h.target.value;return c(v===""?n.emptyValue:v)};return B.createElement("textarea",{id:t,className:"form-control",value:r||"",placeholder:a,required:i,disabled:o,readOnly:s,autoFocus:l,rows:n.rows,onBlur:u&&function(p){return u(t,p.target.value)},onFocus:d&&function(p){return d(t,p.target.value)},onChange:f})}XE.defaultProps={autofocus:!1,options:{}};function Az(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,e)}function kz(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,oe({type:"url"},e))}function qz(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,oe({type:"number"},e,qE(e.schema)))}function $z(e){var t=e.uiSchema,n=qU(t),a=n.submitText,r=n.norender,i=n.props;return B.createElement("div",null,!r&&B.createElement("button",oe({type:"submit"},i,{className:"btn btn-info"}),a))}var Dz={BaseInput:WE,PasswordWidget:Tz,RadioWidget:YE,UpDownWidget:qz,RangeWidget:Rz,SelectWidget:KE,TextWidget:Az,DateWidget:bz,DateTimeWidget:wz,AltDateWidget:$h,AltDateTimeWidget:HE,EmailWidget:Sz,URLWidget:kz,TextareaWidget:XE,HiddenWidget:Iz,ColorWidget:yz,FileWidget:GE,CheckboxWidget:jE,CheckboxesWidget:QE,SubmitButton:$z};function Fz(){return{fields:fz,widgets:Dz,definitions:{},rootSchema:{},formContext:{}}}function Oz(e){var t=e.errors;return B.createElement("div",{className:"panel panel-danger errors"},B.createElement("div",{className:"panel-heading"},B.createElement("h3",{className:"panel-title"},"Errors")),B.createElement("ul",{className:"list-group"},t.map(function(n,a){return B.createElement("li",{key:a,className:"list-group-item text-danger"},n.stack)})))}var ZE=function(e){xr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.getUsedFormData=function(i,o){if(o.length===0&&typeof i!="object")return i;var s=X1(i,o);return Array.isArray(i)?Object.keys(s).map(function(l){return s[l]}):s},r.getFieldNames=function(i,o){var s=function l(c,u,d){return u===void 0&&(u=[]),d===void 0&&(d=[""]),Object.keys(c).forEach(function(f){if(typeof c[f]=="object"){var p=d.map(function(h){return h+"."+f});c[f].__rjsf_additionalProperties&&c[f].$name!==""?u.push(c[f].$name):l(c[f],u,p)}else f==="$name"&&c[f]!==""&&d.forEach(function(h){h=h.replace(/^\./,"");var v=Z1(o,h);(typeof v!="object"||ib(v))&&u.push(h)})}),u};return s(i)},r.onChange=function(i,o){if(tt(i)||Array.isArray(i)){var s=r.getStateFromProps(r.props,i);i=s.formData}var l=!r.props.noValidate&&r.props.liveValidate,c={formData:i},u=i;if(r.props.omitExtraData===!0&&r.props.liveOmit===!0){var d=ke(r.state.schema,r.state.schema,i),f=Ma(d,"",r.state.schema,i),p=r.getFieldNames(f,i);u=r.getUsedFormData(i,p),c={formData:u}}if(l){var h=r.validate(u),v=h.errors,g=h.errorSchema,b=v,E=g;r.props.extraErrors&&(g=Br(g,r.props.extraErrors,!0),v=ln(g)),c={formData:u,errors:v,errorSchema:g,schemaValidationErrors:b,schemaValidationErrorSchema:E}}else if(!r.props.noValidate&&o){var y=r.props.extraErrors?Br(o,r.props.extraErrors,!0):o;c={formData:u,errorSchema:y,errors:ln(y)}}r.setState(c,function(){return r.props.onChange&&r.props.onChange(r.state)})},r.onBlur=function(){if(r.props.onBlur){var i;(i=r.props).onBlur.apply(i,arguments)}},r.onFocus=function(){if(r.props.onFocus){var i;(i=r.props).onFocus.apply(i,arguments)}},r.onSubmit=function(i){if(i.preventDefault(),i.target===i.currentTarget){i.persist();var o=r.state.formData;if(r.props.omitExtraData===!0){var s=ke(r.state.schema,r.state.schema,o),l=Ma(s,"",r.state.schema,o),c=r.getFieldNames(l,o);o=r.getUsedFormData(o,c)}if(!r.props.noValidate){var u=r.validate(o),d=u.errors,f=u.errorSchema,p=d,h=f;if(Object.keys(d).length>0){r.props.extraErrors&&(f=Br(f,r.props.extraErrors,!0),d=ln(f)),r.setState({errors:d,errorSchema:f,schemaValidationErrors:p,schemaValidationErrorSchema:h},function(){r.props.onError?r.props.onError(d):console.error("Form validation failed",d)});return}}var v,g;r.props.extraErrors?(v=r.props.extraErrors,g=ln(v)):(v={},g=[]),r.setState({formData:o,errors:g,errorSchema:v,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){r.props.onSubmit&&r.props.onSubmit(oe({},r.state,{formData:o,status:"submitted"}),i)})}},r.state=r.getStateFromProps(a,a.formData),r.props.onChange&&!Ut(r.state.formData,r.props.formData)&&r.props.onChange(r.state),r.formElement=null,r}var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(r){var i=this.getStateFromProps(r,r.formData);!Ut(i.formData,r.formData)&&!Ut(i.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(i),this.setState(i)},n.getStateFromProps=function(r,i){var o=this.state||{},s="schema"in r?r.schema:this.props.schema,l="uiSchema"in r?r.uiSchema:this.props.uiSchema,c=typeof i<"u",u="liveValidate"in r?r.liveValidate:this.props.liveValidate,d=c&&!r.noValidate&&u,f=s,p=gl(s,i,f),h=ke(s,f,p),v=r.customFormats,g=r.additionalMetaSchemas,b=function(){return r.noValidate?{errors:[],errorSchema:{}}:r.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}}},E,y,_,w;if(d){var S=this.validate(p,s,g,v);E=S.errors,y=S.errorSchema,_=E,w=y}else{var C=b();E=C.errors,y=C.errorSchema,_=o.schemaValidationErrors,w=o.schemaValidationErrorSchema}r.extraErrors&&(y=Br(y,r.extraErrors,!0),E=ln(y));var x=vn(h,l["ui:rootFieldId"],f,p,r.idPrefix,r.idSeparator),T={schema:s,uiSchema:l,idSchema:x,formData:p,edit:c,errors:E,errorSchema:y,additionalMetaSchemas:g};return _&&(T.schemaValidationErrors=_,T.schemaValidationErrorSchema=w),T},n.shouldComponentUpdate=function(r,i){return qh(this,r,i)},n.validate=function(r,i,o,s){i===void 0&&(i=this.props.schema),o===void 0&&(o=this.props.additionalMetaSchemas),s===void 0&&(s=this.props.customFormats);var l=this.props,c=l.validate,u=l.transformErrors,d=this.getRegistry(),f=d.rootSchema,p=ke(i,f,r);return IE(r,p,c,u,o,s)},n.renderErrors=function(){var r=this.state,i=r.errors,o=r.errorSchema,s=r.schema,l=r.uiSchema,c=this.props,u=c.ErrorList,d=c.showErrorList,f=c.formContext;return i.length&&d!=!1?B.createElement(u,{errors:i,errorSchema:o,schema:s,uiSchema:l,formContext:f}):null},n.getRegistry=function(){var r=Fz(),i=r.fields,o=r.widgets;return{fields:oe({},i,this.props.fields),widgets:oe({},o,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}},n.submit=function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))},n.render=function(){var r=this,i=this.props,o=i.children,s=i.id,l=i.idPrefix,c=i.idSeparator,u=i.className,d=i.tagName,f=i.name,p=i.method,h=i.target,v=i.action,g=i.autocomplete,b=i.autoComplete,E=i.enctype,y=i.acceptcharset,_=i.noHtml5Validate,w=i.disabled,S=i.readonly,C=i.formContext,x=i._internalFormWrapper,T=this.state,R=T.schema,$=T.uiSchema,A=T.formData,I=T.errorSchema,N=T.idSchema,q=this.getRegistry(),F=q.fields.SchemaField,P=x?d:void 0,V=x||d||"form",O=q.widgets.SubmitButton;g&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var z=b||g;return B.createElement(V,{className:u||"rjsf",id:s,name:f,method:p,target:h,action:v,autoComplete:z,encType:E,acceptCharset:y,noValidate:_,onSubmit:this.onSubmit,as:P,ref:function(G){r.formElement=G}},this.renderErrors(),B.createElement(F,{schema:R,uiSchema:$,errorSchema:I,idSchema:N,idPrefix:l,idSeparator:c,formContext:C,formData:A,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:q,disabled:w,readonly:S}),o||B.createElement(O,{uiSchema:$}))},t}(k.Component);ZE.defaultProps={uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:Oz,omitExtraData:!1};Ne.object,Ne.object;const Yd="First line is the columns names.",Kd="Include row metadata (Row Id and Row Version).",os="Comma Separated Values (CSV)",$y="Tab Separated Values (TSV)",Lz={type:"object",properties:{"File Type":{type:"string",oneOf:[{const:os,title:os},{const:$y,title:$y}]},Contents:{type:"array",title:"Contents",items:{type:"string",enum:[Yd,Kd]},uniqueItems:!0}}},Vz={"File Type":{"ui:widget":"radio"},Contents:{"ui:widget":"checkboxes"}},Mz={description:"File is ready for download. Select the download button to download the file.",type:"object"},Bz={},Uz=[Lz,Mz],zz=[Vz,Bz];class ia extends B.Component{constructor(n){super(n);Le(this,"handleSubmit",n=>{this.state.step===0?this.handleDownloadSetup(n):this.onDownload()});Le(this,"handleDownloadSetup",n=>{this.setState({isLoading:!0});const{formData:a}=n,r=a["File Type"],i=a.Contents,{queryBundleRequest:o,getLastQueryRequest:s}=this.props,l=r===os?",":"	",c=i.includes(Yd),u=i.includes(Kd),d=o??s(),f=d.query.sql,p={sql:f,entityId:Jr(f),selectedFacets:d.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:c,includeRowIdAndRowVersion:u,csvTableDescriptor:{separator:l},additionalFilters:d.query.additionalFilters};We.getDownloadFromTableRequest(p,this.context.accessToken).then(h=>{this.setState({isLoading:!1,step:1,data:h})}).catch(h=>{console.log("Error getDownloadFromTableRequest: ",h)})});Le(this,"onDownload",()=>{const{data:n}=this.state;We.getFileHandleByIdURL(n.resultsFileHandleId,this.context.accessToken).then(a=>{window.location.href=a,this.props.onClose()})});Le(this,"handleChange",n=>{const{formData:a}=n;this.setState({formData:a})});this.state={isLoading:!1,step:0,formData:{"File Type":os,Contents:[Yd,Kd]}}}render(){const n={height:50,width:50,backgroundSize:50};return m(vi,{open:!0,onCancel:this.props.onClose,title:"Download query results",content:m(Q,{children:L(ZE,{id:"modal-download-form",schema:Uz[this.state.step],uiSchema:zz[this.state.step],onChange:this.handleChange,formData:this.state.formData,onSubmit:this.handleSubmit,children:[this.state.isLoading&&m("div",{className:"SRC-centerAndJustifyContent",children:L("div",{className:"SRC-center-text",children:[m("p",{children:" Creating the File "}),m("div",{style:n,className:"spinner"}),m("p",{children:" Loading... "})]})}),m(B.Fragment,{})]})}),actions:L(Q,{children:[m(Tt,{variant:"outlined",color:"primary",onClick:this.props.onClose,children:"Cancel"}),m(Tt,{form:"modal-download-form",type:"submit",variant:"contained",color:"primary",children:this.state.step===0?"Next":"Download"})]})})}}Le(ia,"contextType",yi);try{ia.displayName="ModalDownload",ia.__docgenInfo={description:"",displayName:"ModalDownload",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(...args: any[]) => void"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!1,type:{name:"QueryBundleRequest"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}}}}}catch{}function JE(e,t){return`${e}${t}`}function Hz(e,t){const n=window.location.search,a=`${e}=${t}`;return n?n.includes(`${e}=`)?window.location.search.slice(n.indexOf("?")+1).split("&").map(o=>o.split("=")[0]===e?`${a}`:o).join("&"):`${n.substr(1)}&${a}`:a}function Wz(e,t){if(!window.location.search)return;const n=JE(e,t),r=window.location.search.slice(window.location.search.indexOf("?")+1).split("&").filter(i=>i.split("=")[0]===n).map(i=>i.split("=")[1])[0];return r?decodeURIComponent(r):void 0}function jz(e,t,n){const a=t!==void 0?JE(e,t):e,r=Hz(a,n),i=window.location,o=`${i.protocol}//${i.hostname}${i.port?":"+i.port:""}${i.pathname}?${r}`;window.history.replaceState("object or string","Title",o)}function Qz(e,t){const n=Wz(e,t);let a;if(n){const r=JSON.parse(n);r.sql&&(a={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Ns|Is|Ts|ua|ca,entityId:Jr(r.sql),query:r})}return a}function eC(e){const{initQueryRequest:t,componentIndex:n=0,shouldDeepLink:a=!1,onQueryChange:r}=e,[i,o]=k.useState(t);k.useEffect(()=>{const w=Qz("QueryWrapper",n);w&&o(w)},[n]);const s=k.useCallback(()=>Vr(i),[i]),l=k.useCallback(()=>Vr(t),[t]),c=k.useCallback(w=>{let S;typeof w=="function"?S=w(s()):S=w;const C=Vr(S);if(o(C),C.query){const x=JSON.stringify(C.query);if(a){const T=encodeURIComponent(x);jz("QueryWrapper",n,T)}r&&r(x)}},[n,s,r,a]),{entityId:u,versionNumber:d}=k.useMemo(()=>Db(i.query.sql),[i.query.sql]),f=i.query.limit??Rs,p=Math.ceil(((i.query.offset??0)+Number(f))/f),h=k.useCallback(w=>{c(S=>(S.query.limit=w,S))},[c]),v=k.useCallback(w=>{c(S=>(S.query.offset=(w-1)*f,S))},[f,c]),g=k.useCallback(()=>{c(t)},[t,c]);Po(()=>{i!=t&&g()},[t]);const b=k.useCallback(w=>{c(S=>(S.query.selectedFacets=(S.query.selectedFacets??[]).filter(C=>!Pa(C,w)),S))},[c]),E=k.useCallback((w,S)=>{c(C=>(C.query.selectedFacets=(C.query.selectedFacets??[]).map(x=>(Rc(x)&&Pa(x,w)&&(x.facetValues=x.facetValues.filter(T=>T!==S)),x)).filter(x=>Rc(x)?Array.isArray(x.facetValues)&&x.facetValues.length>0:!0),C))},[c]),y=k.useCallback(w=>{c(S=>(S.query.additionalFilters=(S.query.additionalFilters??[]).filter(C=>!Pa(C,w)),S))},[c]),_=k.useCallback((w,S)=>{c(C=>(C.query.additionalFilters=(C.query.additionalFilters??[]).map(x=>((xo(x)||No(x))&&Pa(x,w)&&(x.values=x.values.filter(T=>T!==S)),x)).filter(x=>xo(x)||No(x)?Array.isArray(x.values)&&x.values.length>0:!0),C))},[c]);return{entityId:u,versionNumber:d,getInitQueryRequest:l,getLastQueryRequest:s,setQuery:c,pageSize:f,currentPage:p,setPageSize:h,goToPage:v,resetQuery:g,removeSelectedFacet:b,removeValueFromSelectedFacet:E,removeQueryFilter:y,removeValueFromQueryFilter:_}}function ss(e){const{initQueryRequest:t,onQueryChange:n,onQueryResultBundleChange:a,lockedColumn:r,componentIndex:i,shouldDeepLink:o,onViewSharingSettingsClicked:s}=e,[l,c]=k.useState(void 0),{entityId:u,versionNumber:d,getInitQueryRequest:f,getLastQueryRequest:p,setQuery:h,currentPage:v,pageSize:g,goToPage:b,setPageSize:E,resetQuery:y,removeSelectedFacet:_,removeValueFromSelectedFacet:w,removeQueryFilter:S,removeValueFromQueryFilter:C}=eC({initQueryRequest:t,shouldDeepLink:o,componentIndex:i,onQueryChange:n}),x=k.useMemo(()=>p(),[p]),{data:T,isLoading:R,error:$,isPreviousData:A}=Lb(x,{keepPreviousData:!0},c),I=T==null?void 0:T.responseBody,N=R||A,{data:q}=Si(u,d);Fb(()=>{I&&a&&a(JSON.stringify(I))},[I,a]);const F=I?Vb(I.facets,I.selectColumns):!0,P=k.useMemo(()=>Mb(I,r),[I,r]),V=k.useMemo(()=>{const K=p();return Bb(K.query,r)},[p,r]),O=k.useCallback(K=>{var Y;return((Y=I==null?void 0:I.columnModels)==null?void 0:Y.find(X=>X.name===K))??null},[I==null?void 0:I.columnModels]),z={data:P,currentPage:v,pageSize:g,setPageSize:E,isLoadingNewBundle:N,getLastQueryRequest:p,getInitQueryRequest:f,error:$,entity:q,executeQueryRequest:h,isFacetsAvailable:F,asyncJobStatus:l,goToPage:b,hasResettableFilters:V,removeSelectedFacet:_,removeValueFromSelectedFacet:w,resetQuery:y,removeQueryFilter:S,removeValueFromQueryFilter:C,lockedColumn:r,getColumnModel:O,onViewSharingSettingsClicked:s},{children:j}=e;return m(Go,{queryContext:z,children:m("div",{className:`SRC-wrapper ${N?"SRC-logo-cursor":""} ${F?"has-facets":""}`,children:j})})}try{ss.displayName="QueryWrapper",ss.__docgenInfo={description:"Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\neither `useQueryContext` or `QueryContextConsumer`.",displayName:"QueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}function ls(e){const{initQueryRequest:t,onQueryChange:n,onQueryResultBundleChange:a,lockedColumn:r,componentIndex:i,shouldDeepLink:o,onViewSharingSettingsClicked:s}=e,[l,c]=k.useState(void 0),{entityId:u,versionNumber:d,getInitQueryRequest:f,getLastQueryRequest:p,setQuery:h,resetQuery:v,removeQueryFilter:g,removeValueFromQueryFilter:b,removeSelectedFacet:E,removeValueFromSelectedFacet:y}=eC({initQueryRequest:t,componentIndex:i,shouldDeepLink:o,onQueryChange:n}),_=k.useMemo(()=>p(),[p]),{data:w,hasNextPage:S,fetchPreviousPage:C,fetchNextPage:x,isFetchingNextPage:T,isLoading:R,error:$,isPreviousData:A}=G1(_,{keepPreviousData:!0},c),I=R||A,{data:N}=Si(u,d),[q,F]=k.useState(0);async function P(){if(!S)throw new Error("Called appendNextPageToResults when there is no next page");await x(),F("ALL")}async function V(){if(!S)throw new Error("Called goToNextPage when there is no next page");if(q==="ALL")throw new Error("Cannot go to next page when all pages are displayed");await x(),F(q+1)}const O=q!=="ALL"&&q>0;async function z(){if(q==="ALL")throw new Error("Cannot go to previous page when all pages are displayed");if(!O)throw new Error("Called goToNextPage when there is no next page");await C(),F(q-1)}const j=k.useMemo(()=>{var ve,ne,ce;if(!(w==null||w.pages.length===0||w.pages[0].responseBody==null))return q==="ALL"?{...w==null?void 0:w.pages[0].responseBody,queryResult:{...(ve=w==null?void 0:w.pages[0].responseBody)==null?void 0:ve.queryResult,queryResults:{...(ce=(ne=w==null?void 0:w.pages[0].responseBody)==null?void 0:ne.queryResult)==null?void 0:ce.queryResults,rows:w.pages.flatMap(Ie=>{var be;return(be=Ie.responseBody.queryResult)==null?void 0:be.queryResults.rows})??[]}}}:w==null?void 0:w.pages[q].responseBody},[q,w]);k.useEffect(()=>{j&&a&&a(JSON.stringify(j))},[j,a]);const G=j?Vb(j.facets,j.selectColumns):!0,K=k.useMemo(()=>Mb(j,r),[j,r]),Y=k.useMemo(()=>{const ve=p();return Bb(ve.query,r)},[p,r]),X=k.useCallback(ve=>{var ne;return((ne=j==null?void 0:j.columnModels)==null?void 0:ne.find(ce=>ce.name===ve))??null},[j==null?void 0:j.columnModels]),re={data:K,isLoadingNewPage:T,hasNextPage:!!S,hasPreviousPage:O,isLoadingNewBundle:I,getLastQueryRequest:p,getInitQueryRequest:f,error:$,entity:N,executeQueryRequest:h,isFacetsAvailable:G,asyncJobStatus:l,appendNextPageToResults:P,goToNextPage:V,goToPreviousPage:z,hasResettableFilters:Y,resetQuery:v,removeQueryFilter:g,removeValueFromQueryFilter:b,removeSelectedFacet:E,removeValueFromSelectedFacet:y,lockedColumn:r,getColumnModel:X,onViewSharingSettingsClicked:s},{children:J}=e;return m(Go,{queryContext:re,children:m("div",{className:`SRC-wrapper ${I||T?"SRC-logo-cursor":""} ${G?"has-facets":""}`,children:J})})}try{ls.displayName="InfiniteQueryWrapper",ls.__docgenInfo={description:"Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\neither `useQueryContext` or `QueryContextConsumer`.",displayName:"InfiniteQueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}function Xd(e){const{modifiedDataAccessRequest:t,onHide:n}=e,[a,r]=k.useState(),[i,o]=k.useState(!1),{mutate:s}=J1({onSuccess:()=>{n()},onError:c=>{r({key:"error",message:`Sorry, there is an error in submitting your request. ${c.reason?c.reason+".":" "}Please close this dialog and try again later.`}),o(!0)}});function l(){t&&s(t)}return L(Q,{children:[m(Wa,{children:L(_i,{direction:"row",alignItems:"center",gap:"5px",children:["Save Changes",m(nt,{sx:{flexGrow:1}}),m($s,{onClick:n,children:m(qe,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),L(ja,{children:[m(Pe,{variant:"body1",children:"Would you like to save your recent changes?"}),a&&m(Or,{severity:a.key,children:a.message})]}),L(Tp,{children:[!i&&L(Q,{children:[m(Tt,{variant:"outlined",onClick:n,children:"Cancel"}),m(Tt,{variant:"contained",onClick:()=>{l()},children:"Save changes"})]}),i&&m(Tt,{variant:"contained",onClick:n,children:"Close"})]})]})}try{Xd.displayName="CancelRequestDataAccess",Xd.__docgenInfo={description:"",displayName:"CancelRequestDataAccess",props:{modifiedDataAccessRequest:{defaultValue:null,description:"",name:"modifiedDataAccessRequest",required:!0,type:{name:"Request | Renewal | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Zd(e){const{onHide:t}=e;return L(Q,{children:[m(Wa,{children:L(_i,{direction:"row",alignItems:"center",gap:"5px",children:["Your Data Access Request Has Been Submitted",m(nt,{sx:{flexGrow:1}}),m($s,{onClick:t,children:m(qe,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),m(ja,{children:m(Pe,{variant:"body1",children:"Your data access request been submitted and is currently being reviewed. Please allow for up to 2 weeks for your request to be reviewed and approved."})}),m(Tp,{children:m(Tt,{variant:"contained",onClick:t,children:"Finish"})})]})}try{Zd.displayName="RequestDataAccessSuccess",Zd.__docgenInfo={description:"",displayName:"RequestDataAccessSuccess",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Jd(e){const{accessRequirement:t,entityId:n,onHide:a}=e,{accessToken:r}=$e(),{data:i,isLoading:o}=Ip(String(t.id)),s=i==null?void 0:i.isApproved,[l,c]=k.useState(!1);let u="";window.location.hostname==="www.synapse.org"||window.location.hostname==="staging.synapse.org"?u="Request access":u="Request access via Synapse.org";const d=()=>{window.open(`${ar.PORTAL}#!AccessRequirement:AR_ID=${t.id}&TYPE=ENTITY&ID=${n}`)},f=()=>{d(),a&&a()},p=t.actContactInfo;let h;return r&&!s&&(h=[{variant:"outlined",onClick:f,children:u},{variant:"text",onClick:a,children:"I do not accept"}]),m(Rp,{"data-testid":"UnmanagedACTAccessRequirementItem",status:o?Jt.LOADING:s?Jt.COMPLETE:Jt.LOCKED,actions:h,children:s?L(Q,{children:[L(Pe,{variant:"body1",children:["Your data access request has been approved."," ",m(zt,{role:"button",onClick:()=>c(!l),children:l?"Hide Instructions":"View Instructions"})]}),l&&m(nt,{sx:{my:1},children:m(wt,{markdown:p})})]}):m(wt,{markdown:p})})}try{Jd.displayName="UnmanagedACTAccessRequirementItem",Jd.__docgenInfo={description:`Renders a {@link RequirementItem} for the deprecated {@link ACTAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link ManagedACTAccessRequirementItem }

For {@link SelfSignAccessRequirement } and {@link TermsOfUseAccessRequirement }, see {@link SelfSignAccessRequirementItem }`,displayName:"UnmanagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function ef(e){var g,b,E,y,_,w;const{accessRequirement:t,onHide:n,onRequestAccess:a}=e,{data:r}=zb(t.id.toString()),{data:i,isLoading:o}=Ip(String(t.id)),{mutate:s}=ex({onError:S=>{console.error("Error cancelling data access request",S),d({key:"error",message:L(Q,{children:[m("strong",{children:"Error canceling your data access request."}),m("br",{}),"Please try again later."]})})}}),[l,c]=k.useState(!0),[u,d]=k.useState(),f=((g=i==null?void 0:i.currentSubmissionStatus)==null?void 0:g.state)===xt.APPROVED;let p=m(Q,{});r&&(p=L("div",{children:[m(wt,{wikiId:r.wikiPageId,ownerId:r.ownerObjectId,objectType:r.ownerObjectType}),u&&m(Or,{className:"access-requirement-list-alert",severity:u.key,children:u.message}),((b=i==null?void 0:i.currentSubmissionStatus)==null?void 0:b.state)===xt.SUBMITTED&&m(Or,{className:"access-requirement-list-alert",severity:"info",children:m("strong",{children:"You have submitted a data access request."})}),((E=i==null?void 0:i.currentSubmissionStatus)==null?void 0:E.state)===xt.APPROVED&&m(Or,{className:"access-requirement-list-alert",severity:"success",children:m("strong",{children:"Your data access request has been approved."})}),((y=i==null?void 0:i.currentSubmissionStatus)==null?void 0:y.state)===xt.REJECTED&&m(Or,{className:"access-requirement-list-alert",severity:"error",children:L(Q,{children:[m("strong",{children:"Your data access request has been rejected."}),m("br",{}),(i==null?void 0:i.currentSubmissionStatus.rejectedReason)||""]})}),((_=i==null?void 0:i.currentSubmissionStatus)==null?void 0:_.state)===xt.CANCELLED&&m(Or,{className:"access-requirement-list-alert",severity:"success",children:m("strong",{children:"Your data access request has been canceled."})})]}));const h=[];i&&(i.currentSubmissionStatus==null?(h.push({variant:"outlined",onClick:a,children:"Request access"}),h.push({variant:"text",onClick:n,children:"I do not accept"})):[xt.APPROVED,xt.REJECTED,xt.CANCELLED].includes(i.currentSubmissionStatus.state)?h.push({variant:"outlined",onClick:a,children:"Update Request"}):i.currentSubmissionStatus.state===xt.SUBMITTED&&h.push({variant:"outlined",onClick:()=>{s({submissionId:i.currentSubmissionStatus.submissionId,accessRequirementId:String(t.id)})},children:"Cancel Request"}));let v=Jt.LOADING;if(!o)switch((w=i==null?void 0:i.currentSubmissionStatus)==null?void 0:w.state){case xt.APPROVED:v=Jt.COMPLETE;break;case xt.SUBMITTED:v=Jt.PENDING;break;case xt.REJECTED:case xt.CANCELLED:default:v=Jt.LOCKED}return L(Rp,{"data-testid":"ManagedACTAccessRequirementItem",status:v,actions:h,children:[!f&&m(Q,{children:p}),f&&L(Q,{children:[L(Pe,{variant:"body1",children:["Your data access request has been approved."," ",m(zt,{role:"button",onClick:()=>{c(!l)},children:l?"View Terms":"Hide Terms"})]}),!l&&m(nt,{sx:{my:1},children:p})]})]})}try{ef.displayName="ManagedACTAccessRequirementItem",ef.__docgenInfo={description:`Renders a {@link RequirementItem} for a ManagedACTAccessRequirement, which allows a user to see if they have met the
requirement, and if not, complete a data access request to apply for access.`,displayName:"ManagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"() => void"}}}}}catch{}function tf(e){const{accessRequirement:t,onHide:n}=e,{accessToken:a}=$e(),r=!!a,i=kC(t),{data:o}=_C(),{data:s}=EC(),l=r&&s&&!i&&t.isCertifiedUserRequired&&!s.isCertified,c=r&&s&&!i&&t.isValidatedProfileRequired&&!s.isVerified,{data:u,isLoading:d}=Ip(String(t.id)),f=u==null?void 0:u.isApproved,{data:p}=zb(t.id.toString(),{enabled:!i}),[h,v]=k.useState(!1),{mutate:g,isLoading:b,error:E}=tx({onError:S=>{console.error("Error creating access approval: ",S)}}),y=()=>{const S={requirementId:t==null?void 0:t.id,submitterId:o==null?void 0:o.ownerId,accessorId:o==null?void 0:o.ownerId,state:CC.APPROVED};g(S)};let _=m(Q,{});i?_=m(wt,{markdown:t.termsOfUse}):p&&(_=m(wt,{wikiId:p==null?void 0:p.wikiPageId,ownerId:p==null?void 0:p.ownerObjectId,objectType:p==null?void 0:p.ownerObjectType}));let w;if(a&&!f){let S="I Accept Terms of Use",C=!1;(l||c)&&(C=!0,S=`You must ${l?"be certified":""}${l&&c?" and ":""}${c?"have a validated user profile":""} to accept`),w=[{variant:"outlined",onClick:y,children:S,disabled:b||C},{variant:"text",onClick:n,children:"I do not accept"}]}return L(Rp,{"data-testid":"SelfSignAccessRequirementItem",status:d?Jt.LOADING:f?Jt.COMPLETE:Jt.LOCKED,actions:w,children:[f?L(Q,{children:[L(Pe,{variant:"body1",children:["You have accepted the terms of use."," ",m(zt,{role:"button",onClick:()=>v(!h),children:h?"Hide Terms":"View Terms"})]}),h&&m(nt,{sx:{my:1},children:_})]}):_,E&&m(Or,{severity:"error",children:E.reason})]})}try{tf.displayName="SelfSignAccessRequirementItem",tf.__docgenInfo={description:`Renders a {@link RequirementItem} for an self-sign Access Requirement, including {@link SelfSignAccessRequirement} or
{@link TermsOfUseAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link RequestDataAccess }`,displayName:"SelfSignAccessRequirementItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function rf(e){const{accessRequirement:t,entityId:n,onHide:a,onRequestAccess:r}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":return m(tf,{accessRequirement:t,onHide:a});case"org.sagebionetworks.repo.model.ACTAccessRequirement":return m(Jd,{accessRequirement:t,onHide:a,entityId:n});case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":return m(ef,{accessRequirement:t,onHide:a,entityId:n,onRequestAccess:()=>{r(t)}});default:return console.warn("Unsupported access requirement type:",t.concreteType),m(Q,{})}}try{rf.displayName="AccessRequirementListItem",rf.__docgenInfo={description:"Renders an individual AR item for the AccessRequirementList",displayName:"AccessRequirementListItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"(accessRequirement: ManagedACTAccessRequirement) => void"}}}}}catch{}const Gz=new Set(["org.sagebionetworks.repo.model.SelfSignAccessRequirement","org.sagebionetworks.repo.model.TermsOfUseAccessRequirement","org.sagebionetworks.repo.model.ManagedACTAccessRequirement","org.sagebionetworks.repo.model.ACTAccessRequirement"]),us=or(Pe,{label:"DialogSubsectionHeader"})(({theme:e})=>({marginTop:e.spacing(4),marginBottom:e.spacing(2),paddingBottom:e.spacing(1),fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid",borderColor:e.palette.grey[200]}));us.defaultProps={...us.defaultProps,variant:"h4"};const nf=e=>e.filter(Yz).length>0,Yz=e=>!Gz.has(e.concreteType);function ci(e){var F;const{entityId:t,teamId:n,onHide:a,accessRequirementFromProps:r,renderAsModal:i,numberOfFilesAffected:o,requestObjectName:s}=e,{accessToken:l}=$e(),c=!!l,[u,d]=k.useState(0),[f,p]=k.useState(),[h,v]=k.useState(""),[g,b]=k.useState(),y=Oa({ids:[t],type:"ENTITY_HEADER"}),{data:_}=rx(n,{enabled:!!(!r&&n)}),{data:w}=nx(t,{enabled:!!(!r&&t&&!n)}),C=r??(n?_:w),{data:x}=ax((C??[]).map(P=>String(P.id)),{enabled:!!C,staleTime:1/0}),T=P=>{const{managedACTAccessRequirement:V,step:O,researchProjectId:z,dataAccessRequest:j}=P;V&&p(V),z&&v(z),j&&b(j),d(O)},R=C==null?void 0:C.some(P=>P.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"&&P.isTwoFaRequired),$=C==null?void 0:C.some(P=>(P.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||P.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&P.isCertifiedUserRequired),A=C==null?void 0:C.some(P=>(P.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||P.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&P.isValidatedProfileRequired),I=k.useMemo(()=>{var P;return s||(o?L(Q,{children:[m(qe,{icon:"file",sx:{width:"30px"}})," ",o," ","File(s)"]}):L(Q,{children:[m(qe,{icon:"file",sx:{width:"30px"}})," ",m(zt,{href:`${ar.PORTAL}#!Synapse:${t}`,children:(P=y[0])==null?void 0:P.name})]}))},[t,y,o,s]),N=L(Q,{children:[m(Wa,{children:L(_i,{direction:"row",alignItems:"center",gap:"5px",children:["Data Access Request",m(nt,{sx:{flexGrow:1}}),m($s,{onClick:a,children:m(qe,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),L(ja,{children:[m(us,{sx:{mt:0},children:"What is this request for?"}),m(Pe,{variant:"body1",component:"span",children:I}),m(us,{children:"What do I need to do?"}),m(ux,{}),$&&m(cx,{}),A&&m(dx,{}),R&&m(fx,{}),(F=x==null?void 0:x.map(P=>C.find(V=>P===String(V.id))))==null?void 0:F.map(P=>m(rf,{accessRequirement:P,entityId:t,onHide:a,onRequestAccess:V=>{T({managedACTAccessRequirement:V,step:c?1:4})}},P.id))]})]});let q=N;if(i){switch(u){case 1:q=m(sx,{managedACTAccessRequirement:f,onSave:P=>{T({managedACTAccessRequirement:f,step:2,researchProjectId:P.id})},onHide:a});break;case 2:q=m(lx,{researchProjectId:h,managedACTAccessRequirement:f,entityId:t,onHide:a,onCancel:P=>{T({step:3,dataAccessRequest:P})},onSubmissionCreated:()=>{T({step:5})}});break;case 3:q=m(Xd,{modifiedDataAccessRequest:g,onHide:a});break;case 4:q=L(Q,{children:[m(Wa,{children:"Please Log In"}),m(ja,{className:"AccessRequirementList login-modal ",children:m(ox,{sessionCallback:()=>{window.location.reload()}})})]});break;case 5:q=m(Zd,{onHide:a});break;case 0:q=N;break;default:q=N}return m(jb,{maxWidth:"md",fullWidth:!0,open:!0,onClose:a,children:q})}return m(nt,{children:q})}try{ci.displayName="AccessRequirementList",ci.__docgenInfo={description:`The AccessRequirementListV2 component renders a set of {@link AccessRequirement}s (either pre-defined, or those applied
to an entity, based on provided props).

The component shows the user the approval status of each AR and provides a workflow for accepting the terms of or
creating a submission for any of the Access Requirements.`,displayName:"AccessRequirementList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},teamId:{defaultValue:null,description:"",name:"teamId",required:!1,type:{name:"string"}},accessRequirementFromProps:{defaultValue:null,description:"",name:"accessRequirementFromProps",required:!1,type:{name:"AccessRequirement[]"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},renderAsModal:{defaultValue:null,description:"",name:"renderAsModal",required:!1,type:{name:"boolean"}},numberOfFilesAffected:{defaultValue:null,description:"",name:"numberOfFilesAffected",required:!1,type:{name:"number"}},requestObjectName:{defaultValue:null,description:"",name:"requestObjectName",required:!1,type:{name:"string"}}}}}catch{}try{nf.displayName="checkHasUnsupportedRequirement",nf.__docgenInfo={description:"",displayName:"checkHasUnsupportedRequirement",props:{}}}catch{}const Kz="Requires Acceptance of Data-Specific Terms of Use",Xz="Requires Acceptance of Data-Specific Terms of Use",Zz="Requires Approval of Data-Specific Access Requirements",Jz="Access Restricted",af=({accessRequirementId:e,count:t})=>{const{data:n,isLoading:a}=Hb(e,{useErrorBoundary:!0}),[r,i]=k.useState(!1);let o,s="",l="";if(!a&&n)switch(n.concreteType){case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":o=Kz,s=Pc,l=n.name??"";break;case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":{o=Xz;const c=n;c.isValidatedProfileRequired?s=Cl:c.isCertifiedUserRequired?s=zC:s=Pc,l=n.name??"";break}case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":case"org.sagebionetworks.repo.model.ACTAccessRequirement":o=Zz,s=Cl,l=n.name??"";break;case"org.sagebionetworks.repo.model.LockAccessRequirement":o=Jz,s=Cl,l="Access restricted pending review by Synapse Access and Compliance Team.";break}return L(Q,{children:[m(Qb,{isLoading:a,title:o,description:l,iconType:s,count:t,actionNode:m(la,{variant:"contained",onClick:()=>i(!0),children:"Start"})}),r&&n&&m(ci,{entityId:n.subjectIds[0].id,accessRequirementFromProps:[n],renderAsModal:!0,numberOfFilesAffected:t,onHide:()=>i(!1)})]})};try{af.displayName="MeetAccessRequirementCard",af.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}const eH="Requires Two-Factor Authentication";function of(e){const{accessRequirementId:t,count:n}=e,{data:a,isLoading:r}=Hb(t,{useErrorBoundary:!0}),[i,o]=k.useState(!1);return L(Q,{children:[m(Qb,{isLoading:r,title:eH,iconType:Pc,description:(a==null?void 0:a.name)??"",count:n,actionNode:m(la,{variant:"contained",onClick:()=>o(!0),children:"Start"})}),i&&a&&m(ci,{entityId:a.subjectIds[0].id,accessRequirementFromProps:[a],renderAsModal:!0,numberOfFilesAffected:n,onHide:()=>o(!1)})]})}try{of.displayName="EnableTwoFaRequirementCard",of.__docgenInfo={description:"",displayName:"EnableTwoFaRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}function sf(e){const{action:t,count:n,onViewSharingSettingsClicked:a}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.download.MeetAccessRequirement":return m(af,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);case"org.sagebionetworks.repo.model.download.RequestDownload":return m(U1,{entityId:`syn${t.benefactorId}`,count:n,onViewSharingSettingsClicked:a},t.benefactorId);case"org.sagebionetworks.repo.model.download.EnableTwoFa":return m(of,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);default:return m(Q,{})}}try{sf.displayName="ActionRequiredListItem",sf.__docgenInfo={description:"",displayName:"ActionRequiredListItem",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"Action"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const lf=e=>{const{entityId:t,onViewSharingSettingsClicked:n}=e,{data:a}=Cq(t),r=a==null?void 0:a.actions;return m(Q,{children:r&&r.length>0&&m("div",{className:"EntityActionsRequired",children:r.map((i,o)=>i?m(sf,{action:i,onViewSharingSettingsClicked:n},o):!1)})})};try{lf.displayName="EntityActionsRequired",lf.__docgenInfo={description:"",displayName:"EntityActionsRequired",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const uf=()=>{const{error:e,getLastQueryRequest:t,onViewSharingSettingsClicked:n}=ct(),{entityId:a}=t(),{accessToken:r}=$e();return(e==null?void 0:e.status)==403&&r?m(lf,{entityId:a,onViewSharingSettingsClicked:n}):m(sp,{error:e})};try{uf.displayName="QueryWrapperErrorBanner",uf.__docgenInfo={description:"Error banner that automatically pulls the error from QueryContext.  If 403, shows entity actions required",displayName:"QueryWrapperErrorBanner",props:{}}}catch{}class cs extends B.Component{constructor(n){super(n);Le(this,"searchFormRef");Le(this,"radioFormRef");Le(this,"handleClickOutsideForm",n=>{var a,r;!((a=this.searchFormRef.current)!=null&&a.contains(n==null?void 0:n.target))&&!((r=this.radioFormRef.current)!=null&&r.contains(n==null?void 0:n.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))});Le(this,"search",n=>{var f,p,h,v,g,b;n.preventDefault();const{searchText:a}=this.state;let{columnName:r}=this.state;const{searchable:i,lockedColumn:o}=this.props;if(r==="")if(i)r=i.filter(E=>E!==(o==null?void 0:o.columnName))[0];else{const E=(h=(p=(f=this.props.queryContext)==null?void 0:f.data)==null?void 0:p.columnModels)==null?void 0:h.filter(y=>y.name!==(o==null?void 0:o.columnName)).filter(y=>this.isSupportedColumn(y));r=(E==null?void 0:E[0].name)??""}this.setState({show:!1});const{executeQueryRequest:s,getLastQueryRequest:l}=this.props.queryContext,c=l(),{additionalFilters:u=[]}=c.query,d=u.findIndex(E=>!!(xo(E)||No(E)&&E.columnName===r));if(d===-1){const E=(b=(g=(v=this.props.queryContext)==null?void 0:v.data)==null?void 0:g.columnModels)==null?void 0:b.filter(y=>y.name===r)[0];if(E!=null&&E.columnType.endsWith("_LIST")){const y={columnName:r,function:xC.HAS_LIKE,values:[`%${a}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};u.push(y)}else{const y={columnName:r,operator:NC.LIKE,values:[`%${a}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};u.push(y)}}else u[d].values.push(`%${a}%`);c.query.additionalFilters=u,s(c)});Le(this,"handleChange",n=>{this.setState({searchText:n.currentTarget.value})});Le(this,"isSupportedColumn",n=>{switch(n==null?void 0:n.columnType){case ue.FILEHANDLEID:case ue.ENTITYID:case ue.DATE:case ue.DATE_LIST:case ue.USERID:return!1;default:return!0}});Le(this,"isSupportedColumnAndInProps",n=>{if(this.isSupportedColumn(n)){const{searchable:a}=this.props;return a==null?void 0:a.some(r=>r===(n==null?void 0:n.name))}return!1});this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:this.props.defaultColumn??""},this.searchFormRef=B.createRef(),this.radioFormRef=B.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(n){var a,r,i,o,s;!((a=n.queryVisualizationContext)!=null&&a.topLevelControlsState.showSearchBar)&&((r=this.props.queryVisualizationContext)!=null&&r.topLevelControlsState.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(s=(o=(i=this.searchFormRef)==null?void 0:i.current)==null?void 0:o.querySelector("input"))==null||s.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){var f;const{searchable:n,lockedColumn:a,queryContext:{data:r},queryVisualizationContext:{topLevelControlsState:i,getColumnDisplayName:o}}=this.props,{searchText:s,show:l,columnName:c}=this.state;let u=[];n?u=n.map(p=>{var h;return(h=r==null?void 0:r.columnModels)==null?void 0:h.find(v=>v.name===p)}).filter(this.isSupportedColumnAndInProps).map(p=>p.name):r!=null&&r.columnModels&&(u=(f=r.columnModels)==null?void 0:f.filter(this.isSupportedColumn).map(p=>p.name)),u.length&&(a!=null&&a.columnName)&&(u=u.filter(p=>p!==(a==null?void 0:a.columnName)));const d=i==null?void 0:i.showFacetFilter;return L("div",{className:`QueryWrapperSearchInput ${d?lr:Qt}`,children:[m(bi,{in:i==null?void 0:i.showSearchBar,children:L("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[m("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:m(qe,{icon:"search"})}),m("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:s,type:"text"}),this.state.searchText.length>0&&m("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:m(qe,{icon:"close"})})]})}),m("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:m(z1,{in:l,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:L("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[m("p",{className:"deemphasized",children:m("i",{children:" Search In Field: "})}),u.map((p,h)=>{const v=o(p);return m("div",{className:"radio",children:m("label",{children:L("span",{children:[m("input",{id:p,type:"radio",value:p,checked:c===""&&h===0||c===p,onClick:()=>{var b,E,y;(y=(E=(b=this.searchFormRef)==null?void 0:b.current)==null?void 0:E.querySelector("input"))==null||y.focus(),this.setState({columnName:p})}}),m("span",{children:v})]})})},`search-field-${p}-${h}`)})]})})})]})}}try{cs.displayName="Search",cs.__docgenInfo={description:"",displayName:"Search",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},fullTextSearchHelpURL:{defaultValue:null,description:"",name:"fullTextSearchHelpURL",required:!1,type:{name:"string"}}}}}catch{}const tH="The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients.",rH="https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries",ds=({helpMessage:e=tH,helpUrl:t=rH})=>{const{executeQueryRequest:n,getLastQueryRequest:a}=ct(),{topLevelControlsState:{showSqlEditor:r,showFacetFilter:i}}=lt(),[o,s]=k.useState(""),l=k.useRef(null);k.useEffect(()=>{var d;if(r){const f=a().query.sql;s(f),(d=l.current)==null||d.focus()}},[r,a]);const c=d=>{d.preventDefault();const f=a();f.query.sql=o,f.query.offset=0,f.query.additionalFilters=[],f.query.selectedFacets=[],n(f)},u=d=>{var f;(f=l.current)==null||f.setCustomValidity(""),s(d.currentTarget.value)};return m("div",{className:`QueryWrapperSqlEditorInput ${i?lr:Qt}`,children:m(bi,{in:r,timeout:{enter:300,exit:300},children:L("div",{className:"QueryWrapperSqlEditorInput__helppopoverwrapper",children:[L("form",{className:"QueryWrapperSqlEditorInput__searchbar",onSubmit:c,children:[m(a1,{className:"QueryWrapperSqlEditorInput__searchbar__searchicon"}),m("input",{ref:l,onChange:u,placeholder:"Enter Query",value:o,type:"text"})]}),m("div",{className:"QueryWrapperSqlEditorInput__helppopover",children:m(xn,{markdownText:e,helpUrl:t,placement:"right"})})]})})})};try{ds.displayName="SqlEditor",ds.__docgenInfo={description:"",displayName:"SqlEditor",props:{helpMessage:{defaultValue:{value:"The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:{value:"https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries"},description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}const nH="Sign in",aH=L(Q,{children:[m(Pe,{variant:"smallText1",marginBottom:"10px",children:"Anyone can browse public content on the Synapse website, but in order to download and create content you will need to register for an account using an email address."}),L(Pe,{variant:"smallText1",children:["To find out more see ",m(zt,{href:"https://help.synapse.org/docs/Managing-your-account.2055405596.html",target:"_blank",rel:"noopener noreferrer",children:"User Accounts"}),m("span",{children:" and "}),m(zt,{href:"https://help.synapse.org/docs/Synapse-Governance.2004255211.html",rel:"noopener noreferrer",target:"_blank",children:"Governance Overview"}),"."]})]}),cf=e=>m(gi,{open:!0,title:"Sign In Required",content:aH,onCancel:()=>e.onHide(),onConfirm:()=>e.onHide(),confirmButtonText:nH,confirmButtonClassName:fp});try{cf.displayName="DownloadLoginModal",cf.__docgenInfo={description:"",displayName:"DownloadLoginModal",props:{showModal:{defaultValue:null,description:"",name:"showModal",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const df=({show:e,title:t,onClose:n,pythonNotes:a,pythonCode:r,rNotes:i,rCode:o,cliNotes:s,cliCode:l,helpMarkdown:c,helpUrl:u})=>{let d;l?d="Command Line":r?d="Python":d="R";const[f,p]=k.useState(d),h=L(Pe,{variant:"body1",children:["Installation instructions are available at our"," ",m(zt,{href:"https://help.synapse.org/docs/Installing-Synapse-API-Clients.1985249668.html",target:"_blank",rel:"noopener noreferrer",children:"Synapse API Documentation Site"}),"."]});return m(gi,{open:e,title:t,onCancel:n,onConfirm:n,maxWidth:"md",titleHelpPopoverProps:c?{markdownText:c,helpUrl:u}:void 0,content:L(Q,{children:[m(nt,{sx:{borderBottom:1,borderColor:"divider",marginBottom:4},children:L(mx,{value:f,onChange:(b,E)=>{b.stopPropagation(),p(E)},textColor:"secondary",indicatorColor:"secondary",children:[l&&m(xl,{value:"Command Line",label:"Command Line"}),o&&m(xl,{value:"R",label:"R"}),r&&m(xl,{value:"Python",label:"Python"})]})}),L(nt,{sx:{"& > p":{marginBottom:3}},children:[f==="Command Line"&&L(Q,{children:[m(Pe,{variant:"body1",children:s}),h,L("pre",{children:[" ",l," "]})]}),f==="R"&&L(Q,{children:[m(Pe,{variant:"body1",children:i}),h,m("pre",{children:o})]}),f==="Python"&&L(Q,{children:[m(Pe,{variant:"body1",children:a}),h,m("pre",{children:r})]})]})]})})};try{df.displayName="ProgrammaticInstructionsModal",df.__docgenInfo={description:"Modal used to show programmatic instructions",displayName:"ProgrammaticInstructionsModal",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},pythonNotes:{defaultValue:null,description:"",name:"pythonNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},pythonCode:{defaultValue:null,description:"",name:"pythonCode",required:!1,type:{name:"string"}},rNotes:{defaultValue:null,description:"",name:"rNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rCode:{defaultValue:null,description:"",name:"rCode",required:!1,type:{name:"string"}},cliNotes:{defaultValue:null,description:"",name:"cliNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},cliCode:{defaultValue:null,description:"",name:"cliCode",required:!1,type:{name:"string"}},helpMarkdown:{defaultValue:null,description:"",name:"helpMarkdown",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}function ff({queryBundleRequest:e,onHide:t}){var d;const[n,a]=k.useState("..."),{data:r,isLoading:i,isPreviousData:o}=Lb({...e,partMask:HC},{keepPreviousData:!0,useErrorBoundary:!0}),s=(d=r==null?void 0:r.responseBody)==null?void 0:d.combinedSql,l=i||o;k.useEffect(()=>{if(s&&!l){const f=s.toUpperCase().indexOf("FROM SYN"),p=`SELECT * ${s.substring(f)}`;a(p)}},[s,l]);const c=k.useMemo(()=>n.replace(/(["`])/g,"\\$1"),[n]),u=k.useMemo(()=>n.replace(/"/g,'\\"'),[n]);return m(df,{show:!0,onClose:t,title:"Download Programmatically",cliNotes:m(Q,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${c}"`,rNotes:L(Q,{children:["This R code will download file annotations only. Use"," ",L(zt,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`query <- synTableQuery("${u}")
read.table(query$filepath, sep = ",")`,pythonNotes:L(Q,{children:["This Python code will download file annotations only. Use"," ",m(zt,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`query = syn.tableQuery("${u}")
query.asDataFrame()`})}try{ff.displayName="ProgrammaticTableDownload",ff.__docgenInfo={description:"",displayName:"ProgrammaticTableDownload",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const iH="Add To Download Cart",pf=e=>{const{accessToken:t}=$e(),{entity:n,data:a,getLastQueryRequest:r}=ct(),i=r(),[o,s]=B.useState(!1),[l,c]=B.useState(!1),[u,d]=B.useState(!1),{onDownloadFiles:f,darkTheme:p=!0}=e,h=n&&(Mn(n)&&ZC(n)||Zn(n)),v=n&&Zn(n)&&n.isLatestVersion;return L(B.Fragment,{children:[L(ot,{as:"span",children:[m(wn,{tooltipText:"Download Options",size:"lg",darkTheme:p,icon:"download"}),L(ot.Menu,{className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:[m(ot.Item,{onClick:()=>{c(!0)},children:"Export Table"}),h&&m(yt,{title:v?"A draft version of a dataset cannot be added to the Download Cart":null,placement:"left",enterNextDelay:300,describeChild:!0,children:m(ot.Item,{role:"button",className:v?"ignoreLink":void 0,disabled:v,style:v?{pointerEvents:"auto"}:{},onClick:()=>t?f():s(!0),children:iH})}),m(yt,{title:v?"A draft version of a dataset cannot be downloaded programmatically":null,placement:"left",enterNextDelay:300,describeChild:!0,children:m(ot.Item,{className:v?"ignoreLink":void 0,disabled:v,style:v?{pointerEvents:"auto"}:{},onClick:()=>d(!0),children:"Programmatic Options"})})]})]}),o&&m(cf,{showModal:o,onHide:()=>s(!1)}),l&&m(ia,{onClose:()=>c(!1),queryBundleRequest:i}),u&&a&&m(ff,{onHide:()=>d(!1),queryBundleRequest:i})]})};try{pf.displayName="DownloadOptions",pf.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const oH="addAndRemoveColumns",hf=e=>{const{headers:t,isColumnSelected:n,toggleColumnSelection:a,darkTheme:r}=e,{getColumnDisplayName:i}=lt(),[o,s]=k.useState(!1),l=(c,u,d)=>{d.source==="rootClose"?s(!1):s(!0)};return L(ot,{as:"span",onToggle:(c,u,d)=>l(c,u,d),show:o,drop:"down",children:[m(wn,{tooltipText:"Show/Hide Columns",icon:r?"columnsdark":"columns",darkTheme:r}),m(ot.Menu,{id:`${oH}-dropdown`,className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:t==null?void 0:t.map(c=>{const{name:u}=c,d=n.includes(u),f={width:"11px",marginRight:"10px",visibility:d?void 0:"hidden"},p=d?"SRC-primary-text-color":"";return L(ot.Item,{onClick:()=>a(u),children:[m("span",{className:p,style:f,children:m(qe,{icon:"check",sx:{width:"14px"}})}),i(u)]},u)})})]})};try{hf.displayName="ColumnSelection",hf.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(() => void)"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const sH="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",lH="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.",mf=({entity:e})=>{var r;const t=e&&Zn(e),n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${e.id}${!e.isLatestVersion&&e.versionNumber?`.${e.versionNumber}`:""}`},entityId:e.id,partMask:ca},{data:a}=Ob(n,{enabled:t});if(t&&a&&e){const i=a.queryCount,o=((r=e.items)==null?void 0:r.length)??0;if(i===o)return m(Q,{});const s=o-i;let l="";return e.isLatestVersion?l=sH:l=lH,L(Pe,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[m(mN,{className:"SRC-color-warning",style:{fontSize:"16px"}}),s.toLocaleString()+" Unavailable",m(xn,{className:"SRC-margin-left-5",markdownText:l,placement:"right"})]})}else return m(Q,{})};try{mf.displayName="MissingQueryResultsWarning",mf.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}function uH(e,t){const{accessToken:n}=$e(),a=",",r=!0,i=!1,o=e.query.sql;return async()=>{try{const l=`SELECT CONCAT('drs://repo-prod.prod.sagebase.org/syn', id, '.', currentVersion) AS drs_uri, name as file_name, ${t==null?void 0:t.map(p=>p.name).join(",")} FROM ${o.slice(o.toLowerCase().indexOf("from")+4+1)}`,c={sql:l,entityId:Jr(l),selectedFacets:e.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:r,includeRowIdAndRowVersion:i,csvTableDescriptor:{separator:a},additionalFilters:e.query.additionalFilters},u=await We.getDownloadFromTableRequest(c,n),d=await We.getFileHandleByIdURL(u.resultsFileHandleId,n),f=`https://cavatica.sbgenomics.com/import-redirect/drs/csv/?URL=${encodeURIComponent(d)}`;window.open(f,"_blank")}catch(s){Gr(s.reason,"danger")}}}const vf=e=>L(gx,{...e,height:20,viewBox:"0 0 828 828",children:[m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M431.861 124.107C429.221 125.451 426.3 126.325 423.211 126.618L415.557 269.363C425.193 272.363 432.244 281.226 432.538 291.777L546.545 306.978C547.637 304.478 549.14 302.198 550.968 300.223L431.861 124.107ZM440.166 117.167L559.852 294.141C562.599 293.058 565.591 292.463 568.722 292.463C570.453 292.463 572.141 292.645 573.769 292.99L610.725 206.16C604.806 201.75 600.973 194.698 600.973 186.75C600.973 185.26 601.107 183.801 601.365 182.386L441.299 115.545C440.943 116.102 440.565 116.643 440.166 117.167ZM592.91 316.651C592.91 308.875 589.241 301.955 583.538 297.53L620.577 210.504C622.062 210.789 623.594 210.938 625.161 210.938C626.63 210.938 628.069 210.807 629.466 210.556L731.473 433.838C730.391 434.8 729.396 435.857 728.5 436.997L590.583 327.017C592.076 323.875 592.91 320.361 592.91 316.651ZM583.917 335.473C581.689 337.273 579.135 338.687 576.358 339.61L583.089 517.099C590.244 517.108 596.671 520.225 601.094 525.171L724.074 457.849C723.597 455.954 723.344 453.97 723.344 451.927C723.344 450.256 723.513 448.625 723.836 447.049L583.917 335.473ZM728.974 467.442L606.306 534.593C606.917 536.719 607.244 538.965 607.244 541.287C607.244 548.415 604.161 554.822 599.256 559.249L641.245 621.527C643.538 620.712 645.991 620.232 648.544 620.149L730.593 469.194C730.025 468.637 729.485 468.052 728.974 467.442ZM583.056 565.476C585.404 565.476 587.675 565.141 589.822 564.517L632.158 627.31C631.966 627.503 631.778 627.699 631.594 627.899L410.195 538.521L559.218 545.414C561.176 556.807 571.104 565.476 583.056 565.476ZM398.804 545.534C396.287 548.348 393.122 550.569 389.543 551.963L409.137 701.286C417.873 701.562 425.441 706.471 429.464 713.637L625.468 648.181C625.267 646.925 625.162 645.637 625.162 644.324C625.162 641.892 625.521 639.543 626.189 637.329L398.804 545.534ZM562.043 339.906C563.203 340.239 564.398 340.487 565.622 340.643L572.407 519.563C566.319 522.552 561.672 528.026 559.786 534.662L404.882 527.497C404.474 522.293 402.419 517.552 399.238 513.794L562.043 339.906ZM410.775 316.532C419.563 315.66 426.967 310.086 430.436 302.36L544.551 317.575C544.802 324.26 547.766 330.252 552.374 334.479L390.572 507.295C390.475 507.252 390.377 507.209 390.279 507.167C390.238 507.15 390.198 507.133 390.158 507.116L390.076 507.082C390.033 507.064 389.99 507.046 389.947 507.028L389.865 506.995L389.777 506.959L410.775 316.532ZM379.129 505.281L400.089 315.201C392.761 312.535 387.086 306.428 385.018 298.835L257.588 294.164C256.151 297.414 254.02 300.287 251.382 302.596L371.2 507.193C373.659 506.132 376.329 505.468 379.129 505.281ZM259.627 283.465L384.573 288.044C386.438 277.936 394.588 270.031 404.819 268.531L412.502 125.228C410.883 124.629 409.345 123.86 407.91 122.945L256.526 272.5C258.369 275.76 259.478 279.489 259.627 283.465ZM362.471 513.594L241.899 307.711C240.201 308.179 238.428 308.466 236.602 308.551L212.287 436.373C220.668 440.173 226.498 448.613 226.498 458.415C226.498 459.246 226.456 460.068 226.374 460.879L359.809 517.332C360.578 516.001 361.471 514.75 362.471 513.594ZM398.548 703.346L378.889 553.531C372.829 553.065 367.395 550.367 363.407 546.257L210.476 626.279C210.993 628.246 211.268 630.31 211.268 632.439C211.268 633.973 211.125 635.474 210.852 636.929L387.408 713.365C389.959 708.957 393.861 705.428 398.548 703.346ZM205.482 616.74L357.805 537.036C357.01 534.64 356.58 532.077 356.58 529.415C356.58 528.832 356.601 528.255 356.641 527.683L222.907 471.103C219.186 477.13 212.894 481.402 205.56 482.387L197.048 610.394C200.309 611.871 203.185 614.051 205.482 616.74ZM178.121 458.415C178.121 469.164 185.133 478.276 194.832 481.425L186.398 608.26C184.797 608.304 183.234 608.504 181.725 608.845L94.2764 412.358C95.9686 411.18 97.5031 409.79 98.8419 408.229L179.06 451.717C178.449 453.844 178.121 456.091 178.121 458.415ZM184.274 442.296C188.584 437.476 194.798 434.395 201.734 434.233L226.002 306.661C217.341 302.979 211.268 294.394 211.268 284.389C211.268 275.81 215.734 268.274 222.469 263.98L194.346 201.663C193.431 201.768 192.501 201.822 191.558 201.822C189.935 201.822 188.349 201.662 186.816 201.357L94.3034 372.649C100.563 377.021 104.658 384.279 104.658 392.494C104.658 394.639 104.379 396.719 103.855 398.699L184.274 442.296ZM235.456 260.201C234.505 260.201 233.567 260.256 232.644 260.363L204.526 198.055C211.271 193.763 215.746 186.221 215.746 177.633C215.746 177.057 215.726 176.486 215.687 175.92L399.494 113.808C399.759 114.312 400.042 114.805 400.341 115.286L249.271 264.532C245.355 261.802 240.592 260.201 235.456 260.201ZM172.016 613.512C166.455 617.944 162.891 624.775 162.891 632.439C162.891 645.798 173.72 656.628 187.079 656.628C195.062 656.628 202.141 652.761 206.547 646.798L384.232 723.723C384.191 724.297 384.17 724.877 384.17 725.462C384.17 738.821 395 749.651 408.359 749.651C421.718 749.651 432.547 738.821 432.547 725.462C432.547 724.963 432.532 724.466 432.502 723.974L629.521 658.179C633.894 664.427 641.145 668.513 649.351 668.513C662.71 668.513 673.539 657.683 673.539 644.324C673.539 634.62 667.825 626.25 659.577 622.397L739.776 474.845C742.211 475.669 744.82 476.115 747.533 476.115C760.891 476.115 771.721 465.286 771.721 451.927C771.721 438.568 760.891 427.738 747.533 427.738C745.247 427.738 743.036 428.055 740.94 428.648L639.371 206.326C645.418 201.929 649.35 194.799 649.35 186.75C649.35 173.391 638.52 162.561 625.161 162.561C617.133 162.561 610.018 166.472 605.618 172.493L444.924 105.391C445.034 104.455 445.09 103.503 445.09 102.538C445.09 89.179 434.26 78.3494 420.901 78.3494C407.543 78.3494 396.713 89.179 396.713 102.538C396.713 102.819 396.718 103.099 396.727 103.378L212.553 165.614C208.382 158.343 200.542 153.445 191.558 153.445C178.199 153.445 167.369 164.274 167.369 177.633C167.369 185.513 171.137 192.513 176.97 196.93L84.2531 368.6C83.0204 368.406 81.7569 368.306 80.4698 368.306C67.1108 368.306 56.2812 379.135 56.2812 392.494C56.2812 405.853 67.1108 416.683 80.4698 416.683C81.7672 416.683 83.0407 416.581 84.2827 416.384L172.016 613.512Z",fill:"url(#paint0_linear_271_30503)"}),m("defs",{children:L("linearGradient",{id:"paint0_linear_271_30503",x1:"163.941",y1:"159.14",x2:"682.43",y2:"676.053",gradientUnits:"userSpaceOnUse",children:[m("stop",{stopColor:"#9E5AA4"}),m("stop",{offset:"0.526649",stopColor:"#7387C2"}),m("stop",{offset:"1",stopColor:"#11AADE"})]})})]});try{vf.displayName="Cavatica",vf.__docgenInfo={description:"",displayName:"Cavatica",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).
You can use the \`htmlColor\` prop to apply a color attribute to the SVG element.`,name:"color",required:!1,type:{name:"enum",value:[{value:'"action"'},{value:'"disabled"'},{value:'"info"'},{value:'"warning"'},{value:'"error"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"medium"'},{value:'"large"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:`The shape-rendering attribute. The behavior of the different options is described on the
[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).
If you are having issues with blurry icons you should investigate this prop.`,name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:`Provides a human-readable title for the element that contains it.
https://www.w3.org/TR/SVG-access/#Equivalent`,name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:`Allows you to redefine what the coordinates without units mean inside an SVG element.
For example, if the SVG element is 500 (width) by 200 (height),
and you pass viewBox="0 0 50 20",
this means that the coordinates inside the SVG will go from the top left corner (0,0)
to bottom right (50,20) and each unit will be worth 10px.`,name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}}}catch{}const cH=[{icon:"search",key:"showSearchBar",tooltipText:"Show / Hide Search Bar"},{icon:"chart",key:"showFacetVisualization",tooltipText:"Show / Hide Visualizations"},{icon:"download",key:"showDownloadConfirmation",tooltipText:"Show options for download"},{icon:WC,key:"showSqlEditor",tooltipText:"Show / Hide the Advanced Query Editor"}],fs=e=>{var $;const{name:t,showColumnSelection:n=!1,hideDownload:a=!1,hideVisualizationsControl:r=!1,hideFacetFilterControl:i=!1,hideQueryCount:o=!1,hideSqlEditorControl:s=!0,customControls:l,showExportToCavatica:c=!1}=e,{data:u,entity:d,executeQueryRequest:f,getLastQueryRequest:p,getInitQueryRequest:h,lockedColumn:v}=ct(),g=uH(p(),($=u==null?void 0:u.queryResult)==null?void 0:$.queryResults.headers),{topLevelControlsState:b,setTopLevelControlsState:E,columnsToShowInTable:y,selectedRowIndices:_,setColumnsToShowInTable:w}=lt(),S=A=>{const I={[A]:!b[A]};A==="showSearchBar"&&(I.showDownloadConfirmation=!1),A==="showDownloadConfirmation"&&(I.showSearchBar=!1),E(N=>({...N,...I}))},C=()=>{f(p())},x=k.useMemo(()=>{const A=h();return{sql:A.query.sql,selectedFacets:(A.query.selectedFacets??[]).filter(I=>I.columnName===(v==null?void 0:v.columnName)),additionalFilters:(A.query.additionalFilters??[]).filter(I=>"columnName"in I?I.columnName===(v==null?void 0:v.columnName):!0)}},[h,v==null?void 0:v.columnName]),T=A=>{let I=Vr(y);I.includes(A)?I=I.filter(N=>N!==A):I.push(A),w(I)},R=b==null?void 0:b.showFacetFilter;return m("div",{className:`TopLevelControls ${R?lr:Qt}`,"data-testid":"TopLevelControls",children:L("div",{children:[L("div",{className:"TopLevelControls__querycount",children:[t&&L(Q,{children:[L(Pe,{variant:"sectionTitle",role:"heading",children:[t," ",!o&&m(vx,{query:x,parens:!0})]}),!o&&d&&m(mf,{entity:d})]}),!i&&L("a",{onClick:()=>S("showFacetFilter"),className:"TopLevelControls__querycount__facetFilterLink SRC-no-underline-on-hover",children:[m(Ds,{type:b.showFacetFilter?"close":"filter"}),L("span",{className:"TopLevelControls__querycount__facetFilterLink__text",children:[b.showFacetFilter?"Hide":"Show"," ","filters"]})]})]}),L("div",{className:"TopLevelControls__actions",children:[l&&l.map(A=>L("button",{className:`btn SRC-roundBorder SRC-primary-background-color SRC-whiteText ${A.classNames??""}`,style:{marginRight:"5px"},type:"button",onClick:()=>A.onClick({data:u,selectedRowIndices:_,refresh:C}),children:[A.icon," ",A.buttonText]},A.buttonText)),c&&L(Tt,{variant:"text",onClick:()=>{g()},children:[m(vf,{sx:{mr:1}})," Send to Cavatica"]}),cH.map(A=>{const{key:I,icon:N,tooltipText:q}=A;return I==="showDownloadConfirmation"&&a||I==="showFacetVisualization"&&r||I==="showSqlEditor"&&s?m(B.Fragment,{},I):I==="showDownloadConfirmation"?m(pf,{darkTheme:!0,onDownloadFiles:()=>S(I)},I):m(wn,{tooltipText:q,callbackFn:()=>S(I),darkTheme:!0,icon:N},I)}),n&&m(hf,{headers:u==null?void 0:u.selectColumns,isColumnSelected:y,toggleColumnSelection:T,darkTheme:!0})]})]})})};try{fs.displayName="TopLevelControls",fs.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}}}}}catch{}const di=e=>{const{checked:t=!1,hideLabel:n=!1,isSelectAll:a=!1,disabled:r=!1}=e,[i,o]=k.useState(t),[s]=k.useState(yx("src-checkbox-"));k.useEffect(()=>{o(t)},[t]);const l=u=>{e.onChange(u.target.checked),a&&u.target.checked===!1?o(!0):o(u.target.checked)};let c="checkbox";return e.className&&(c+=` ${e.className}`),L("div",{className:c,onClick:e.onClick,children:[m("input",{"aria-label":e.label,type:"checkbox",checked:i,id:s,onChange:l,disabled:r,"data-testid":e["data-testid"]}),m("label",{htmlFor:s,children:n?m(Q,{}):e.label}),e.children??m(Q,{})]})};try{di.displayName="Checkbox",di.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValue: boolean) => void"}},isSelectAll:{defaultValue:null,description:"",name:"isSelectAll",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: SyntheticEvent<HTMLDivElement, Event>) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const gf=e=>L("svg",{...e,className:`Icon-Plus ${e.className??""}`,width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&m("title",{children:e.title}),m("path",{d:"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z"})]});try{gf.displayName="IconPlus",gf.__docgenInfo={description:"",displayName:"IconPlus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const yf=e=>L("svg",{...e,className:`Icon-Minus ${e.className??""}`,width:"15",height:"2",viewBox:"0 0 15 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&m("title",{children:e.title}),m("path",{d:"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z"})]});try{yf.displayName="IconMinus",yf.__docgenInfo={description:"",displayName:"IconMinus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const ps=({label:e,isCollapsed:t,onClick:n})=>{const{getColumnDisplayName:a}=lt();return L("div",{className:"FacetFilterHeader",children:[m("label",{className:"FacetFilterHeader__label",children:a(e)}),m("button",{className:"FacetFilterHeader__collapseToggleBtn",onClick:()=>n(!t),children:t?m(gf,{className:"icon-plus",title:"Expand Menu"}):m(yf,{className:"icon-minus",title:"Collapse Menu"})})]})};try{ps.displayName="FacetFilterHeader",ps.__docgenInfo={description:"",displayName:"FacetFilterHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(newValue: boolean) => void"}}}}}catch{}function dH(e){return e.replace(/\s/g,"").toLowerCase()}function Dy(e,t=[],n=[],a=[]){const{value:r}=e;let i=r;r===za&&(i=xs);const o=t.find(c=>c.ownerId===r);o&&(i=o?o.userName:`unknown (${r})`);const s=n.find(c=>c.id===r);s&&(i=s?s.name:`unknown (${r})`);const l=a.find(c=>c.id===r);return l!=null&&l.name&&(i=l.name),`${i}`}function fH(e,t,n){const a=[...e.sort((r,i)=>i.count-r.count)];return t||a.length<=n||a.slice(n).find(r=>r.isSelected)?a:a.splice(0,n)}const oa=({facetValues:e,columnModel:t,onClear:n,onChange:a,containerAs:r="Collapsible",dropdownType:i="Icon",collapsed:o=!1})=>{const[s,l]=k.useState(!1),[c,u]=k.useState(o),[d,f]=k.useState(!1),[p,h]=k.useState(!1),[v,g]=k.useState(""),[b,E]=k.useState(e);Po(()=>{E(e)},[e]);const y=5,_=1500,w=B.createRef(),S={};let C;const x=e.filter(O=>O.isSelected).length===0,T=(t==null?void 0:t.columnType)===ue.USERID||(t==null?void 0:t.columnType)===ue.USERID_LIST?e.map(O=>O.value):[],R=Oa({ids:T,type:"USER_PROFILE"}),$=(t==null?void 0:t.columnType)===ue.ENTITYID||(t==null?void 0:t.columnType)===ue.ENTITYID_LIST?e.map(O=>O.value):[],A=Oa({ids:$,type:"ENTITY_HEADER"}),I=(t==null?void 0:t.columnType)===ue.EVALUATIONID?e.map(O=>O.value):[],N=Oa({ids:I,type:"EVALUATION_QUEUE"}),q=O=>{const z=O.target.value;if(g(z),l(!0),!z)e.forEach(j=>{j.isSelected=!1}),E(e);else{const j=e.filter(G=>Dy(G,R,A,N).toLowerCase().indexOf(z.trim().toLowerCase())>-1?G:null);E(j)}};if(!t)return m(Q,{});const F=r==="Dropdown",P=L("div",{className:F?"EnumFacetFilter__dropdown_menu":"",children:[L("div",{className:"EnumFacetFilter__checkboxContainer--forAll",children:[L("div",{className:p?"EnumFacetFilter__search active":"EnumFacetFilter__search",children:[m("button",{className:"EnumFacetFilter__closeSearch",onClick:()=>{E(e),h(!1),l(!1)},children:m("span",{className:"EnumFacetFilter__previous",children:m(qe,{icon:"arrowBack"})})}),v.length>0&&m("button",{className:"EnumFacetFilter__resetSearch",onClick:()=>{var O;g(""),(O=w.current)==null||O.focus()},children:m("span",{className:"EnumFacetFilter__reset",children:m(qe,{icon:"close"})})}),m("input",{type:"text",placeholder:"Find values",value:v,ref:w,onChange:O=>{q(O)}})]}),!p&&L("div",{className:"EnumFacetFilter__checkAll",children:[m(di,{className:"EnumFacetFilter__checkbox",onChange:()=>{n()},checked:x,label:"All",isSelectAll:!0},"select_all"),m("button",{className:"EnumFacetFilter__searchbtn",onClick:()=>{var O;g(""),h(!0),(O=w.current)==null||O.focus()},children:m("span",{className:"EnumFacetFilter__searchicon",children:m(qe,{icon:"search"})})})]})]}),L("div",{children:[b.length>0&&fH(b,s||F,y).map((O,z)=>m(pH,{id:dH(O.value),index:z,label:Dy(O,R,A,N),count:O.count,isDropdown:F,initialIsSelected:O.isSelected,onChange:j=>{S[O.value]=j,clearTimeout(C),C=setTimeout(()=>{a(S),f(!1)},_)}},`checkLabel${z}`)),!F&&L(Q,{children:[!s&&b.length>y&&m("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>l(!0),children:m("div",{className:"EnumFacetFilter__checkboxContainer",children:L("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:["Show all (",b.length,")"]})})}),s&&b.length>y&&m("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>l(!1),children:m("div",{className:"EnumFacetFilter__checkboxContainer",children:m("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:"Show less"})})})]}),b.length<=0&&m("div",{className:"EnumFacetFilter__noMatch",children:"No match found"})]})]}),V=()=>f(!d);return F?i==="SelectBox"?L(ot,{className:"EnumFacetFilter EnumFacetFilterSelect",show:d,onToggle:V,children:[L(ot.Toggle,{className:"secondary-caret",variant:"gray-select",children:[x&&"All",!x&&e.filter(O=>O.isSelected).length===1&&e.filter(O=>O.isSelected)[0].value,!x&&e.filter(O=>O.isSelected).length>1&&"Multiple Values Selected"]}),m(ot.Menu,{children:P})]}):L(ot,{className:"EnumFacetFilter",show:d,onToggle:V,children:[m(wn,{tooltipText:"Filter by specific facet",darkTheme:!1,icon:"filter"},"facetFilterTooltip"),m(ot.Menu,{children:P})]}):L(Q,{children:[m(ps,{isCollapsed:c,label:t.name,onClick:O=>u(O)}),m(bi,{className:"EnumFacetFilter",in:!c,children:P})]})};function pH({id:e,index:t,label:n,count:a,isDropdown:r,initialIsSelected:i,onChange:o}){const[s,l]=k.useState(i);return B.useEffect(()=>{l(i)},[i]),L("div",{className:"EnumFacetFilter__checkboxContainer",onClick:()=>{r&&(l(!s),o(!s))},children:[m(di,{className:"EnumFacetFilter__checkbox",onClick:c=>c.stopPropagation(),onChange:c=>{l(c),o(c)},checked:s,label:n},`${e}-${t}`),r&&L("span",{className:"EnumFacetFilter__count",children:["(",a,")"]}),!r&&m("div",{className:"EnumFacetFilter__count",children:a})]})}try{oa.displayName="EnumFacetFilter",oa.__docgenInfo={description:"*********** QUERY ENUM CONMPONENT  ************",displayName:"EnumFacetFilter",props:{facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"FacetColumnResultValueCount[]"}},columnModel:{defaultValue:null,description:"",name:"columnModel",required:!0,type:{name:"SelectColumn"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(facetNamesMap: Record<string, boolean>) => void"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!0,type:{name:"() => void"}},containerAs:{defaultValue:{value:"Collapsible"},description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:{value:"Icon"},description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const bf=({facet:e,isChecked:t,onClick:n})=>{const{getColumnDisplayName:a}=lt();return L("button",{className:`Chip ${t?"Checked":""}`,onClick:n,children:[a(e.columnName),m(qe,{icon:t?"check":"add",sx:{width:"14px",paddingLeft:"0.2rem"}})]})};try{bf.displayName="FacetChip",bf.__docgenInfo={description:"",displayName:"FacetChip",props:{facet:{defaultValue:null,description:"",name:"facet",required:!0,type:{name:"FacetColumnResult"}},isChecked:{defaultValue:null,description:"",name:"isChecked",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}const wf=e=>{const t="Min value should be less then max value",[n,a]=k.useState(!1),[r,i]=k.useState(()=>e.type==="number"&&e.initialValues?e.initialValues:e.initialValues&&{min:nr(e.initialValues.min).format("YYYY-MM-DD"),max:nr(e.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),o=e.className?`range ${e.className}`:"range",s=({min:c,max:u},d="number")=>{if(c==null||u===null||u===void 0)return a(!1),!0;if(d==="number"){if(Number(c)>Number(u))return a(!0),!1}else if(Date.parse(c)>Date.parse(u))return a(!0),!1;return a(!1),!0},l=(c,u,d="number")=>{s(c,d)&&u(c)};return L("div",{className:o,style:{display:"flex",flexWrap:"wrap"},children:[L("div",{style:{marginRight:"10px"},children:[m("input",{"aria-label":"min",type:e.type,value:r.min,onChange:({target:c})=>i({min:c.value,max:r.max})},"range_min"),m("div",{children:"to"}),m("input",{"aria-label":"max",type:e.type,value:r.max,onChange:({target:c})=>i({min:r.min,max:c.value})},"range_max")]}),m("button",{className:"btn btn-link SRC-noPadding",onClick:()=>l(r,e.onChange,e.type),children:"Apply"}),n&&m("div",{className:"SRC-danger-color",children:e.errorText||t})]})};try{wf.displayName="Range",wf.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}const Sf=({facetResult:e,columnModel:t,onChange:n,collapsed:a=!1})=>{const[r,i]=k.useState(a),o=[{label:xs,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}];let{columnMin:s,columnMax:l,selectedMin:c,selectedMax:u}=e;const d=!c&&!u;c=c||s,u=u||l;const f=t.columnType==="DOUBLE"?"number":"date",p=(E,y)=>y?"":E===za?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE",h=(E,y)=>{g(E),E!=="RANGE"&&y([E,E])},[v,g]=k.useState(p(c,d));return L("div",{children:[m(ps,{isCollapsed:r,label:t.name,onClick:E=>i(E)}),L(bi,{in:!r,children:[m(bx,{value:v,id:"rangeSelector",options:o,onChange:E=>h(E,n)}),v==="RANGE"&&(s===l?m("label",{children:l}):L(Q,{children:[t.columnType==="INTEGER"&&L(wx,{domain:[s,l],initialValues:{min:c,max:u},step:1,doUpdateOnApply:!0,onChange:E=>n([E.min,E.max]),children:[") ",">"]},"RangeSlider"),(t.columnType==="DATE"||t.columnType==="DOUBLE")&&m(wf,{initialValues:{min:c,max:u},type:f,onChange:E=>n([E.min,E.max])},"Range")]}))]})]})};try{Sf.displayName="RangeFacetFilter",Sf.__docgenInfo={description:"",displayName:"RangeFacetFilter",props:{facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:"FacetColumnResultRange"}},columnModel:{defaultValue:null,description:"",name:"columnModel",required:!0,type:{name:"SelectColumn"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(range: (string | number | undefined)[]) => void"}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const tC=e=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:e.columnName,facetValues:e.facetValues.filter(t=>t.isSelected).map(t=>t.value)}),hH=e=>{let t={concreteType:"org.sagebionetworks.repo.model.table.FacetColumnRangeRequest",columnName:e.columnName};return e.columnMin&&(t={...t,min:e.columnMin,max:e.columnMax}),t},Dh=(e,t)=>{var i;const n=((i=t==null?void 0:t.query)==null?void 0:i.selectedFacets)??[],a=n.findIndex(o=>o.columnName===e.columnName),r=e.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest"&&(!e.facetValues||!e.facetValues.length);return a>-1?r?n.splice(a,1):n[a]=e:n.push(e),n};function fi(e,t,n,a,r=!1){a?t.facetValues.forEach(s=>{s.value===a&&(s.isSelected=r)}):t.facetValues.forEach(s=>{s.isSelected=!1});const i=tC(t),o=Dh(i,e);n(o)}const hs=(e,t,n,a)=>{const r=a&&Object.keys(a)||[];r.length&&t.facetValues.forEach(s=>{r.includes(s.value)&&(s.isSelected=a?!!a[s.value]:!1)});const i=tC(t),o=Dh(i,e);n(o)},mH=(e,t,n,a)=>{t.columnMin=a[0],t.columnMax=a[1];const r=hH(t),i=Dh(r,e);n(i)};function ms(e,t){const n=(t??[]).map(a=>a.columnName);return new Set([...e.slice(0,3).map(a=>a.columnName),...n])}function fo(){const e=L(_i,{direction:"row",gap:"10px",sx:{my:1},children:[m(dn,{width:"15px"}),m(dn,{width:"40%"})]});return L(nt,{className:"FacetFilterControls__facet",children:[m(nt,{className:"FacetFilterHeader",children:m(dn,{width:"100%"})}),L(nt,{children:[e,e,e]})]})}function vH(){const{topLevelControlsState:e}=lt(),{showFacetFilter:t}=e;return L("div",{className:`FacetFilterControls ${t?lr:Qt}`,children:[m(fo,{}),m(fo,{}),m(fo,{}),m(fo,{})]})}function _f(e){const{availableFacets:t}=e,{data:n,getLastQueryRequest:a,executeQueryRequest:r}=ct(),i=a(),o=n.facets.filter(h=>t==null||t.includes(h.columnName)).filter(h=>!Ub(h)),[s,l]=B.useState(ms(o,i.query.selectedFacets)),{topLevelControlsState:c}=lt(),{showFacetFilter:u}=c;Fb(()=>{l(ms(o,i.query.selectedFacets))},[o]);const d=n.selectColumns,f=h=>{const v=a();v.query.selectedFacets=h,v.query.offset=0,r(v)},p=h=>{const v=new Set(s);v.has(h.columnName)?v.delete(h.columnName):v.add(h.columnName),l(v)};return L("div",{className:`FacetFilterControls ${u?lr:Qt}`,children:[(o??[]).filter(h=>s.has(h.columnName)).map(h=>{const v=d.find(g=>g.name===h.columnName);return L("div",{className:"FacetFilterControls__facet",children:[h.facetType==="enumeration"&&v&&m(oa,{containerAs:"Collapsible",collapsed:!1,facetValues:h.facetValues,columnModel:v,onChange:g=>hs(i,h,f,g),onClear:()=>fi(i,h,f)}),h.facetType==="range"&&v&&m(Sf,{facetResult:h,columnModel:v,collapsed:!1,onChange:g=>mH(i,h,f,g)})]},h.columnName)}),L("div",{children:[m("div",{className:"AvailableFacet",children:m("label",{className:"AvailableFacet__label",children:"Available Facets"})}),o.map(h=>m(bf,{facet:h,onClick:()=>p(h),isChecked:s.has(h.columnName)},h.columnName))]})]})}function gH(e){const{data:t,isLoadingNewBundle:n}=ct();return n?m(vH,{}):t==null||t.facets==null?m(Q,{}):m(_f,{...e})}try{ms.displayName="getDefaultShownFacetFilters",ms.__docgenInfo={description:`Determines which facet filters should be shown after loading a new bundle. The shown facets will be the first
three available facets, plus any other facets that have a filter applied.`,displayName:"getDefaultShownFacetFilters",props:{}}}catch{}try{_f.displayName="FacetFilterControls",_f.__docgenInfo={description:"",displayName:"FacetFilterControls",props:{availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}}}}}catch{}const yH=qb($b),bH=19,wH=30,SH={showlegend:!1,annotations:[],margin:{l:0,r:0,b:0,t:0,pad:0},yaxis:{visible:!1,showgrid:!1},xaxis:{visible:!1,showgrid:!1}};function rC(e,t){if(!e)return e;const n=e.trim();return n.length>t?n.substr(0,t-1)+"…":e}async function _H(e,t,n,a,r){var h,v;const{colorPalette:i}=_x(n,e.facetValues.length),o=async(g,b,E)=>{const y=new Map;y.set(za,xs);const _=g.map(w=>w.value).filter(w=>w!==za);if(b===ue.ENTITYID||b===ue.ENTITYID_LIST){const w=await We.getEntityHeadersByIds(_,E);for(const S of w.results)y.set(S.id,S.name)}else if(b===ue.USERID||b===ue.USERID_LIST){const w=await We.getGroupHeadersBatch(_,E);for(const S of w.children)y.set(S.ownerId,S.userName)}return g.map(w=>({facet:w,label:s(w,!1,y),truncatedLabel:s(w,!0,y),count:w.count}))},s=(g,b,E)=>{let y=E.get(g.value)??g.value;return b&&(y=rC(y,bH)),y},l=await o(e.facetValues,t,r),c=l.map(g=>g.truncatedLabel),d=e.facetValues.some(g=>g.isSelected)?e.facetValues.map((g,b)=>g.isSelected?i[b]:i[b].replace("rgb(","rgba(").replace(")",", 0.25)")):i,f={values:a==="PIE"?e.facetValues.map(g=>g.count):void 0,labels:l.map(g=>g.label),text:c,x:a==="BAR"?e.facetValues.map(g=>{var b;return((b=l.find(E=>E.facet===g))==null?void 0:b.label)??g.value}):void 0,y:a==="BAR"?e.facetValues.map(g=>g.count):void 0,facetEnumerationValues:e.facetValues.map(g=>g.value),name:e.columnName,hovertemplate:a==="PIE"?"<b>%{text}</b><br>%{value} (%{percent})<br><extra></extra>":"<b>%{text}: </b><br>%{value} <br><extra></extra>",textinfo:"none",type:a==="PIE"?"pie":"bar",pull:a==="PIE"?e.facetValues.map(g=>g.isSelected?.1:0):void 0,marker:{colors:a==="PIE"?d:void 0,color:a==="BAR"?d:void 0}};return{data:[f],labels:l,colors:a==="PIE"?(h=f.marker)==null?void 0:h.colors:(v=f.marker)==null?void 0:v.color}}const EH=(e,t,n)=>{if(e.points&&e.points[0]){const a=e.points[0],r=a.data.facetEnumerationValues[a.pointNumber],i=t.facetValues.find(o=>o.value===r);n(t,i,!i.isSelected)}};function CH(e,t,n){const r=e?e*(t==="BAR"?.8:.6):200;let i=t==="PIE"?r:r/3;return i>n&&(i=n),{width:`${r}px`,height:`${i}px`}}function Ef(e){const{labels:t,colors:n=[],isExpanded:a}=e;if(!t)return m(Q,{});const r=a?Math.min(t.length,9):Math.min(t.length,4);return r===0?m(Q,{}):m("div",{className:`FacetNavPanel__body__legend${a?"--expanded":""}`,children:t.slice(0,r).map((i,o)=>{const s=rC(i.label,wH);return m(wn,{tooltipText:i.label,children:L(nt,{sx:{display:"flex",alignItems:"center",gap:"10px"},children:[m(nt,{sx:{width:"14px",height:"14px",cursor:"default",backgroundColor:n[o]},style:{cursor:"default"}},`legendLabel_${o}`),m(Pe,{variant:"body2",children:s}),m(Pe,{variant:"body2",sx:{color:"grey.600"},children:i.count})]})},i.label)})})}const xH=(e,t)=>e?`FacetNavPanel__body__plot--expanded${t==="BAR"?"Bar":"Pie"}`:"FacetNavPanel__body__plot",vs=e=>{const{onHide:t,isModalView:n,applyChangesToFacetFilter:a,applyChangesToGraphSlice:r,index:i,facetToPlot:o,plotType:s,onSetPlotType:l}=e,{accessToken:c}=$e(),{data:u,isLoadingNewBundle:d,getLastQueryRequest:f}=ct(),{getColumnDisplayName:p}=lt(),[h,v]=k.useState(!1),g=p(o.columnName),b=k.useCallback(()=>{var _,w;return(w=(_=u==null?void 0:u.columnModels)==null?void 0:_.find(S=>S.name===o.columnName))==null?void 0:w.columnType},[u,o.columnName]),{data:E}=sa(["extractPlotDataArray",o,b(),i,s,c],()=>_H(o,b(),i,s,c),{enabled:!!o}),y=()=>L("div",{onClick:_=>{_.stopPropagation()},className:"bootstrap-4-backport SRC-labeled-dropdown",children:[m("span",{className:"SRC-labeled-dropdown__label",children:"Chart Type"}),L(ot,{children:[m(ot.Toggle,{className:"secondary-caret",variant:"gray-select",children:s==="PIE"?"Pie Chart":"Bar Chart"}),L(ot.Menu,{className:"chart-tools",children:[m(ot.Item,{as:"button",onClick:()=>l("BAR"),children:"Bar Chart"}),m(ot.Item,{as:"button",onClick:()=>l("PIE"),children:"Pie Chart"})]})]})]});return!u&&d||!o?m("div",{className:"SRC-loadingContainer SRC-centerContentColumn",children:cp}):L(Q,{children:[m(gi,{open:h,onCancel:()=>v(!1),title:g??"",content:m(vs,{...e,isModalView:!0}),hasCancelButton:!1,confirmButtonText:"Apply Filters",onConfirm:()=>v(!1)}),L("div",{role:"graphics-document",className:`FacetNavPanel${n?"--expanded":""}`,children:[!n&&L("div",{className:"FacetNavPanel__title",children:[!u&&d?m(pn,{width:100}):m("span",{className:"FacetNavPanel__title__name",children:g}),L("div",{className:"FacetNavPanel__title__tools",children:[m(oa,{facetValues:o.facetValues,columnModel:u==null?void 0:u.columnModels.find(_=>_.name===o.columnName),onChange:_=>{hs(f(),o,a,_)},onClear:()=>{fi(f(),o,a)},containerAs:"Dropdown"}),m(wn,{tooltipText:"Expand to large graph",callbackFn:()=>v(!0),className:"SRC-primary-color",darkTheme:!1,icon:"expand"},"expandGraph"),m(wn,{tooltipText:"Hide graph under Show More",callbackFn:()=>t(),className:"SRC-primary-color",darkTheme:!1,icon:"close"},"hideGraph")]})]}),n&&L(Q,{children:[L("div",{className:"bootstrap-4-backport SRC-labeled-dropdown",children:[m("span",{className:"SRC-labeled-dropdown__label",children:"Filter All Data By"}),m(oa,{facetValues:o.facetValues,columnModel:u==null?void 0:u.columnModels.find(_=>_.name===o.columnName),onChange:_=>{hs(f(),o,a,_)},onClear:()=>{fi(f(),o,a)},containerAs:"Dropdown",dropdownType:"SelectBox"}),m(yt,{title:"Selecting items in this dropdown will affect all facets on the Explore page.",children:m(Ex,{className:"SRC-hand-cursor SRC-secondary-text-color"})})]}),m(y,{})]}),L("div",{className:`FacetNavPanel__body${n?"--expanded":""}`,role:"graphics-object",children:[m(Sx.SizeMe,{monitorHeight:!0,noPlaceholder:!0,children:({size:_})=>m("div",{className:xH(n,s),children:m(yH,{layout:SH,data:(E==null?void 0:E.data)??[],style:CH(_.width,s,n?300:150),config:{displayModeBar:!1},onClick:w=>EH(w,o,r)},`${o.columnName}-${s}-${_.width}`)})}),m(Ef,{labels:E==null?void 0:E.labels,colors:E==null?void 0:E.colors,isExpanded:n})]})]})]})};try{Ef.displayName="FacetPlotLegend",Ef.__docgenInfo={description:"",displayName:"FacetPlotLegend",props:{labels:{defaultValue:null,description:"",name:"labels",required:!1,type:{name:"FacetWithLabel[]"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}}}}}catch{}try{vs.displayName="FacetNavPanel",vs.__docgenInfo={description:"",displayName:"FacetNavPanel",props:{applyChangesToGraphSlice:{defaultValue:null,description:"",name:"applyChangesToGraphSlice",required:!0,type:{name:"(facet: FacetColumnResultValues, value: FacetColumnResultValueCount | undefined, isSelected: boolean) => void"}},applyChangesToFacetFilter:{defaultValue:null,description:"",name:"applyChangesToFacetFilter",required:!0,type:{name:"(facets: FacetColumnRequest[]) => void"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},facetToPlot:{defaultValue:null,description:"",name:"facetToPlot",required:!0,type:{name:"FacetColumnResultValues"}},plotType:{defaultValue:null,description:"",name:"plotType",required:!0,type:{name:"enum",value:[{value:'"PIE"'},{value:'"BAR"'}]}},onSetPlotType:{defaultValue:null,description:"",name:"onSetPlotType",required:!0,type:{name:"(plotType: PlotType) => void"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},isModalView:{defaultValue:null,description:"",name:"isModalView",required:!0,type:{name:"boolean"}},onCloseModal:{defaultValue:null,description:"",name:"onCloseModal",required:!1,type:{name:"(() => void)"}}}}}catch{}function NH(e,t,n){const a=t.getColumnModel(e.columnName);return e.values.map(r=>{let i=r;r!=null&&r.startsWith("%")&&(r!=null&&r.endsWith("%"))&&(i=i.substring(1,i.length-1)),i=n.getDisplayValue(i,a.columnType);const o=`${e.columnName}: ${i}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${r}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{t.removeValueFromQueryFilter(e,r)}}})}function IH(e,t){return{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:e.searchExpression,tooltipText:`Text matches: "${e.searchExpression}"`,onRemoveFilter:()=>{t.removeQueryFilter(e)}}}function TH(e,t,n){var a;return xo(e)||No(e)?e.columnName===((a=t.lockedColumn)==null?void 0:a.columnName)?[]:NH(e,t,n):qC(e)?[IH(e,t)]:(console.log("Unknown query filter type",e.concreteType),[])}function RH(e,t,n){var o;if(e.columnName===((o=t.lockedColumn)==null?void 0:o.columnName))return[];const a=t.getColumnModel(e.columnName),{getColumnDisplayName:r,getDisplayValue:i}=n;if(Rc(e))return e.facetValues.map(s=>{const l=i(s,a.columnType);return{key:`facet-${e.concreteType}-${e.columnName}-${s}`,innerText:l,tooltipText:`${r(e.columnName)}: ${l}`,onRemoveFilter:()=>{t.removeValueFromSelectedFacet(e,s)}}});if($C(e)){const s=`${e.min} - ${e.max}`;return[{key:`facet-${e.concreteType}-${e.columnName}-${e.min}-${e.max}`,innerText:s,tooltipText:`${r(e.columnName)}: ${s}`,onRemoveFilter:()=>{t.removeSelectedFacet(e)}}]}else return console.log("Unknown facet type",e.concreteType),[]}function PH(){var s;const e=ct(),t=lt(),{getLastQueryRequest:n}=e,a=n(),r=(((s=a.query)==null?void 0:s.additionalFilters)??[]).flatMap(l=>TH(l,e,t)),i=(a.query.selectedFacets??[]).flatMap(l=>RH(l,e,t)),o=[...r,...i];return m(Q,{children:o.map(l=>{const c=encodeURIComponent(l.key);return k.createElement(Cx,{...l,key:c})})})}function pi(e){const{style:t,frontText:n,endText:a="",hideIfUnfiltered:r=!1}=e,{data:i,isLoadingNewBundle:o,resetQuery:s,error:l,hasResettableFilters:c}=ct(),{topLevelControlsState:u,unitDescription:d}=lt(),f=i==null?void 0:i.queryCount,p=u==null?void 0:u.showFacetFilter,h=c;return l?m(Q,{}):m("div",{className:`TotalQueryResults ${p?lr:Qt} ${c?"hasFilters":""}`,style:t,children:o?m(pn,{width:100}):L(Q,{children:[(c||!r)&&L("div",{className:"TotalQueryResults__topbar",children:[L("span",{className:"SRC-boldText",children:[n," ",f==null?void 0:f.toLocaleString()," ",d," ",a]}),h&&L("a",{onClick:s,className:"TotalQueryResults__topbar__clearall",children:[m(qe,{icon:"deleteSweep"}),"Clear all filters"]})]}),m("div",{className:"TotalQueryResults__selections",children:m(PH,{})})]})})}try{pi.displayName="TotalQueryResults",pi.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"((newFacets: FacetColumnRequest[]) => void)"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}const Sc=2;function _c(e,t){var a;return((a=e==null?void 0:e.facets)==null?void 0:a.filter(r=>r.facetType==="enumeration"&&(!(t!=null&&t.length)||t.indexOf(r.columnName)>-1)&&r.facetValues.length>0&&!Ub(r)))??[]}const Cf=({facetsToPlot:e})=>{const{data:t,getLastQueryRequest:n,isLoadingNewBundle:a,executeQueryRequest:r,error:i,asyncJobStatus:o}=ct(),{topLevelControlsState:s}=lt(),[l,c]=k.useState([]),[u,d]=k.useState(!0),{showFacetVisualization:f,showFacetFilter:p}=s,h=n();k.useEffect(()=>{const R=_c(t,e);R.length!==0&&u&&(c(R.map(($,A)=>({name:$.columnName,isHidden:A>=Sc,plotType:"PIE"}))),d(!1))},[t,u,e]);const v=R=>{c($=>$.map((A,I)=>R?{...A,isHidden:!1}:{...A,isHidden:I>=Sc}))},g=R=>{h.query.selectedFacets=R,h.query.offset=0,r(h)},b=R=>l.find(I=>I.name===R&&I.isHidden===!0)!==void 0,E=k.useMemo(()=>l.find(R=>R.isHidden===!0)?"MORE":l.length<=Sc?"NONE":"LESS",[l]),y=R=>{S(R,"isHidden",!0)},_=(R,$)=>{S(R,"plotType",$)},w=R=>{var A;return((A=l.find(I=>I.name===R))==null?void 0:A.plotType)??"PIE"},S=(R,$,A)=>{c(I=>I.map(N=>N.name===R?{...N,[$]:A}:N))},C=_c(t,e),x=_c(t,e).map((R,$)=>({columnName:R.columnName,colorIndex:$})),T=(h==null?void 0:h.query.selectedFacets)!==void 0&&h.query.selectedFacets.length>0||(h==null?void 0:h.query.additionalFilters)!==void 0&&(h==null?void 0:h.query.additionalFilters.length)>0;return i?m(Q,{}):!t&&a?m("div",{className:"SRC-loadingContainer SRC-centerContentColumn",children:(o==null?void 0:o.progressMessage)&&L("div",{children:[m("span",{className:"spinner"}),o.progressMessage]})}):L(Q,{children:[m(pi,{frontText:"",endText:T?"filtered by":"",hideIfUnfiltered:!0}),C.length>0&&L("div",{className:`FacetNav ${f?"":"hidden"} ${p?lr:Qt} ${E==="LESS"?"less":""}`,children:[m("div",{className:"FacetNav__row",role:"list",children:C.map(R=>{var $;return m("div",{className:"col-sm-12 col-md-4",style:{display:b(R.columnName)?"none":"block"},children:m(vs,{index:($=x.find(A=>A.columnName===R.columnName))==null?void 0:$.colorIndex,onHide:()=>y(R.columnName),plotType:w(R.columnName),onSetPlotType:A=>_(R.columnName,A),facetToPlot:R,applyChangesToFacetFilter:g,applyChangesToGraphSlice:(A,I,N)=>fi(h,A,g,I==null?void 0:I.value,N),isModalView:!1})},R.columnName)})}),E!=="NONE"&&m("div",{className:"FacetNav__showMoreContainer",children:m(la,{variant:"contained",color:"secondary",onClick:()=>v(E==="MORE"),sx:{width:"250px"},children:E==="LESS"?"Hide Charts":"View All Charts"})})]})]})};try{Cf.displayName="FacetNav",Cf.__docgenInfo={description:"",displayName:"FacetNav",props:{facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}}}}}catch{}var AH=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Fy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=String(t).toLowerCase(),i=String(a.getOptionValue(n)).toLowerCase(),o=String(a.getOptionLabel(n)).toLowerCase();return i===r||o===r},Ec={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,a,r){return!(!t||n.some(function(i){return Fy(t,i,r)})||a.some(function(i){return Fy(t,i,r)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function kH(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,a=e.createOptionPosition,r=a===void 0?"last":a,i=e.formatCreateLabel,o=i===void 0?Ec.formatCreateLabel:i,s=e.isValidNewOption,l=s===void 0?Ec.isValidNewOption:s,c=e.getNewOptionData,u=c===void 0?Ec.getNewOptionData:c,d=e.onCreateOption,f=e.options,p=f===void 0?[]:f,h=e.onChange,v=xx(e,AH),g=v.getOptionValue,b=g===void 0?Ix:g,E=v.getOptionLabel,y=E===void 0?Tx:E,_=v.inputValue,w=v.isLoading,S=v.isMulti,C=v.value,x=v.name,T=k.useMemo(function(){return l(_,Qh(C),p,{getOptionValue:b,getOptionLabel:y})?u(_,o(_)):void 0},[o,u,y,b,_,l,p,C]),R=k.useMemo(function(){return(n||!w)&&T?r==="first"?[T].concat(Nl(p)):[].concat(Nl(p),[T]):p},[n,r,w,T,p]),$=k.useCallback(function(A,I){if(I.action!=="select-option")return h(A,I);var N=Array.isArray(A)?A:[A];if(N[N.length-1]===T){if(d)d(_);else{var q=u(_,_),F={action:"create-option",name:x,option:q};h(Nx(S,[].concat(Nl(Qh(C)),[q]),q),F)}return}h(A,I)},[u,_,S,x,T,d,h,C]);return Gh(Gh({},v),{},{options:R,onChange:$})}var qH=k.forwardRef(function(e,t){var n=Rx(e),a=kH(n);return k.createElement(Px,rt({ref:t},a))});const $H=qH,gs=({children:e,...t})=>m(Ax.Control,{...t,className:"form-control",children:e});function ys(e,t){if(e==null)return;const n=t.filter(a=>a.value===e);return n.length>0?n[0]:{value:e,label:e}}const Oy=e=>{const{id:t,options:n,value:a,required:r,disabled:i,readonly:o,multiple:s,autofocus:l,onChange:c,onBlur:u,onFocus:d,placeholder:f}=e,{enumOptions:p}=n;return m($H,{className:"react-select-container",inputId:t,isMulti:s,placeholder:f,value:ys(a,p),"aria-required":r,isDisabled:i||o,autoFocus:l,onBlur:u&&(()=>u(t,a==null?void 0:a.value)),options:p,onFocus:d&&(()=>d(t,a==null?void 0:a.value)),onChange:h=>c(h==null?void 0:h.value),isClearable:!0,components:{Control:gs},formatCreateLabel:h=>`Set to custom value "${h}"`,styles:{control:h=>({...h,border:"unset",borderColor:"unset",boxShadow:"unset","&:hover":{}}),valueContainer:h=>({...h,padding:"0px"})}})};try{ys.displayName="findValueOption",ys.__docgenInfo={description:`react-select's value prop should be an EnumOption (see custom type defined above)

This function finds the enum option that has the corresponding value and returns it.

If value is nullish, this fn returns undefined. If there is no corresponding option, then a new object is returned
where the label and value are set to the provided value.`,displayName:"findValueOption",props:{}}}catch{}try{gs.displayName="Control",gs.__docgenInfo={description:"We want to apply the 'form-control' bootstrap class to react-select's Control component, and the easiest way to do that is to make a custom version",displayName:"Control",props:{}}}catch{}try{Oy.displayName="CustomSelectWidget",Oy.__docgenInfo={description:"Select widget compatible with react-jsonschema-form enumerations",displayName:"CustomSelectWidget",props:{}}}catch{}const xf=({sortConfig:e})=>{const{defaultColumn:t,defaultDirection:n,sortableColumns:a}=e,r=ct(),{getLastQueryRequest:i,executeQueryRequest:o}=r,{getColumnDisplayName:s}=lt(),[l,c]=k.useState(t),[u,d]=k.useState(n),f=a.map(h=>({value:h,label:s(h)})),p=h=>{const v=i();let g="ASC";h===l&&(g=u==="ASC"?"DESC":"ASC");const b=h?[{column:h,direction:g}]:void 0;v.query.sort=b,o(v),c(h),d(g)};return L("div",{className:"QuerySortSelector bootstrap-4-backport",children:[m(Pe,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),m(ix,{className:"react-select-container SRC-inlineBlock",value:ys(l,f),options:f,onChange:h=>p(h==null?void 0:h.value),components:{Control:gs},styles:{control:h=>({...h,marginLeft:"15px"})}})]})};try{xf.displayName="QuerySortSelector",xf.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}}}}}catch{}var br=(e=>(e.CURRENT_WINDOW="_self",e.NEW_WINDOW="_blank",e.PARENT_FRAME="_parent",e.FULL_WINDOW_BODY="_top",e))(br||{});const Ly=e=>{const t=Jr(e.sql),n=Np(e.searchParams,e.sqlOperator),{sortConfig:a,columnAliases:r}=e,i=a?[{column:a.defaultColumn,direction:a.defaultDirection}]:void 0,o={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,query:{sql:e.sql,limit:e.limit??Rs,sort:i,additionalFilters:n},partMask:ua|ca|Ts|lb|Ns|Is|dp|pp};return m(ls,{...e,initQueryRequest:o,children:L(ii,{rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,columnAliases:r,noContentPlaceholderType:e.noContentPlaceholderType??Wr.STATIC,children:[a&&m(xf,{sortConfig:a}),m(Ss,{...e}),m(ni,{children:s=>m(sp,{error:s==null?void 0:s.error})})]})})};try{Ly.displayName="CardContainerLogic",Ly.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}}}}}catch{}const Nf=({type:e,title:t,subTitle:n="",description:a,values:r,secondaryLabelLimit:i,isAlignToLeftNav:o,descriptionConfig:s,href:l,target:c,rgbIndex:u,icon:d})=>{const f=document.querySelector('meta[name="description"]'),[p]=k.useState(document.title),[h]=k.useState(f?f.getAttribute("content"):"");return k.useEffect(()=>(t&&document.title!==t&&(document.title=t),(a||n)&&(f==null||f.setAttribute("content",a||n)),function(){document.title=p,f==null||f.setAttribute("content",h)})),m("div",{className:`SRC-portalCard SRC-portalCardHeader ${o?"isAlignToLeftNav":""}`,children:m("div",{className:"container-fluid container-full-width",children:m("div",{className:"row",children:m("div",{className:"col-md-offset-1 col-md-10",children:L("div",{className:"SRC-portalCardMain",children:[d,L("div",{style:{width:"100%"},children:[L("div",{className:"SRC-cardContent",style:{marginLeft:"15px"},children:[m("div",{className:"SRC-type",children:e}),m("div",{children:m("h3",{className:"SRC-boldText",style:{margin:"none"},children:l?m("a",{target:c,href:l,className:"highlight-link",children:t}):L("span",{children:[" ",t," "]})})}),n&&L("div",{className:"SRC-author",children:[" ",n," "]}),a&&m("span",{className:"SRC-font-size-base",children:s!=null&&s.isMarkdown?m(wt,{markdown:a}):a})]}),m("div",{style:{borderTop:"1px solid rgba(26, 28, 41, 0.2)",marginTop:"15px",paddingTop:"5px"}}),m("div",{className:"SRC-cardContent",children:r&&m(Pp,{isHeader:!0,secondaryLabelLimit:i,values:r})})]})]})})})})})};try{Nf.displayName="HeaderCard",Nf.__docgenInfo={description:"",displayName:"HeaderCard",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:{value:""},description:"",name:"subTitle",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[][]"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Element"}}}}}catch{}const If=e=>{var c;const{fileHandleAssociation:t,showDownloadIcon:n,redirect:a=!1,displayValue:r}=e,{accessToken:i}=$e(),[o,s]=k.useState();k.useEffect(()=>{r===void 0&&(async()=>{const d={requestedFiles:[t],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1};s(await We.getFiles(d,i))})()},[i,r,t]);let l;return o&&(l=(c=o.requestedFiles[0].fileHandle)==null?void 0:c.fileName),L("button",{onClick:()=>{i&&t&&We.getActualFileHandleByIdURL(t.fileHandleId,i,t.associateObjectType,t.associateObjectId,a).then(u=>{window.open(u,"_blank")}).catch(u=>{console.error("Error on retrieving file handle url ",u)})},className:`SRC-primary-text-color ${fp}`,type:"button",style:{padding:0},children:[r??l??t.fileHandleId,n&&m(qe,{icon:"download"})]})};try{If.displayName="FileHandleLink",If.__docgenInfo={description:"",displayName:"FileHandleLink",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"boolean"}},showDownloadIcon:{defaultValue:null,description:"",name:"showDownloadIcon",required:!0,type:{name:"boolean"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}}}}}catch{}const Tf=e=>{const{fileHandleAssociation:{fileHandleId:t,associateObjectId:n,associateObjectType:a}}=e,{accessToken:r}=$e(),[i,o]=k.useState(),{ref:s,inView:l}=da({triggerOnce:!0,rootMargin:"500px 0px"});return k.useEffect(()=>{(()=>{t&&n&&a&&l&&We.getActualFileHandleByIdURL(t,r,a,n,!1).then(u=>{o(u)}).catch(u=>{console.error("Error on retrieving file handle url ",u)})})()},[l,t,n,r,a]),m("span",{ref:s,children:i&&m("img",{src:i,alt:"",className:"ImageFileHandle",loading:"lazy"})})};try{Tf.displayName="ImageFileHandle",Tf.__docgenInfo={description:"",displayName:"ImageFileHandle",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}}}}}catch{}const Fh=400,DH="SRC-short-description",FH="SRC-long-description",Rf=e=>{let t="";const n=e.split(" ");let a=0;for(;t.length<Fh&&a<n.length;)t+=`${n[a]} `,a+=1;return t=t.trim(),{previewText:t}},OH=(e,t,n)=>{let a;return e&&t&&(pb(e)?a={fileHandleId:t,associateObjectId:(e==null?void 0:e.id)??"",associateObjectType:rr.TableEntity}:n&&(a={fileHandleId:t,associateObjectId:n,associateObjectType:rr.FileEntity})),a},gn=({columnName:e,value:t,selectColumns:n,columnModels:a})=>{if(!t)return{str:"",strList:void 0,columnModelType:void 0};const r=(n==null?void 0:n.find(o=>o.name===e))||(a==null?void 0:a.find(o=>o.name===e));if(r==null?void 0:r.columnType.endsWith("_LIST")){let o=t,s;try{return s=JSON.parse(o),o=s.join(", "),{strList:s,str:o,columnModelType:r==null?void 0:r.columnType}}catch(l){console.error("Could not parse multivalue string ",o," caught err ",l)}}return{str:t,columnModelType:r==null?void 0:r.columnType}},LH=(e,t,n)=>(t==null?void 0:t.findIndex(a=>a.name===e))||(n==null?void 0:n.findIndex(a=>a.name===e)),Pf=e=>{const{synapseId:t,version:n}=e;return L("span",{children:[n,"  ",m("a",{target:br.NEW_WINDOW,rel:"noopener noreferrer",href:`${ar.PORTAL}#!Synapse:${t}.${n}`,children:"(Show Version History on Synapse)"})]})},bs=e=>{const{value:t,columnName:n,labelLink:a,selectColumns:r,columnModels:i,isHeader:o,className:s,rowData:l,rowId:c}=e;if(!t)return m("p",{children:t});const{strList:u,str:d,columnModelType:f}=gn({columnName:n,value:t,selectColumns:r,columnModels:i});if(!d)return m("p",{children:d});let p=s;const h={};if(o&&(p=s==null?void 0:s.concat(" ","SRC-lightLink")),f===ue.USERID_LIST&&u)return m("p",{children:u.map((g,b)=>L(B.Fragment,{children:[m(Xn,{ownerId:g,size:Io,className:p}),b<u.length-1&&",  "]},g))});if(f===ue.USERID&&d)return m(Xn,{ownerId:d,size:Io,className:p});if(!a)return d.match(cb)?m("a",{target:br.NEW_WINDOW,rel:"noopener noreferrer",href:`${ar.PORTAL}#!Synapse:${d}`,className:p,children:d}):m("p",{children:d});let v;if(a.isMarkdown)u?v=m("p",{children:u.map((g,b)=>L(B.Fragment,{children:[m(wt,{renderInline:!0,markdown:g},g),b<u.length-1&&",  "]},g))}):v=m(wt,{renderInline:!0,markdown:t});else{const g=u||d.split(",");let b;if("target"in a&&(b=a.target),"linkColumnName"in a){const E=LH(a.linkColumnName,r,i);if(E==null)console.warn(`Could not determine column index of ${a.linkColumnName}`),v=m(Q,{children:t});else{const y=l[E];ib(y)?v=m(Q,{children:t}):v=m("p",{children:g.map((_,w)=>L(B.Fragment,{children:[m("a",{href:y??void 0,target:b??br.NEW_WINDOW,rel:"noopener noreferrer",className:p,style:h,children:_},_),w<g.length-1&&m("span",{style:{marginRight:4},children:", "})]},_))})}}else v=m("p",{children:g.map((E,y)=>{const{baseURL:_,URLColumnName:w,wrapValueWithParens:S}=a,C=a.overrideValueWithRowID?`syn${c}`:E,x=S?`(${C})`:C,T=`/${_}?${w}=${x}`;return L(B.Fragment,{children:[m("a",{href:T,className:p,style:h,target:b??br.CURRENT_WINDOW,children:E},E),y<g.length-1&&m("span",{style:{marginRight:4},children:", "})]},E)})})}return a.tooltipText?m(yt,{title:a.tooltipText,enterNextDelay:300,children:m("span",{children:v})}):v};function VH(e,t,n,a){if(e){if(!t||!n)throw Error("Must specify CardLink and data for linking to work");const{matchColumnName:r,URLColumnName:i,overrideLinkURLColumnName:o,overrideValueWithRowID:s}=e;if(o&&n[o]){const c=n[o],u=t[c];if(u)return u}const l=n[r];if(l===void 0)console.error(`Could not find match for data: ${t} with columnName ${r}`);else{const c=s?`syn${a}`:t[l];if(c)return`/${e.baseURL}?${i}=${c}`}}}function Vy(e,t,n,a,r){e=e.trim();let i=e,o=br.CURRENT_WINDOW;e.match(cb)?i=`${ar.PORTAL}#!Synapse:${e}`:e.match(KC)?(o=br.NEW_WINDOW,i=`https://dx.doi.org/${e}`):t?t&&(i=VH(t,n,a,r)??"",i.includes("/DetailsPage")&&(o=br.NEW_WINDOW)):o=br.NEW_WINDOW;const s=(t==null?void 0:t.target)??o;return{href:i,target:s}}function Af(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:a,descriptionConfig:r}=e;let i=t;r!=null&&r.isMarkdown&&(i=m(wt,{markdown:i}));const o=n||(r==null?void 0:r.showFullDescriptionByDefault);return m("div",{className:o?"":"SRC-hidden",children:m("span",{"data-search-handle":a,className:`SRC-font-size-base ${FH}`,children:i})})}function kf(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:a,descriptionConfig:r,toggleShowMore:i}=e;return r!=null&&r.showFullDescriptionByDefault?m(Q,{}):L("div",{className:n?"SRC-hidden":"",children:[m("span",{"data-search-handle":a,className:`SRC-font-size-base ${DH} SRC-short-description`,children:Rf(t).previewText}),t.length>=Fh&&m("a",{style:{fontSize:"16px",cursor:"pointer",marginLeft:"5px"},className:"highlight-link",onClick:i,children:"...Show More"})]})}class ws extends B.Component{constructor(n){super(n);Le(this,"getCutoff",n=>{let a="";const r=n.split(" ");let i=0;for(;a.length<Fh&&i<r.length;)a+=`${r[i]} `,i+=1;return a=a.trim(),{previewText:a}});Le(this,"toggleShowMore",()=>{this.setState({hasClickedShowMore:!0})});Le(this,"renderTitle",({href:n,target:a,titleSearchHandle:r,title:i})=>n?m("a",{"data-search-handle":r,target:a,href:n,className:"highlight-link",children:i}):L("span",{"data-search-handle":r,children:[" ",i," "]}));this.state={hasClickedShowMore:!1}}render(){var Ie;const{schema:n,data:a,rowId:r,genericCardSchema:i,secondaryLabelLimit:o,selectColumns:s,columnModels:l,iconOptions:c,useTypeColumnForIcon:u=!1,isHeader:d=!1,titleLinkConfig:f,ctaLinkConfig:p,labelLinkConfig:h,descriptionConfig:v,rgbIndex:g,columnIconOptions:b,queryContext:{entity:E},queryVisualizationContext:{getColumnDisplayName:y}}=this.props,_=i,{hasClickedShowMore:w}=this.state,{link:S="",type:C}=_,x=a[n[_.title]];let T=_.subTitle&&a[n[_.subTitle]];T=(_==null?void 0:_.subTitle)&&gn({value:T,columnName:_==null?void 0:_.subTitle,selectColumns:s,columnModels:l}).str;const R=a[n[_.description||""]],$=a[n[_.icon||""]],A=a[n[_.dataTypeIconNames||""]],I=a[n[_.imageFileHandleColumnName||""]],N=l==null?void 0:l.find(be=>_.link===be.name),q=N==null?void 0:N.columnType,F=a[n[S]]||"",{href:P,target:V}=Vy(F,f,a,n,r),O=[],{secondaryLabels:z=[]}=_,j=E&&!pb(E);for(let be=0;be<z.length;be+=1){const ae=z[be];let de=a[n[ae]],we;if(de){if(j&&ae==="currentVersion"){const Qe=a[n.id];de=Pf({synapseId:Qe,version:de}),we="Version"}else{const Qe=h==null?void 0:h.find(Te=>Te.matchColumnName===ae);de=m(bs,{value:de,columnName:ae,labelLink:Qe,isHeader:d,selectColumns:s,columnModels:l,rowData:a}),we=y(ae)}const ie=[we,de,ae];O.push(ie)}}const K=OH(E,I||F,a[n.id]),Y=O.length>0,X={marginTop:d?"0px":void 0,marginBottom:d?"0px":void 0,paddingBottom:Y||I?void 0:"15px"},re=L(Q,{children:[!u&&I&&m("div",{className:"SRC-imageThumbnail",style:{padding:_.thumbnailRequiresPadding?"21px":void 0},children:K&&m(Tf,{fileHandleAssociation:K})}),!u&&!I&&m("div",{className:"SRC-cardThumbnail",children:m(Ds,{iconOptions:c,value:$,type:C})}),u&&m("div",{className:"SRC-cardThumbnail",children:m(qe,{icon:i1[a[n.type]]})})]});if(d)return m(Nf,{descriptionConfig:v,title:x,subTitle:T,description:R,type:C,icon:re,values:O,href:P,target:V,isAlignToLeftNav:!0,secondaryLabelLimit:o,rgbIndex:g});const J=y(_.title),fe=y(_.subTitle),ve=y(_.description);let ne,ce;if(p){const be=a[n[p.link]]||"",{href:ae,target:de}=Vy(be,void 0,a,n,r);ne=ae,ce=de}return L("div",{style:X,className:"SRC-portalCard",children:[L("div",{className:"SRC-portalCardMain",children:[re,L("div",{className:"SRC-cardContent",children:[m("div",{className:"SRC-type",children:C}),((Ie=b==null?void 0:b.columns)==null?void 0:Ie.dataType)&&(A==null?void 0:A.length)&&m("div",{style:{marginTop:"20px"},children:m(kx,{iconConfigs:b.columns.dataType,iconNames:JSON.parse(A),useBackground:!0,useTheme:!0})}),m("div",{children:m("h3",{className:"SRC-boldText SRC-blackText",style:{margin:"none"},children:!f&&q===ue.FILEHANDLEID&&K?m(If,{fileHandleAssociation:K,showDownloadIcon:C!==jC,displayValue:x}):this.renderTitle({href:P,target:V,titleSearchHandle:J,title:x})})}),T&&m("div",{"data-search-handle":fe,className:"SRC-author",children:T}),R&&m(kf,{description:R,hasClickedShowMore:w,descriptionSubTitle:ve,descriptionConfig:v,toggleShowMore:this.toggleShowMore}),R&&m(Af,{description:R,hasClickedShowMore:w,descriptionSubTitle:ve,descriptionConfig:v}),p&&ne&&ce&&m("div",{className:"SRC-portalCardCTALink bootstrap-4-backport",children:m("a",{target:ce,rel:"noopener noreferrer",href:ne,children:p.text})})]})]}),Y&&m(Pp,{isHeader:!1,secondaryLabelLimit:o,values:O,columnIconOptions:b,className:`${I?"hasImage":"hasIcon"}`})]})}}Le(ws,"contextType",yi);try{Af.displayName="LongDescription",Af.__docgenInfo={description:"",displayName:"LongDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}}}}}catch{}try{kf.displayName="ShortDescription",kf.__docgenInfo={description:"",displayName:"ShortDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},toggleShowMore:{defaultValue:null,description:"",name:"toggleShowMore",required:!0,type:{name:"() => void"}}}}}catch{}try{Rf.displayName="getCutoff",Rf.__docgenInfo={description:"",displayName:"getCutoff",props:{}}}catch{}try{gn.displayName="getValueOrMultiValue",gn.__docgenInfo={description:"",displayName:"getValueOrMultiValue",props:{columnName:{defaultValue:null,description:"",name:"columnName",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}}}}}catch{}try{Pf.displayName="VersionLabel",Pf.__docgenInfo={description:"",displayName:"VersionLabel",props:{synapseId:{defaultValue:null,description:"",name:"synapseId",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}}}}}catch{}try{bs.displayName="SynapseCardLabel",bs.__docgenInfo={description:"",displayName:"SynapseCardLabel",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},labelLink:{defaultValue:null,description:"",name:"labelLink",required:!0,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink | undefined"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!0,type:{name:"SelectColumn[] | undefined"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!0,type:{name:"ColumnModel[] | undefined"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}}}}}catch{}try{ws.displayName="GenericCard",ws.__docgenInfo={description:"Renders a card from a table query",displayName:"GenericCard",props:{selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},useTypeColumnForIcon:{defaultValue:null,description:"",name:"useTypeColumnForIcon",required:!1,type:{name:"boolean"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"Record<string, number>"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},tableId:{defaultValue:null,description:"",name:"tableId",required:!0,type:{name:"string | undefined"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}}}}}catch{}class hi extends B.Component{constructor(n){super(n);Le(this,"handleLinkClick",n=>a=>{a.preventDefault(),window.open(`${ar.PORTAL}#!Synapse:${n}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:a,selectColumns:r,columnModels:i,genericCardSchema:o,queryVisualizationContext:{getColumnDisplayName:s}}=this.props,l=n[a.datasetName],c=n[a.summary],u=gn({columnName:"tumorType",value:n[a.tumorType],selectColumns:r,columnModels:i}).str,d=gn({columnName:"diseaseFocus",value:n[a.diseaseFocus],selectColumns:r,columnModels:i}).str,f=n[a.id],p=n[a.fundingAgency],h=n[a.fileCount],v=ab(n[a.fileSize]),g=[["FUNDER",gn({columnName:"fundingAgency",value:p,selectColumns:r,columnModels:i}).str],["SIZE",v],["FILES",h]];if(o&&o.secondaryLabels){const{secondaryLabels:b}=o;for(let E=0;E<b.length;E++){const y=b[E],_=n[a[y]];let w;if(_){w=s(y);const S=[w,_,y];g.push(S)}}}return L("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[L("div",{className:"SRC-cardThumbnail",children:[m(Ds,{type:ub}),m("div",{children:v})]}),L("div",{className:"SRC-cardContent SRC-dataset",children:[m("div",{className:"SRC-type",children:"Dataset "}),m("div",{children:m("h3",{children:m("a",{target:"_self",href:`${ar.PORTAL}#!Synapse:${f}`,children:l})})}),L("div",{className:"SRC-description-dataset",children:[m("p",{className:"SRC-description-text",children:c}),m("div",{className:"SRC-cardAction bootstrap-4-backport",children:m(qx,{className:"SRC-datasetButton",onClick:this.handleLinkClick(f),variant:"secondary",children:"Download Dataset"})})]}),m("div",{className:"SRC-cardAnnotations",children:m(px,{chips:[u,d]})})]}),m(Pp,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:g})]})}}try{hi.displayName="Dataset",hi.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class qf extends B.Component{constructor(n){super(n);Le(this,"handleLinkClick",n=>a=>{a.preventDefault(),window.open(n,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:a}=this.props,r=n[a.organizationName],i=n[a.organizationPath],o=n[a.summary],s=n[a.website],l=n[a.logo];let c=s.replace("https://","");c=c.replace("http://",""),c.charAt(c.length-1)==="/"&&(c=c.substring(0,c.length-1));const u=window.location.hash.substring(1)===i,d={};let f;return u?d.paddingBottom="42px":f=m("div",{className:"SRC-marginAuto SRC-cardAction",children:m(la,{href:i,variant:"contained",color:"secondary",sx:{"&:hover":{color:"common.white"}},children:"View Funded Research"})}),L("div",{className:"SRC-portalCard SRC-typeFunder ",style:d,children:[L("div",{className:"SRC-cardContent",children:[m("div",{className:"SRC-type",children:"Organization"}),l&&m("div",{className:"SRC-cardThumbnail",children:m("img",{alt:"funder logo",className:"SRC-logo",src:l})}),m("div",{children:L("h3",{children:[u&&r,!u&&m("a",{href:i,children:r})]})}),m("div",{className:"SRC-website",children:m("a",{rel:"noopener noreferrer",target:"_blank",href:s,children:c})}),m("div",{className:"SRC-description",children:o})]}),f]})}}try{qf.displayName="Funder",qf.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{hi.displayName="Dataset",hi.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}const $f=({data:e,schema:t})=>{const n=e[t.submitterName],a=e[t.submitterUserId],r=e[t.time],i=e[t.timeUnits],o=e[t.text],s=e[t.tag];return L("div",{className:"SRC-portalCard ObservationCard",children:[L("div",{className:"ObservationCard__submitter",children:[!a&&m("div",{children:n}),a&&m(Xn,{size:"SMALL USER CARD",ownerId:a})]}),r&&L("div",{className:"ObservationCard__time",children:[m(qe,{icon:"time"}),L("span",{children:[`${r} ${i}`,Number(r)>1?"s":""]})]}),m("div",{className:"ObservationCard__text",children:m(hx,{summary:o})}),m("div",{className:"ObservationCard__tags",children:s&&m("span",{className:"SRC-tag",children:s})})]})},Df=()=>L("div",{className:"SRC-portalCard ObservationCard",children:[m("div",{className:"ObservationCard__submitter",children:m("span",{children:m(dn,{width:"100px"})})}),m("div",{className:"ObservationCard__time",children:m(qe,{icon:"time"})}),m("div",{className:"ObservationCard__text",children:m(hp,{numCols:1,numRows:4})}),m("div",{className:"ObservationCard__tags",children:m(dn,{width:"80px"})})]});try{$f.displayName="ObservationCard",$f.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, string>"}}}}}catch{}try{Df.displayName="LoadingObservationCard",Df.__docgenInfo={description:"",displayName:"LoadingObservationCard",props:{}}}catch{}function MH(e){const{propsToPass:t,type:n}=e;switch(n){case ub:return m(hi,{...t});case GC:return m(qf,{...t});case QC:return m(ws,{...t});case Ac:return m($f,{...t});default:return m("div",{})}}const Ss=e=>{const{isHeader:t=!1,unitDescription:n,type:a,isLoading:r,secondaryLabelLimit:i=3,title:o,...s}=e,l=hV(),{NoContentPlaceholder:c}=lt(),{data:u,appendNextPageToResults:d,hasNextPage:f}=l,p=lt(),h=u!=null&&u.queryResult.queryResults.tableId?[u==null?void 0:u.queryResult.queryResults.tableId]:[],v=Oa({ids:h,type:"ENTITY_HEADER"});if(u){if(u&&u.queryResult.queryResults.rows.length===0)return m(c,{})}else return L("div",{children:[r&&a===Ac&&m(Df,{}),r&&a!==Ac&&cp]});const g={};u.queryResult.queryResults.headers.forEach((y,_)=>{g[y.name]=_});const b=f&&m(nt,{display:"flex",justifyContent:"flex-end",children:m(la,{variant:"contained",color:"secondary",size:"large",onClick:()=>{d()},children:"View More"})});let E;if(a===zh){const y=u.queryResult.queryResults.headers.findIndex(w=>w.columnType===ue.USERID);if(y===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const _=u.queryResult.queryResults.rows.map(w=>w.values[y]);E=m($x,{data:u,list:_,size:zh})}else{const y=u.queryResult.queryResults.rows;E=y.length?y.map((_,w)=>{const C={key:JSON.stringify(_.values),type:a,schema:g,isHeader:t,secondaryLabelLimit:i,rowId:_.rowId,data:_.values,selectColumns:u.selectColumns,columnModels:u.columnModels,tableEntityConcreteType:v[0]&&v[0].type,tableId:u==null?void 0:u.queryResult.queryResults.tableId,queryContext:l,queryVisualizationContext:p,...s};return m(MH,{propsToPass:C,type:a},_.rowId??w)}):m(Q,{})}return L("div",{role:"list",children:[o&&m("h2",{className:"SRC-card-overview-title",children:o}),!o&&n&&m(pi,{frontText:"Displaying"}),E,b]})};try{Ss.displayName="CardContainer",Ss.__docgenInfo={description:"",displayName:"CardContainer",props:{isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}}}}}catch{}var nC={exports:{}};(function(e,t){(function(a,r){e.exports=r()})(Qr,()=>(()=>{var n={887:o=>{o.exports=function(l){for(var c=5381,u=l.length;u;)c=33*c^l.charCodeAt(--u);return c>>>0}}},a={};function r(o){var s=a[o];if(s!==void 0)return s.exports;var l=a[o]={exports:{}};return n[o](l,l.exports,r),l.exports}r.n=o=>{var s=o&&o.__esModule?()=>o.default:()=>o;return r.d(s,{a:s}),s},r.d=(o,s)=>{for(var l in s)r.o(s,l)&&!r.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},r.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var i={};return(()=>{r.r(i),r.d(i,{default:()=>g});var o=r(887),s=r.n(o);function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(b)}function c(b,E){for(var y=0;y<E.length;y++){var _=E[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,p(_.key),_)}}function u(b,E,y){return E&&c(b.prototype,E),y&&c(b,y),Object.defineProperty(b,"prototype",{writable:!1}),b}function d(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function f(b,E,y){return(E=p(E))in b?Object.defineProperty(b,E,{value:y,enumerable:!0,configurable:!0,writable:!0}):b[E]=y,b}function p(b){var E=function(_,w){if(l(_)!=="object"||_===null)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var C=S.call(_,w||"default");if(l(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(_)}(b,"string");return l(E)==="symbol"?E:String(E)}var h,v=(h=0,function(){return h++}),g=u(function b(E){var y=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d(this,b),f(this,"ID","id"),f(this,"PX","px"),f(this,"RESIZABLE","grip-resizable"),f(this,"FLEX","grip-flex"),f(this,"legacyIE",navigator.userAgent.indexOf("Trident/4.0")>0),f(this,"reset",function(w){return y.init(w)}),f(this,"onResize",function(){var w=y.tb;if(w.classList.remove(y.RESIZABLE),w.opt.fixed){w.tableWidth=Number(window.getComputedStyle(w).width.replace(/px/,"")).valueOf();for(var S=0,C=0;C<w.columnCnt;C++)S+=w.columns[C].w;for(var x=0;x<w.columnCnt;x++)w.columns[x].style.width=Math.round(1e3*w.columns[x].w/S)/10+"%",w.columns[x].locked=!0,w.opt.currentWidths[x]=Number(window.getComputedStyle(w.columns[x]).width.replace(/px/,"")).valueOf()}else y.applyBounds(),w.opt.resizeMode==="flex"&&w.opt.serialize&&y.serializeStore();w.classList.add(y.RESIZABLE),y.syncGrips()}),f(this,"onGripMouseDown",function(w){var S=w.target.parentNode.data,C=y.tb,x=C.grips[S.i],T=w.touches;if(x.ox=T?T[0].pageX:w.pageX,x.l=x.offsetLeft,x.x=x.l,y.createStyle(document.querySelector("head"),"*{cursor:"+C.opt.dragCursor+"!important}"),document.addEventListener("touchmove",y.onGripDrag),document.addEventListener("mousemove",y.onGripDrag),document.addEventListener("touchend",y.onGripDragOver),document.addEventListener("mouseup",y.onGripDragOver),x.classList.add(C.opt.draggingClass),y.grip=x,C.columns[S.i].locked)for(var R,$=0;$<C.columnCnt;$++)(R=C.columns[$]).locked=!1,R.w=Number(window.getComputedStyle(R).width.replace(/px/,"")).valueOf();w.preventDefault()}),f(this,"onGripDrag",function(w){var S=y.grip;if(S){var C=S.t,x=w.touches,T=(x?x[0].pageX:w.pageX)-S.ox+S.l,R=C.opt.minWidth,$=S.i,A=1.5*C.cellSpace+R+C.borderSpace,I=$===C.columnCnt-1,N=$?C.grips[$-1].offsetLeft+C.cellSpace+R:A,q=C.opt.fixed?$===C.columnCnt-1?C.tableWidth-A:C.grips[$+1].offsetLeft-C.cellSpace-R:1/0;if(T=Math.max(N,Math.min(q,T)),S.x=T,S.style.left=T+y.PX,I&&(S.w=C.columns[$].w+T-S.l),C.opt.liveDrag){I?(C.columns[$].style.width=S.w+y.PX,!C.opt.fixed&&C.opt.overflow?C.style.minWidth=C.tableWidth+T-S.l+y.PX:C.tableWidth=Number(window.getComputedStyle(C).width.replace(/px/,"")).valueOf()):y.syncCols(C,$,!1,C.opt),y.syncGrips();var F=C.opt.onDrag;F&&F(w)}w.preventDefault()}}),f(this,"onGripDragOver",function(w){var S=y.grip;document.removeEventListener("touchend",y.onGripDragOver),document.removeEventListener("mouseup",y.onGripDragOver),document.removeEventListener("touchmove",y.onGripDrag),document.removeEventListener("mousemove",y.onGripDrag);var C=document.querySelector("head").lastChild;if(C.parentNode.removeChild(C),S){if(S.classList.remove(S.t.opt.draggingClass),S.x-S.l!=0){var x=S.t,T=x.opt.onResize,R=S.i;if(R===x.columnCnt-1){var $=x.columns[R];$.style.width=S.w+y.PX,$.w=S.w}else y.syncCols(x,R,!0,x.opt);x.opt.fixed||y.applyBounds(),y.syncGrips(),T&&T(w),x.opt.serialize&&y.serializeStore()}y.grip=null}}),f(this,"init",function(w){if(w.disable)return y.destroy();var S=y.tb,C=S.getAttribute(y.ID)||y.RESIZABLE+v();if(!S.matches("table")||S.extended&&!w.partialRefresh)return null;var x=document.querySelector("head");if(y.createStyle(x," .grip-resizable{table-layout:fixed;} .grip-resizable > tbody > tr > td, .grip-resizable > tbody > tr > th{overflow:hidden} .grip-padding > tbody > tr > td, .grip-padding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .grip-container{ height:0px; position:relative;} .grip-handle{margin-left:-5px; position:absolute; z-index:5; } .grip-handle .grip-resizable{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .grip-lastgrip{position:absolute; width:1px; } .grip-drag{ border-left:1px dotted black;	} .grip-flex{width:auto!important;} .grip-handle.grip-disabledgrip .grip-resizable{cursor:default; display:none;}"),w.hoverCursor&&w.hoverCursor!=="col-resize"){var T=".grip-handle .grip-resizable:hover{cursor:"+w.hoverCursor+"!important}";y.createStyle(x,T)}S.setAttribute(y.ID,C);var R=S.opt;S.opt=y.extendOptions(w);var $=y.getTableHeaders(S);if(y.extendTable($),w.remoteTable&&w.remoteTable.matches("table")){var A=y.getTableHeaders(S.opt.remoteTable);$.length===A.length?y.extendRemoteTable(S.opt.remoteTable,A,S):console.warn("column count for remote table did not match")}return R}),f(this,"applyBounds",function(){var w=y.tb,S=w.columns.map(function(C){return window.getComputedStyle(C).width});w.style.width=window.getComputedStyle(w).width,w.tableWidth=Number(w.style.width.replace(/px/,"")).valueOf(),w.classList.remove(y.FLEX),w.columns.forEach(function(C,x){C.style.width=S[x];var T=Number(S[x].replace(/px/,"")).valueOf();C.w=T,w.opt.currentWidths[x]=T}),w.classList.add(y.FLEX)}),f(this,"serializeStore",function(){var w=y.store,S=y.tb;w[S.getAttribute(y.ID)]="";for(var C=0,x=0;x<S.columns.length;x++){var T=window.getComputedStyle(S.columns[x]).width.replace(/px/,"");w[S.getAttribute(y.ID)]+=T+";",C+=Number(T).valueOf()}w[S.getAttribute(y.ID)]+=C.toString(),S.opt.fixed||(w[S.getAttribute(y.ID)]+=";"+window.getComputedStyle(S).width.replace(/px/,""))}),f(this,"syncGrips",function(){var w=y.tb;w.gripContainer.style.width=w.tableWidth+y.PX;for(var S=0;S<w.columnCnt;S++){var C=w.columns[S],x=C.getBoundingClientRect(),T=w.getBoundingClientRect();w.grips[S].style.left=x.left-T.left+C.offsetWidth+w.cellSpace/2+y.PX,w.grips[S].style.height=(w.opt.headerOnly?w.columns[0].offsetHeight:w.offsetHeight)+y.PX}}),f(this,"destroy",function(){var w=y.tb,S=w.getAttribute(y.ID);return S?(y.store[S]="",w.classList.remove(y.RESIZABLE),w.classList.remove(y.FLEX),w.remote&&(w.remote.classList.remove(y.RESIZABLE),w.remote.classList.remove(y.FLEX)),w.gripContainer&&w.gripContainer.parentNode&&w.gripContainer.parentNode.removeChild(w.gripContainer),delete w.extended,w.opt):null}),f(this,"createStyle",function(w,S){var C=s()(S).toString(),x=w.querySelectorAll("style"),T=Array.from(x).filter(function($){return $.gripid===C});if(!T.length){var R=document.createElement("style");R.type="text/css",R.gripid=C,R.styleSheet?R.styleSheet.cssText=S:R.appendChild(document.createTextNode(S)),w.appendChild(R)}}),f(this,"extendOptions",function(w){var S=Object.assign({},b.DEFAULTS,w);switch(S.fixed=!0,S.overflow=!1,S.resizeMode){case"flex":S.fixed=!1;break;case"overflow":S.fixed=!1,S.overflow=!0}return S}),f(this,"getTableHeaders",function(w){var S="#"+w.id,C=Array.from(w.querySelectorAll(S+">thead>tr:nth-of-type(1)>th"));return(C=C.concat(Array.from(w.querySelectorAll(S+">thead>tr:nth-of-type(1)>td")))).length||(C=(C=(C=(C=Array.from(w.querySelectorAll(S+">tbody>tr:nth-of-type(1)>th"))).concat(Array.from(w.querySelectorAll(S+">tr:nth-of-type(1)>th")))).concat(Array.from(w.querySelectorAll(S+">tbody>tr:nth-of-type(1)>td")))).concat(Array.from(w.querySelectorAll(S+">tr:nth-of-type(1)>td")))),y.filterInvisible(C,!1)}),f(this,"filterInvisible",function(w,S){return w.filter(function(C){var x=S?-1:C.offsetWidth,T=S?-1:C.offsetHeight;return!(x===0&&T===0||C.style&&C.style.display&&window.getComputedStyle(C).display==="none")})}),f(this,"extendTable",function(w){var S=y.tb;S.opt.removePadding&&S.classList.add("grip-padding"),S.classList.add(y.RESIZABLE),S.insertAdjacentHTML("beforebegin",'<div class="grip-container"/>'),S.grips=[],S.columns=[],S.tableWidth=Number(window.getComputedStyle(S).width.replace(/px/,"")).valueOf(),S.gripContainer=S.previousElementSibling,S.opt.marginLeft&&(S.gripContainer.style.marginLeft=S.opt.marginLeft),S.opt.marginRight&&(S.gripContainer.style.marginRight=S.opt.marginRight),S.cellSpace=parseInt(y.legacyIE?S.cellSpacing||S.currentStyle.borderSpacing:window.getComputedStyle(S).borderSpacing.split(" ")[0].replace(/px/,""))||2,S.borderSpace=parseInt(y.legacyIE?S.border||S.currentStyle.borderLeftWidth:window.getComputedStyle(S).borderLeftWidth.replace(/px/,""))||1,S.extended=!0,y.createGrips(w)}),f(this,"extendRemoteTable",function(w,S,C){C.opt.removePadding&&w.classList.add("grip-padding"),w.classList.add(y.RESIZABLE),w.getAttribute(y.ID)||w.setAttribute(y.ID,C.getAttribute(y.ID)+"remote"),w.columns=[],S.forEach(function(T,R){var $=S[R];$.w=C.columns[R].w,$.style.width=$.w+y.PX,$.removeAttribute("width"),w.columns.push($)}),w.tableWidth=C.tableWidth,w.cellSpace=C.cellSpace,w.borderSpace=C.borderSpace;var x=Array.from(w.querySelectorAll("col"));w.columnGrp=y.filterInvisible(x,!0),w.columnGrp.forEach(function(T,R){T.removeAttribute("width"),T.style.width=C.columnGrp[R].style.width}),C.remote=w}),f(this,"createGrips",function(w){var S=y.tb;S.columnGrp=y.filterInvisible(Array.from(S.querySelectorAll("col")),!0),S.columnGrp.forEach(function(T){T.removeAttribute("width")}),S.columnCnt=w.length;var C=!1;y.store[S.getAttribute(y.ID)]&&(y.deserializeStore(w),C=!0),w.forEach(function(T,R){var $=w[R],A=S.opt.disabledColumns.indexOf(R)!==-1;y.createDiv(S.gripContainer,"grip-handle");var I=S.gripContainer.lastChild;!A&&S.opt.gripInnerHtml&&(I.innerHTML=S.opt.gripInnerHtml),y.createDiv(I,y.RESIZABLE),R===S.columnCnt-1&&(I.classList.add("grip-lastgrip"),S.opt.fixed&&(I.innerHTML="")),I.addEventListener("touchstart",y.onGripMouseDown,{capture:!0,passive:!0}),I.addEventListener("mousedown",y.onGripMouseDown,!0),A?I.classList.add("grip-disabledgrip"):(I.classList.remove("grip-disabledgrip"),I.addEventListener("touchstart",y.onGripMouseDown,{capture:!0,passive:!0}),I.addEventListener("mousedown",y.onGripMouseDown,!0)),I.t=S,I.i=R,S.opt.widths[R]?$.w=S.opt.widths[R]:$.w=C?Number($.style.width.replace(/px/,"")).valueOf():Number(window.getComputedStyle($).width.replace(/px/,"")).valueOf(),S.opt.currentWidths[R]=$.w,$.style.width=$.w+y.PX,$.removeAttribute("width"),I.data={i:R,t:S.getAttribute(y.ID),last:R===S.columnCnt-1},S.grips.push(I),S.columns.push($)});var x=Array.from(S.querySelectorAll("td"));x.concat(Array.from(S.querySelectorAll("th"))),(x=(x=x.filter(function(T){for(var R=0;R<w.length;R++)if(w[R]===T)return!1;return!0})).filter(function(T){return!(T.querySelectorAll("table th").length||T.querySelectorAll("table td").length)})).forEach(function(T){T.removeAttribute("width")}),S.opt.fixed||(S.removeAttribute("width"),S.classList.add(y.FLEX)),y.syncGrips()}),f(this,"deserializeStore",function(w){var S=y.tb;if(S.columnGrp.forEach(function(R){R.removeAttribute("width")}),S.opt.flush)y.store[S.getAttribute(y.ID)]="";else{var C=y.store[S.getAttribute(y.ID)].split(";"),x=C[S.columnCnt+1];!S.opt.fixed&&x&&(S.style.width=x+y.PX,S.opt.overflow&&(S.style.minWidth=x+y.PX,S.tableWidth=Number(x).valueOf()));for(var T=0;T<S.columnCnt;T++)w[T].style.width=C[T]+y.PX,S.columnGrp[T]&&(S.columnGrp[T].style.width=100*Number(C[T]).valueOf()/Number(C[S.columnCnt]).valueOf()+"%")}}),f(this,"createDiv",function(w,S,C){var x=document.createElement("div");x.classList.add(S),C&&(x.innerHTML=C),w.appendChild(x)}),f(this,"syncCols",function(w,S,C,x){var T=w.remote,R=y.grip.x-y.grip.l,$=w.columns[S],A=w.columns[S+1];if($&&A){var I=$.w+R,N=A.w-R,q=I+y.PX;if($.style.width=q,w.columnGrp[S]&&w.columnGrp[S].style.width&&(w.columnGrp[S].style.width=q),T&&(T.columns[S].style.width=q,T.columnGrp[S]&&T.columnGrp[S].style.width&&(T.columnGrp[S].style.width=q)),x.fixed){var F=N+y.PX;A.style.width=F,w.columnGrp[S+1]&&w.columnGrp[S+1].style.width&&(w.columnGrp[S+1].style.width=F),T&&(T.columns[S+1].style.width=F,T.columnGrp[S+1]&&T.columnGrp[S+1].style.width&&(T.columnGrp[S+1].style.width=F))}else x.overflow&&(w.style.minWidth=w.tableWidth+R+y.PX);C&&($.w=I,A.w=x.fixed?N:A.w,T&&(T.columns[S].w=I,T.columns[S+1].w=x.fixed?N:A.w))}});try{this.store=sessionStorage}catch{this.store={}}this.grip=null,this.tb=E,window.addEventListener("resize",this.onResize),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),this.init(_)});g.DEFAULTS={resizeMode:"fit",draggingClass:"grip-drag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"col-resize",dragCursor:"col-resize",flush:!1,marginLeft:null,marginRight:null,remoteTable:null,disable:!1,partialRefresh:!1,disabledColumns:[],removePadding:!0,widths:[],currentWidths:[],serialize:!0,onDrag:null,onResize:null}})(),i})())})(nC);var BH=nC.exports;const UH=St(BH),Ff=e=>{const{entityId:t,entityVersionNumber:n}=e,{accessToken:a}=$e(),r=!!a,{data:i}=Si(t,n),{mutate:o}=Q1({onSuccess:()=>{Gr(`${(i==null?void 0:i.name)??t} was successfully added to your Download Cart.`,"success")},onError:s=>{Gr(`Unable to add the file to your Download Cart. ${s.reason}`,"danger")}});return r?m(Q,{children:m(yt,{title:"Add this file to your Download Cart",placement:"right",enterNextDelay:300,children:m(zt,{"data-testid":"AddToDownloadListV2",onClick:()=>{o({entityId:t,entityVersionNumber:n})},className:"ignoreLink",children:m(qe,{icon:"addToCart"})})})}):m(Q,{})};try{Ff.displayName="AddToDownloadListV2",Ff.__docgenInfo={description:"",displayName:"AddToDownloadListV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"number"}}}}}catch{}var Of={exports:{}};(function(e,t){(function(n,a){var r="1.0.33",i="",o="?",s="function",l="undefined",c="object",u="string",d="major",f="model",p="name",h="type",v="vendor",g="version",b="architecture",E="console",y="mobile",_="tablet",w="smarttv",S="wearable",C="embedded",x=350,T="Amazon",R="Apple",$="ASUS",A="BlackBerry",I="Browser",N="Chrome",q="Edge",F="Firefox",P="Google",V="Huawei",O="LG",z="Microsoft",j="Motorola",G="Opera",K="Samsung",Y="Sharp",X="Sony",re="Xiaomi",J="Zebra",fe="Facebook",ve=function(Z,le){var pe={};for(var xe in Z)le[xe]&&le[xe].length%2===0?pe[xe]=le[xe].concat(Z[xe]):pe[xe]=Z[xe];return pe},ne=function(Z){for(var le={},pe=0;pe<Z.length;pe++)le[Z[pe].toUpperCase()]=Z[pe];return le},ce=function(Z,le){return typeof Z===u?Ie(le).indexOf(Ie(Z))!==-1:!1},Ie=function(Z){return Z.toLowerCase()},be=function(Z){return typeof Z===u?Z.replace(/[^\d\.]/g,i).split(".")[0]:a},ae=function(Z,le){if(typeof Z===u)return Z=Z.replace(/^\s\s*/,i),typeof le===l?Z:Z.substring(0,x)},de=function(Z,le){for(var pe=0,xe,he,kt,ye,Be,He;pe<le.length&&!Be;){var Et=le[pe],dt=le[pe+1];for(xe=he=0;xe<Et.length&&!Be;)if(Be=Et[xe++].exec(Z),Be)for(kt=0;kt<dt.length;kt++)He=Be[++he],ye=dt[kt],typeof ye===c&&ye.length>0?ye.length===2?typeof ye[1]==s?this[ye[0]]=ye[1].call(this,He):this[ye[0]]=ye[1]:ye.length===3?typeof ye[1]===s&&!(ye[1].exec&&ye[1].test)?this[ye[0]]=He?ye[1].call(this,He,ye[2]):a:this[ye[0]]=He?He.replace(ye[1],ye[2]):a:ye.length===4&&(this[ye[0]]=He?ye[3].call(this,He.replace(ye[1],ye[2])):a):this[ye]=He||a;pe+=2}},we=function(Z,le){for(var pe in le)if(typeof le[pe]===c&&le[pe].length>0){for(var xe=0;xe<le[pe].length;xe++)if(ce(le[pe][xe],Z))return pe===o?a:pe}else if(ce(le[pe],Z))return pe===o?a:pe;return Z},ie={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Qe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Te={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,G+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[p,G]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[p,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[g,[p,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+I],g],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,fe],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,N+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,we,ie]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,g],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,Ie]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,i,Ie]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,Ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[v,K],[h,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[v,K],[h,y]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[v,R],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[v,R],[h,_]],[/(macintosh);/i],[f,[v,R]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[v,V],[h,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[v,V],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[v,re],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[v,re],[h,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[v,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[v,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[v,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[v,j],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[v,j],[h,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[v,O],[h,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[v,O],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[v,"Lenovo"],[h,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[v,"Nokia"],[h,y]],[/(pixel c)\b/i],[f,[v,P],[h,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[v,P],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[v,X],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[v,X],[h,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[v,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[v,T],[h,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[v,T],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[f,v,[h,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[v,A],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[v,$],[h,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[v,$],[h,y]],[/(nexus 9)/i],[f,[v,"HTC"],[h,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[f,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[v,"Acer"],[h,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[v,"Meizu"],[h,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[v,Y],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,f,[h,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,f,[h,_]],[/(surface duo)/i],[f,[v,z],[h,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[v,"Fairphone"],[h,y]],[/(u304aa)/i],[f,[v,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[f,[v,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[f,[v,"RCA"],[h,_]],[/\b(venue[\d ]{2,7}) b/i],[f,[v,"Dell"],[h,_]],[/\b(q(?:mv|ta)\w+) b/i],[f,[v,"Verizon"],[h,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[v,"Barnes & Noble"],[h,_]],[/\b(tm\d{3}\w+) b/i],[f,[v,"NuVision"],[h,_]],[/\b(k88) b/i],[f,[v,"ZTE"],[h,_]],[/\b(nx\d{3}j) b/i],[f,[v,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[f,[v,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[f,[v,"Swiss"],[h,_]],[/\b((zeki)?tb.*\b) b/i],[f,[v,"Zeki"],[h,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],f,[h,_]],[/\b(ns-?\w{0,9}) b/i],[f,[v,"Insignia"],[h,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[v,"NextBook"],[h,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],f,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],f,[h,y]],[/\b(ph-1) /i],[f,[v,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[v,"Envizen"],[h,_]],[/\b(trio[-\w\. ]+) b/i],[f,[v,"MachSpeed"],[h,_]],[/\btu_(1491) b/i],[f,[v,"Rotor"],[h,_]],[/(shield[\w ]+) b/i],[f,[v,"Nvidia"],[h,_]],[/(sprint) (\w+)/i],[v,f,[h,y]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[v,z],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[v,J],[h,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[v,J],[h,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,f,[h,E]],[/droid.+; (shield) bui/i],[f,[v,"Nvidia"],[h,E]],[/(playstation [345portablevi]+)/i],[f,[v,X],[h,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[v,z],[h,E]],[/smart-tv.+(samsung)/i],[v,[h,w]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[v,K],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,O],[h,w]],[/(apple) ?tv/i],[v,[f,R+" TV"],[h,w]],[/crkey/i],[[f,N+"cast"],[v,P],[h,w]],[/droid.+aft(\w)( bui|\))/i],[f,[v,T],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[v,Y],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[f,[v,X],[h,w]],[/(mitv-\w{5}) bui/i],[f,[v,re],[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,ae],[f,ae],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/((pebble))app/i],[v,f,[h,S]],[/droid.+; (glass) \d/i],[f,[v,P],[h,S]],[/droid.+; (wt63?0{2,3})\)/i],[f,[v,J],[h,S]],[/(quest( 2)?)/i],[f,[v,fe],[h,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[h,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[h,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,q+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[g,we,Qe]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[g,we,Qe]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[p,N+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[p,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[p,g]]},Me=function(Z,le){if(typeof Z===c&&(le=Z,Z=a),!(this instanceof Me))return new Me(Z,le).getResult();var pe=Z||(typeof n!==l&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:i),xe=le?ve(Te,le):Te;return this.getBrowser=function(){var he={};return he[p]=a,he[g]=a,de.call(he,pe,xe.browser),he.major=be(he.version),he},this.getCPU=function(){var he={};return he[b]=a,de.call(he,pe,xe.cpu),he},this.getDevice=function(){var he={};return he[v]=a,he[f]=a,he[h]=a,de.call(he,pe,xe.device),he},this.getEngine=function(){var he={};return he[p]=a,he[g]=a,de.call(he,pe,xe.engine),he},this.getOS=function(){var he={};return he[p]=a,he[g]=a,de.call(he,pe,xe.os),he},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return pe},this.setUA=function(he){return pe=typeof he===u&&he.length>x?ae(he,x):he,this},this.setUA(pe),this};Me.VERSION=r,Me.BROWSER=ne([p,g,d]),Me.CPU=ne([b]),Me.DEVICE=ne([f,v,h,E,y,w,_,S,C]),Me.ENGINE=Me.OS=ne([p,g]),e.exports&&(t=e.exports=Me),t.UAParser=Me;var it=typeof n!==l&&(n.jQuery||n.Zepto);if(it&&!it.ua){var Re=new Me;it.ua=Re.getResult(),it.ua.get=function(){return Re.getUA()},it.ua.set=function(Z){Re.setUA(Z);var le=Re.getResult();for(var pe in le)it.ua[pe]=le[pe]}}})(typeof window=="object"?window:Qr)})(Of,Of.exports);var zH=Of.exports;const _s=e=>{const{accessToken:t}=$e(),{associatedObjectId:n,entityVersionNumber:a,associatedObjectType:r,fileHandleId:i,displayFileName:o,onClickCallback:s}=e,{ref:l,inView:c}=da(),[u,d]=k.useState(!1),[f,p]=k.useState(!1),[h,v]=k.useState(),[g,b]=k.useState(),[E,y]=k.useState("");let _=!0;k.useEffect(()=>(_&&c&&x(),()=>{_=!1}),[t,c]);const w=async()=>{let R;const A=new zH.UAParser().getBrowser().name=="Safari";let I=null;A&&(I=window.open("","Safari Download","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,popup,width=600,height=200"),I.document.body.innerHTML="Downloading file on Safari...");try{r===rr.TableEntity?R=(await C(!0)).requestedFiles[0].preSignedURL:R=(await Uh(h,t,!1,!0)).preSignedURL}catch(N){console.log("Fail to get file download link: ",N)}R?(A&&I?(I.location=R,setTimeout(()=>{I&&I.close()},1e4)):window.open(R),s&&s(u)):(I==null||I.close(),console.log("Fail to get file download link"))},S=R=>R&&!R.isPreview?(p(!0),!0):(p(!1),!1),C=(R=!1)=>op({includeFileHandles:!0,includePreSignedURLs:R,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:n,associateObjectType:r,fileHandleId:i}]},t),x=()=>Ua(t,n,a).then(async R=>{if(Object.hasOwn(R,"dataFileHandleId"))return v(R),Uh(R,t,!0).then($=>{const A=$.fileHandle;A&&S(A)&&DC(A)&&(d(!0),b(A.externalURL))}).catch($=>{console.log("Error on getFileEntityFileHandle = ",$)});if(r===rr.TableEntity){const A=(await C()).requestedFiles[0].fileHandle;o&&A&&S(A)&&y(A.fileName)}return Promise.resolve()}).catch(R=>{console.log("Error on getEntity = ",R)});return m(yt,{title:u?"Navigate to external link":"Download this file individually",enterNextDelay:Ro,placement:"left",children:m("span",{ref:l,children:(()=>u?m("button",{className:"btn-download-icon",onClick:()=>{s&&s(u)},children:m("a",{className:"ignoreLink",rel:"noreferrer",href:g,target:"_blank",children:m(qe,{icon:"openInNewWindow"})})}):f?L("button",{className:"btn-download-icon",onClick:()=>{w()},children:[m(qe,{icon:"download"}),o&&E?E:""]}):m(Q,{}))()})})};try{_s.displayName="DirectDownload",_s.__docgenInfo={description:"",displayName:"DirectDownload",props:{associatedObjectId:{defaultValue:null,description:"",name:"associatedObjectId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},associatedObjectType:{defaultValue:null,description:"",name:"associatedObjectType",required:!1,type:{name:"enum",value:[{value:'"FileEntity"'},{value:'"TableEntity"'},{value:'"WikiAttachment"'},{value:'"WikiMarkdown"'},{value:'"UserProfileAttachment"'},{value:'"MessageAttachment"'},{value:'"TeamAttachment"'},{value:'"SubmissionAttachment"'},{value:'"VerificationSubmission"'},{value:'"AccessRequirementAttachment"'},{value:'"DataAccessRequestAttachment"'},{value:'"DataAccessSubmissionAttachment"'}]}},fileHandleId:{defaultValue:null,description:"",name:"fileHandleId",required:!1,type:{name:"string"}},displayFileName:{defaultValue:null,description:"",name:"displayFileName",required:!1,type:{name:"boolean"}},onClickCallback:{defaultValue:null,description:"",name:"onClickCallback",required:!1,type:{name:"((isExternalLink: boolean) => void)"}}}}}catch{}const HH={AccessBlockedToAnonymous:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must sign in to access this file."},AccessBlockedByRestriction:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must request access to this restricted file."},AccessBlockedByACL:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You do not have download access for this item."},Accessible:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""},NoFileHandle:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""}};function My(e){const{downloadType:t}=e,n=Gb();if(t){const a=HH[t];return m(qe,{icon:a.icon,label:a.tooltipText,sx:{color:a.color(n),height:"16px",verticalAlign:"text-top"}})}return m(Q,{})}function Lf(e,t){const[n,a]=B.useState(),{accessToken:r}=$e(),i=parseInt(t??""),{data:o,error:s}=pw(e,Number.isNaN(i)?void 0:i,{includeEntity:!0,includePermissions:!0}),l=B.useMemo(()=>({restrictableObjectType:ob.ENTITY,objectId:e}),[e]),{data:c}=Wb(l),u=o==null?void 0:o.entity,d=o==null?void 0:o.permissions;return B.useEffect(()=>{c&&c.hasUnmetAccessRequirement?a("AccessBlockedByRestriction"):u&&(d!=null&&d.canDownload)?up(u)&&u.dataFileHandleId?a("Accessible"):a("NoFileHandle"):d&&!d.canDownload&&a(r?"AccessBlockedByACL":"AccessBlockedToAnonymous")},[r,u,s,d,c]),n}function Vf(e){const[t,n]=B.useState(!1),[a,r]=B.useState([]),{entityId:i,entityVersionNumber:o}=e,s=Lf(i,o),{accessToken:l}=$e(),c=B.useMemo(()=>({restrictableObjectType:ob.ENTITY,objectId:i}),[i]),{data:u}=Wb(c),d=()=>{We.getAllAccessRequirements(l,i).then(h=>{nf(h)?window.open(`${e1(t1.PORTAL_ENDPOINT)}#!AccessRequirements:ID=${i}&TYPE=ENTITY`,"_blank"):(r(h),n(!0))})},f=k.useMemo(()=>{if(!u)return m(Q,{});const h=u==null?void 0:u.hasUnmetAccessRequirement,v=u==null?void 0:u.restrictionLevel;let g="";if(h)g="Request Access";else{if(IC.OPEN===v)return m(Q,{});g="View Terms"}return L(Q,{children:[m("a",{style:{fontSize:"14px",cursor:"pointer",marginLeft:"5px",verticalAlign:"top"},className:e.className,onClick:d,children:g}),t&&m(ci,{entityId:i,accessRequirementFromProps:a,renderAsModal:!0,onHide:()=>{n(!1)}})]})},[i,u,a,t]);return s===void 0?m(Q,{}):L("span",{style:{whiteSpace:"nowrap"},children:[s==="AccessBlockedToAnonymous"?m("button",{type:"button",className:fp,onClick:h=>{if(h.isTrusted){const v=new MouseEvent("click",{bubbles:!0});h.currentTarget.dispatchEvent(v)}},children:m(My,{downloadType:s})}):m(My,{downloadType:s}),f]})}try{Lf.displayName="useGetFileHandleDownloadType",Lf.__docgenInfo={description:`Determines whether an Entity is accessible for download, or if it is blocked by the ACL or unmet Access Requirements.

To make download available, and determine if the file is downloadable via the web, see {@link DirectDownload.tsx }`,displayName:"useGetFileHandleDownloadType",props:{}}}catch{}try{Vf.displayName="HasAccessV2",Vf.__docgenInfo={description:`HasAccess shows if the user has access to the file or not. If the user doesn't have access due to a restriction,
then a link will be shown that opens a modal with steps to request access.`,displayName:"HasAccessV2",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Mf=e=>{const{accessToken:t}=$e(),{entityIdList:n}=e,[a,r]=k.useState([m(Q,{})]),{ref:i,inView:o}=da();let s=!0;k.useEffect(()=>(o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n.length&&TC(n,t).then(c=>{if(s){const u=c.results.map(d=>m("p",{children:m(qc,{entity:d,displayTextField:"name"})},d.id));r(u)}}).catch(c=>{console.log("EntityIdList: Error getting entity headers",c)})};return m("span",{ref:i,children:a})};try{Mf.displayName="EntityIdList",Mf.__docgenInfo={description:"",displayName:"EntityIdList",props:{entityIdList:{defaultValue:null,description:"",name:"entityIdList",required:!0,type:{name:"string[]"}}}}}catch{}const Bf=e=>{const{accessToken:t}=$e(),{evaluationId:n}=e,[a,r]=k.useState(),{ref:i,inView:o}=da();let s=!0;k.useEffect(()=>(s&&o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n&&RC(n,t).then(c=>{r(c.name)}).catch(c=>{console.log("EvaluationIdListRenderer: Error getting evaluation queue names",c)})};return m("span",{ref:i,children:a})};try{Bf.displayName="EvaluationIdRenderer",Bf.__docgenInfo={description:"",displayName:"EvaluationIdRenderer",props:{evaluationId:{defaultValue:null,description:"",name:"evaluationId",required:!0,type:{name:"string"}}}}}catch{}const Uf=e=>{const{accessToken:t}=$e(),{userIds:n}=e,[a,r]=k.useState(),{ref:i,inView:o}=da();let s=!0;k.useEffect(()=>(s&&o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n.length&&PC(n,t).then(c=>{const u=c.list.map(d=>m(sb,{userProfile:d,className:"SRC-marginFifteen"},d.ownerId));r(u)}).catch(c=>{console.log("UserIdList: Error getting user profiles",c)})};return m("span",{ref:i,children:a})};try{Uf.displayName="UserIdList",Uf.__docgenInfo={description:"",displayName:"UserIdList",props:{userIds:{defaultValue:null,description:"",name:"userIds",required:!0,type:{name:"string[]"}}}}}catch{}const zf=({columnType:e,columnValue:t,isBold:n,mapEntityIdToHeader:a,mapUserIdToHeader:r,columnLinkConfig:i,columnName:o,selectColumns:s,columnModels:l,rowData:c,rowId:u,rowVersionNumber:d})=>{const{entity:f}=ct();if(!t)return L("p",{className:"SRC-inactive",children:[" ",H1]});if(i)return m(bs,{value:t,columnName:o,selectColumns:s,columnModels:l,isHeader:!1,labelLink:i,rowData:c,rowId:u});if(f&&(Mn(f)||Zn(f)||hb(f))&&(o==="id"||o==="name")&&u&&d){const p=`syn${u.toString()}`,h=a[p]??p;return m("p",{children:m(qc,{entity:h,versionNumber:d,className:`${n}`,showIcon:!1,displayTextField:o})})}switch(e){case ue.ENTITYID:return m("p",{children:m(qc,{entity:a[t]??t,className:`${n}`,displayTextField:"name"})});case ue.DATE_LIST:{const p=JSON.parse(t);return L("p",{children:[p.map((h,v)=>L("span",{className:n,children:[Ha(nr(Number(h))),v!==p.length-1?", ":""]},v))," "]})}case ue.BOOLEAN_LIST:{const p=JSON.parse(t);return m("p",{children:p.map((h,v)=>L("span",{className:n,children:[h?"true":"false",v!==p.length-1?", ":""]},v))})}case ue.FILEHANDLEID:return m(Q,{children:f&&m(_s,{associatedObjectId:f.id,associatedObjectType:rr.TableEntity,fileHandleId:t,displayFileName:!0})});case ue.ENTITYID_LIST:{const p=JSON.parse(t);return m("p",{children:m(Mf,{entityIdList:p})})}case ue.USERID_LIST:{const p=JSON.parse(t);return m(Uf,{userIds:p})}case ue.STRING_LIST:case ue.INTEGER_LIST:{const p=JSON.parse(t);return m("p",{className:n,children:p.map((h,v)=>L(B.Fragment,{children:[h,v!==p.length-1?", ":""]},h))})}case ue.EVALUATIONID:return m(Bf,{evaluationId:t});case ue.DATE:return m("p",{className:n,children:Ha(nr(Number(t)))});case ue.USERID:if(Object.prototype.hasOwnProperty.call(r,t)){const{ownerId:p,userName:h}=r[t];if(r[t].isIndividual===!1){const v=h===Hh?"public":"people";return h===Hh?L("span",{children:[m(qe,{icon:v})," All registered Synapse users"]}):L("a",{target:"_blank",rel:"noopener noreferrer",href:`${ar.PORTAL}#!Team:${p}`,children:[m(qe,{icon:v})," ",h]})}else return m(Xn,{userProfile:r[t],preSignedURL:r[t].clientPreSignedURL,size:"SMALL USER CARD"})}break;case ue.LINK:return m("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:t});case ue.STRING:case ue.DOUBLE:case ue.INTEGER:case ue.BOOLEAN:case ue.MEDIUMTEXT:case ue.LARGETEXT:return m("p",{className:n,children:t});default:return console.warn(`ColumnType ${e} has unspecified handler. Rendering the column value.`),m("p",{className:n,children:t})}return m("p",{className:n,children:t})};try{zf.displayName="SynapseTableCell",zf.__docgenInfo={description:"",displayName:"SynapseTableCell",props:{columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'}]}},columnValue:{defaultValue:null,description:"",name:"columnValue",required:!0,type:{name:"string | null"}},isBold:{defaultValue:null,description:"",name:"isBold",required:!0,type:{name:"string"}},columnLinkConfig:{defaultValue:null,description:"",name:"columnLinkConfig",required:!1,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink"}},mapEntityIdToHeader:{defaultValue:null,description:"",name:"mapEntityIdToHeader",required:!0,type:{name:"Record<string, EntityHeader>"}},mapUserIdToHeader:{defaultValue:null,description:"",name:"mapUserIdToHeader",required:!0,type:{name:"Partial<UserGroupHeader & UserProfile>"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},rowVersionNumber:{defaultValue:null,description:"",name:"rowVersionNumber",required:!1,type:{name:"number"}}}}}catch{}const By=(e,...t)=>{var a;const n=[];return(a=e==null?void 0:e.selectColumns)==null||a.forEach((r,i)=>{t.includes(r.columnType)&&n.push(i)}),n},Uy=(e,t,n)=>{var r;const a=new Set;return(r=e.queryResult)==null||r.queryResults.rows.forEach(i=>{i.values.forEach((o,s)=>{o!=null&&n.includes(s)&&!Object.prototype.hasOwnProperty.call(t,o)&&o&&a.add(o)})}),a},WH=()=>{const{data:e,goToPage:t,pageSize:n,setPageSize:a,currentPage:r}=pV(),i=e==null?void 0:e.queryCount,o=(l,c)=>{t(c)},s=l=>{const c=l.target.value;a(c)};return r==1&&i&&i<10?m(Q,{}):L("div",{children:[m(hN,{page:r,count:Math.ceil(i/n),color:"secondary",onChange:o,style:{display:"inline-block",float:"left"}}),m(Pe,{variant:"body1",style:{display:"inline-block"},children:`${i==null?void 0:i.toLocaleString()} total rows /`}),L("select",{name:"page size",onChange:s,style:{padding:"4px",marginLeft:"4px"},value:n,children:[m("option",{value:10,children:"10 per page"}),m("option",{value:25,children:"25 per page"}),m("option",{value:100,children:"100 per page"}),m("option",{value:500,children:"500 per page"})]})]})},Hf=e=>{const{onCopy:t}=e;return m(yt,{title:"Copy IDs to the clipboard",enterNextDelay:Ro,placement:"right",children:m("span",{children:m("button",{"data-testid":"copySynIdsButton",onClick:t,children:m("span",{style:{height:15,marginTop:-1},children:m(qe,{icon:"contentCopy"})})})})})};try{Hf.displayName="InteractiveCopyIdsIcon",Hf.__docgenInfo={description:"",displayName:"InteractiveCopyIdsIcon",props:{onCopy:{defaultValue:null,description:"",name:"onCopy",required:!0,type:{name:"() => void"}}}}}catch{}const jH=()=>{const e=$e(),t=ct(),[n,a]=B.useState(!1),[r,i]=B.useState(),[o,s]=B.useState();B.useEffect(()=>(o||s(new AbortController),()=>{o&&o.abort()}),[o]);const l=()=>{a(!0);const{getLastQueryRequest:c}=t,u=c(),{sql:d}=u.query,{entityId:f,versionNumber:p}=Db(d),h=p?`.${p}`:"";u.partMask=ua;const v=`${f}${h}`,g=d.indexOf(v);u.query.sql=`select id from ${v}${d.substring(g+v.length)}`,nb(u,e.accessToken,o==null?void 0:o.signal).then(b=>{i(b)}).catch(b=>{console.error(b),Gr("Unable to query for all Synapse IDs to copy","danger")}).finally(()=>{a(!1)})};return B.useEffect(()=>{if(r){const{rows:c}=r.queryResult.queryResults,u=c.map(d=>`${d.values[0]}`).join(`
`);navigator.clipboard.writeText(u).then(()=>{Gr("Successfully copied to clipboard"),i(void 0)})}},[r]),n?m(Cs,{size:25}):m(Hf,{onCopy:()=>{l()}})};var yn=[],QH=function(){return yn.some(function(e){return e.activeTargets.length>0})},GH=function(){return yn.some(function(e){return e.skippedTargets.length>0})},zy="ResizeObserver loop completed with undelivered notifications.",YH=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:zy}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=zy),window.dispatchEvent(e)},mi;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(mi||(mi={}));var bn=function(e){return Object.freeze(e)},KH=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,bn(this)}return e}(),aC=function(){function e(t,n,a,r){return this.x=t,this.y=n,this.width=a,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,bn(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,a=t.y,r=t.top,i=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:a,top:r,right:i,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Oh=function(e){return e instanceof SVGElement&&"getBBox"in e},iC=function(e){if(Oh(e)){var t=e.getBBox(),n=t.width,a=t.height;return!n&&!a}var r=e,i=r.offsetWidth,o=r.offsetHeight;return!(i||o||e.getClientRects().length)},Hy=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},XH=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ba=typeof window<"u"?window:{},po=new WeakMap,Wy=/auto|scroll/,ZH=/^tb|vertical/,JH=/msie|trident/i.test(Ba.navigator&&Ba.navigator.userAgent),Xt=function(e){return parseFloat(e||"0")},Kn=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new KH((n?t:e)||0,(n?e:t)||0)},jy=bn({devicePixelContentBoxSize:Kn(),borderBoxSize:Kn(),contentBoxSize:Kn(),contentRect:new aC(0,0,0,0)}),oC=function(e,t){if(t===void 0&&(t=!1),po.has(e)&&!t)return po.get(e);if(iC(e))return po.set(e,jy),jy;var n=getComputedStyle(e),a=Oh(e)&&e.ownerSVGElement&&e.getBBox(),r=!JH&&n.boxSizing==="border-box",i=ZH.test(n.writingMode||""),o=!a&&Wy.test(n.overflowY||""),s=!a&&Wy.test(n.overflowX||""),l=a?0:Xt(n.paddingTop),c=a?0:Xt(n.paddingRight),u=a?0:Xt(n.paddingBottom),d=a?0:Xt(n.paddingLeft),f=a?0:Xt(n.borderTopWidth),p=a?0:Xt(n.borderRightWidth),h=a?0:Xt(n.borderBottomWidth),v=a?0:Xt(n.borderLeftWidth),g=d+c,b=l+u,E=v+p,y=f+h,_=s?e.offsetHeight-y-e.clientHeight:0,w=o?e.offsetWidth-E-e.clientWidth:0,S=r?g+E:0,C=r?b+y:0,x=a?a.width:Xt(n.width)-S-w,T=a?a.height:Xt(n.height)-C-_,R=x+g+w+E,$=T+b+_+y,A=bn({devicePixelContentBoxSize:Kn(Math.round(x*devicePixelRatio),Math.round(T*devicePixelRatio),i),borderBoxSize:Kn(R,$,i),contentBoxSize:Kn(x,T,i),contentRect:new aC(d,l,x,T)});return po.set(e,A),A},sC=function(e,t,n){var a=oC(e,n),r=a.borderBoxSize,i=a.contentBoxSize,o=a.devicePixelContentBoxSize;switch(t){case mi.DEVICE_PIXEL_CONTENT_BOX:return o;case mi.BORDER_BOX:return r;default:return i}},e8=function(){function e(t){var n=oC(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=bn([n.borderBoxSize]),this.contentBoxSize=bn([n.contentBoxSize]),this.devicePixelContentBoxSize=bn([n.devicePixelContentBoxSize])}return e}(),lC=function(e){if(iC(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},t8=function(){var e=1/0,t=[];yn.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(c){var u=new e8(c.target),d=lC(c.target);s.push(u),c.lastReportedSize=sC(c.target,c.observedBox),d<e&&(e=d)}),t.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,a=t;n<a.length;n++){var r=a[n];r()}return e},Qy=function(e){yn.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(r){r.isActive()&&(lC(r.target)>e?n.activeTargets.push(r):n.skippedTargets.push(r))})})},r8=function(){var e=0;for(Qy(e);QH();)e=t8(),Qy(e);return GH()&&YH(),e>0},Cc,uC=[],n8=function(){return uC.splice(0).forEach(function(e){return e()})},a8=function(e){if(!Cc){var t=0,n=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return n8()}).observe(n,a),Cc=function(){n.textContent="".concat(t?t--:t++)}}uC.push(e),Cc()},i8=function(e){a8(function(){requestAnimationFrame(e)})},Co=0,o8=function(){return!!Co},s8=250,l8={attributes:!0,characterData:!0,childList:!0,subtree:!0},Gy=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Yy=function(e){return e===void 0&&(e=0),Date.now()+e},xc=!1,u8=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=s8),!xc){xc=!0;var a=Yy(t);i8(function(){var r=!1;try{r=r8()}finally{if(xc=!1,t=a-Yy(),!o8())return;r?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,l8)};document.body?n():Ba.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Gy.forEach(function(n){return Ba.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Gy.forEach(function(n){return Ba.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Wf=new u8,Ky=function(e){!Co&&e>0&&Wf.start(),Co+=e,!Co&&Wf.stop()},c8=function(e){return!Oh(e)&&!XH(e)&&getComputedStyle(e).display==="inline"},d8=function(){function e(t,n){this.target=t,this.observedBox=n||mi.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=sC(this.target,this.observedBox,!0);return c8(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),f8=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),ho=new WeakMap,Xy=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},mo=function(){function e(){}return e.connect=function(t,n){var a=new f8(t,n);ho.set(t,a)},e.observe=function(t,n,a){var r=ho.get(t),i=r.observationTargets.length===0;Xy(r.observationTargets,n)<0&&(i&&yn.push(r),r.observationTargets.push(new d8(n,a&&a.box)),Ky(1),Wf.schedule())},e.unobserve=function(t,n){var a=ho.get(t),r=Xy(a.observationTargets,n),i=a.observationTargets.length===1;r>=0&&(i&&yn.splice(yn.indexOf(a),1),a.observationTargets.splice(r,1),Ky(-1))},e.disconnect=function(t){var n=this,a=ho.get(t);a.observationTargets.slice().forEach(function(r){return n.unobserve(t,r.target)}),a.activeTargets.splice(0,a.activeTargets.length)},e}(),p8=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");mo.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Hy(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");mo.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Hy(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");mo.unobserve(this,t)},e.prototype.disconnect=function(){mo.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const h8=B[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],m8=h8,v8=e=>{const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),t},g8=v8,y8=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:p8;function b8(){}function w8(e,t){const n=_8(),a=g8(t);return m8(()=>{let r=!1;const i=e&&"current"in e?e.current:e;if(!i)return b8;function o(s,l){r||a.current(s,l)}return n.subscribe(i,o),()=>{r=!0,n.unsubscribe(i,o)}},[e,n,a]),n.observer}function S8(){let e=!1,t=[];const n=new Map,a=new y8((r,i)=>{t=t.concat(r);function o(){const s=new Set;for(let l=0;l<t.length;l++){if(s.has(t[l].target))continue;s.add(t[l].target);const c=n.get(t[l].target);c==null||c.forEach(u=>u(t[l],i))}t=[],e=!1}e||window.requestAnimationFrame(o),e=!0});return{observer:a,subscribe(r,i){var o;a.observe(r);const s=(o=n.get(r))!==null&&o!==void 0?o:[];s.push(i),n.set(r,s)},unsubscribe(r,i){var o;const s=(o=n.get(r))!==null&&o!==void 0?o:[];if(s.length===1){a.unobserve(r),n.delete(r);return}const l=s.indexOf(i);l!==-1&&s.splice(l,1),n.set(r,s)}}}let Nc;const _8=()=>Nc||(Nc=S8());function jf(e){const[t,n]=k.useState(!1),[a,r]=k.useState(!1),i=k.useRef(null);return w8(i,({target:o})=>{if(!t&&o){const s=o.getElementsByTagName("p")[0];s&&r(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth)}}),L("td",{...e,className:`ExpandableTableData ${e.className?e.className:""}`,"aria-expanded":t,ref:i,children:[a&&m("button",{className:"ExpandableTableData__expandButton",onClick:()=>n(!t),children:m(qe,{icon:t?"minusBoxOutline":"addBoxOutline",sx:{color:"grey.600",height:"16px",verticalAlign:"top"}})}),e.children]})}try{jf.displayName="ExpandableTableDataCell",jf.__docgenInfo={description:"",displayName:"ExpandableTableDataCell",props:{}}}catch{}const E8=["","DESC","ASC"],Zy={resizeMode:"overflow",partialRefresh:"true",liveDrag:!0,headerOnly:"true"};class Es extends B.Component{constructor(n){super(n);Le(this,"resizer");Le(this,"tableElement");Le(this,"renderTable",(n,a,r,i)=>{var b,E;const o=(E=(b=this.props.queryContext).getLastQueryRequest)==null?void 0:E.call(b),{queryContext:{entity:s},showAccessColumn:l,showDownloadColumn:c,isRowSelectionVisible:u}=this.props,d=s&&(Mn(s)&&JC(s)||Zn(s)),f=l&&s&&this.isEntityViewOrDataset()&&this.allRowsHaveId(),p=!!this.props.synapseContext.accessToken,h=s&&d&&p&&this.allRowsHaveId(),v=!!(h&&!this.props.hideDownload),g=h&&c;return L("div",{className:"SynapseTable SRC-overflowAuto","data-testid":"SynapseTable",children:[L("table",{ref:y=>this.tableElement=y,className:"table table-striped table-condensed",children:[m("thead",{className:"SRC_bordered",children:m("tr",{children:this.createTableHeader(n,a,r,f,g,v,u,o)})}),m("tbody",{children:this.createTableRows(i,n,f,g,v,u)})]}),m("div",{className:"bootstrap-4-backport",style:{textAlign:"right"},children:m(WH,{})})]})});Le(this,"handleColumnSortPress",n=>a=>{let r=Vr(this.state.columnIconSortState);r.length===0&&(r=Array(this.getLengthOfPropsData()).fill(0));const i=Vr(this.state.sortedColumnSelection),o=this.findSelectionIndex(i,n.name);o!==-1&&i.splice(o,1),r[n.index]=(r[n.index]+1)%jh.length,r[n.index]>0&&i.unshift({column:n.name,direction:E8[r[n.index]]});const s=this.props.queryContext.getLastQueryRequest();s.query.sort=i,s.query.offset=0,this.props.queryContext.executeQueryRequest(s),this.setState({columnIconSortState:r,sortedColumnSelection:i})});Le(this,"applyChangesFromQueryFilter",n=>{const a=this.props.queryContext.getLastQueryRequest();a.query.selectedFacets=n,a.query.offset=0,this.props.queryContext.executeQueryRequest(a)});this.componentDidMount=this.componentDidMount.bind(this),this.componentWillUnmount=this.componentWillUnmount.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this),this.shouldComponentUpdate=this.shouldComponentUpdate.bind(this),this.handleColumnSortPress=this.handleColumnSortPress.bind(this),this.findSelectionIndex=this.findSelectionIndex.bind(this),this.advancedSearch=this.advancedSearch.bind(this),this.getLengthOfPropsData=this.getLengthOfPropsData.bind(this),this.configureFacetDropdown=this.configureFacetDropdown.bind(this),this.enableResize=this.enableResize.bind(this),this.disableResize=this.disableResize.bind(this),this.isEntityViewOrDataset=this.isEntityViewOrDataset.bind(this),this.allRowsHaveId=this.allRowsHaveId.bind(this),this.state={columnIconSortState:[],isExportTableDownloadOpen:!1,isExpanded:!1,isColumnSelectionOpen:!1,sortedColumnSelection:[],mapEntityIdToHeader:{},mapUserIdToHeader:{},isFetchingEntityHeaders:!1},this.getEntityHeadersInData=this.getEntityHeadersInData.bind(this)}componentWillUnmount(){this.disableResize()}componentDidMount(){this.getEntityHeadersInData(!0),this.enableResize()}shouldComponentUpdate(n,a){const{isFetchingEntityHeaders:r,...i}=this.state,{isFetchingEntityHeaders:o,...s}=a,l=!Mi(this.props,n),c=!Mi(i,s),u=l||c;return u&&this.disableResize(),u}componentDidUpdate(n,a){Mi(n.queryContext.data,this.props.queryContext.data)?n.queryContext.entity&&this.props.queryContext.entity&&!Mi(Mn(n.queryContext.entity),Mn(this.props.queryContext.entity))&&this.getEntityHeadersInData(!0):this.getEntityHeadersInData(!1),this.enableResize()}enableResize(){this.resizer?setTimeout(()=>{this.resizer.reset(Zy)},1e3):this.tableElement&&this.getLengthOfPropsData()>1&&(this.resizer=new UH(this.tableElement,Zy))}disableResize(){this.resizer&&this.resizer.reset({disable:!0})}async getEntityHeadersInData(n){var f,p;const{data:a,entity:r}=this.props.queryContext;if(!a||!r)return;if(this.state.isFetchingEntityHeaders&&!n)return;const i=Vr(this.state.mapEntityIdToHeader),o=Vr(this.state.mapUserIdToHeader),s=By(a,ue.ENTITYID),l=By(a,ue.USERID),c=Uy(a,i,s);(this.isEntityViewOrDataset()||r&&hb(r))&&this.allRowsHaveId()&&(((p=(f=a.queryResult)==null?void 0:f.queryResults)==null?void 0:p.rows)??[]).forEach(v=>{const g=`syn${v.rowId}`;c.add(g)});const u=Uy(a,o,l);if(c.size===0&&u.size===0)return;if(this.setState({isFetchingEntityHeaders:!0}),c.size>0){const h=Array.from(c).map(v=>({targetId:v}));try{const v=await We.getEntityHeaders(h,this.props.synapseContext.accessToken),{results:g}=v;g.forEach(b=>{i[b.id]=b})}catch(v){console.error("Error on retrieving entity header list , ",v)}}const d=[];if(u.size>0){const h=Array.from(u);try{(await We.getGroupHeadersBatch(h,this.props.synapseContext.accessToken)).children.forEach(g=>{g.isIndividual?d.push(g.ownerId):o[g.ownerId]=g})}catch(v){console.error("Error on getGroupHeaders batch: ",v)}}if(d.length>0)try{(await OC(d)).list.forEach(v=>{o[v.ownerId]=v})}catch(h){console.error("Error on getUserProfile : ",h)}this.setState({mapEntityIdToHeader:i,mapUserIdToHeader:o,isFetchingEntityHeaders:!1})}render(){var g;if(!this.props.queryContext.data&&this.props.queryContext.isLoadingNewBundle)return cp;if(!this.props.queryContext.data)return m(Q,{});const{queryContext:{data:n},queryVisualizationContext:{NoContentPlaceholder:a}}=this.props,{queryResult:r,columnModels:i=[]}=n,{facets:o=[]}=n,{isExpanded:s,isExportTableDownloadOpen:l}=this.state,c=this.props.queryContext.getLastQueryRequest(),u="";if(!((((g=n.queryResult)==null?void 0:g.queryResults.rows.length)??0)>0)&&c.query.offset===0)return m(a,{});const{rows:f,headers:p}=r.queryResults,h=m("div",{children:this.renderTable(p,i,o,f)}),v=m(Q,{children:L("div",{className:u,children:[l&&m(ia,{onClose:()=>{this.setState({isExportTableDownloadOpen:!1})},queryBundleRequest:c}),m("div",{children:h})]})});return L(B.Fragment,{children:[s&&m(vi,{open:!0,onCancel:()=>this.setState({isExpanded:!1}),content:v,title:void 0,maxWidth:"xl",fullWidth:!0,sx:{".MuiDialogTitle-root":{padding:0},".MuiDialogContent-root":{border:"transparent"}}}),!s&&v]})}allRowsHaveId(){var a;const{queryContext:{data:n}}=this.props;return((a=n==null?void 0:n.queryResult)==null?void 0:a.queryResults.rows.every(r=>!!r.rowId))??!1}isEntityViewOrDataset(){const{queryContext:{entity:n}}=this.props;return(n&&(Mn(n)||Zn(n)))??!1}createTableRows(n,a,r,i,o,s){const l=[],{queryContext:{data:c},queryVisualizationContext:{columnsToShowInTable:u,selectedRowIndices:d,setSelectedRowIndices:f},columnLinks:p=[]}=this.props,{selectColumns:h=[],columnModels:v=[]}=c,{mapEntityIdToHeader:g,mapUserIdToHeader:b}=this.state;return n.forEach((E,y)=>{var T,R;const _=(T=E.versionNumber)==null?void 0:T.toString(),w=`syn${E.rowId}`,S=E.values.map(($,A)=>{const I=a[A].name,N=u.includes(I),q=p.find(V=>V.matchColumnName===I),P=this.findSelectionIndex(this.state.sortedColumnSelection,I)===-1?"":"SRC-boldText";return N?m(jf,{className:"SRC_noBorderTop",children:m(zf,{columnType:a[A].columnType,columnValue:$,isBold:P,mapEntityIdToHeader:g,mapUserIdToHeader:b,columnLinkConfig:q,columnName:I,rowData:E.values,selectColumns:h,columnModels:v,rowId:E.rowId,rowVersionNumber:E.versionNumber})},`(${y}${$}${A})`):m("td",{className:"SRC-hidden"},`(${y},${A})`)});r&&S.unshift(m("td",{className:"SRC_noBorderTop",children:m(Vf,{entityId:w,entityVersionNumber:_},w)},w));const C=((R=g[w])==null?void 0:R.type)=="org.sagebionetworks.repo.model.FileEntity";i&&S.unshift(m("td",{className:"SRC_noBorderTop direct-download",children:C&&m(_s,{associatedObjectId:w,entityVersionNumber:_})},`direct-download-${w}`)),o&&S.unshift(m("td",{className:"SRC_noBorderTop add-to-download-list-v2",children:C&&m(Ff,{entityId:w,entityVersionNumber:parseInt(_)})},`add-to-download-list-v2-${w}`)),s&&d&&S.unshift(m("td",{className:"SRC_noBorderTop",children:m(di,{label:"",checked:d.includes(y),onChange:$=>{const A=[...d];if($)A.push(y);else{const I=A.indexOf(y);I>-1&&A.splice(I,1)}f(A)}})},`(${y},rowSelectColumn)`));const x=m("tr",{children:S},E.rowId??y);l.push(x)}),l}isSortableColumn(n){switch(n){case ue.USERID:case ue.ENTITYID:case ue.FILEHANDLEID:case ue.STRING_LIST:case ue.INTEGER_LIST:case ue.BOOLEAN_LIST:case ue.DATE_LIST:case ue.USERID_LIST:case ue.ENTITYID_LIST:return!1;default:return!0}}createTableHeader(n,a,r,i,o,s,l,c){const{sortedColumnSelection:u,columnIconSortState:d}=this.state,{queryVisualizationContext:{getColumnDisplayName:f,columnsToShowInTable:p},queryContext:{lockedColumn:h}}=this.props,v=n.map((g,b)=>{var y;if(p.includes(g.name)){const _=this.findSelectionIndex(u,g.name)!==-1,w=d[b]===void 0?0:d[b],S=r.findIndex(F=>F.columnName===g.name),C=S!==-1&&r[S].facetType==="enumeration",x=r[S],T=_?"SRC-primary-background-color SRC-anchor-light":"",R=_?"SRC-selected-table-icon tool-icon":"SRC-primary-text-color tool-icon",$=`SRC-tableHead SRC-hand-cursor SRC-sortPadding SRC-primary-background-color-hover  ${T}`,A=f(g.name),I=a.find(F=>F.name===g.name),N=g.name.toLowerCase()===((y=h==null?void 0:h.columnName)==null?void 0:y.toLowerCase()),q=I&&I.name=="id"&&I.columnType==ue.ENTITYID;return m("th",{children:L("div",{className:"SRC-split",children:[m("span",{style:{whiteSpace:"nowrap"},children:A}),L("div",{className:"SRC-centerContent",children:[C&&!N&&this.configureFacetDropdown(x,I,c),this.isSortableColumn(g.columnType)&&m("span",{role:"button","aria-label":"sort",tabIndex:0,className:$,onKeyPress:this.handleColumnSortPress({index:b,name:g.name}),onClick:this.handleColumnSortPress({index:b,name:g.name}),children:m(Ds,{type:jh[w],cssClass:R})}),q&&m(jH,{})]})]})},g.name)}else return m("th",{className:"SRC-hidden"},g.name)});return i&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent",children:m("span",{style:{whiteSpace:"nowrap"},children:"Access"})})},"accessColumn")),o&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent",children:" "})},"downloadColumn")),s&&v.unshift(m("th",{"data-testid":"AddToDownloadListV2ColumnHeader",children:m("div",{className:"SRC-centerContent",children:" "})},"addToV2DownloadListColumn")),l&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent"})},"rowSelectionColumn")),v}findSelectionIndex(n,a){return n.length!==0?n.findIndex(r=>r.column===a):-1}advancedSearch(n){n&&n.preventDefault();const a=this.props.queryContext.getLastQueryRequest(),{query:r}=a,i=btoa(JSON.stringify(r)),o=a.entityId;window.open(`${ar.PORTAL}#!Synapse:${o}/tables/query/${i}`,"_blank")}getLengthOfPropsData(){var a;const{data:n}=this.props.queryContext;return((a=n==null?void 0:n.queryResult)==null?void 0:a.queryResults.headers.length)??0}configureFacetDropdown(n,a,r){return m(oa,{containerAs:"Dropdown",facetValues:n.facetValues,columnModel:a,onChange:i=>{hs(r,n,this.applyChangesFromQueryFilter,i)},onClear:()=>{fi(r,n,this.applyChangesFromQueryFilter)}})}}try{Es.displayName="SynapseTable",Es.__docgenInfo={description:"",displayName:"SynapseTable",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"SynapseContextType"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}}}}}catch{}function cC(){const{data:e}=ct(),{showLastUpdatedOn:t}=lt();return t&&e&&e.lastUpdatedOn?m("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:L(Pe,{variant:"body1Italic",children:["Last updated on ",Ha(nr(e.lastUpdatedOn))]})}):m(Q,{})}const Qf=e=>{const{tableConfiguration:t,cardConfiguration:n,hideDownload:a}=e,r=$e(),i=ct(),o=lt();return L("div",{className:`FilterAndView ${o.topLevelControlsState.showFacetFilter?lr:Qt}`,children:[t?m(Es,{...t,synapseContext:r,queryContext:i,queryVisualizationContext:o,hideDownload:a}):m(Q,{}),n?m(Ss,{...n}):m(Q,{}),m(cC,{})]})};try{Qf.displayName="FilterAndView",Qf.__docgenInfo={description:"",displayName:"FilterAndView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!0,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext"> | undefined'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration | undefined"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}}}}}catch{}const Gf=e=>{const[t,n]=B.useState(!1),{searchParams:a,sql:r,sqlOperator:i,tableConfiguration:o,name:s,cardConfiguration:l,facetsToPlot:c,availableFacets:u,hideDownload:d,hideQueryCount:f,hideSqlEditorControl:p,searchConfiguration:h,limit:v=Rs,initQueryJson:g,showLastUpdatedOn:b,showExportToCavatica:E=!1,customControls:y}=e,_=Np(a,i),w=g?JSON.parse(g):{sql:r,additionalFilters:_,limit:v,offset:0},S=Jr(w.sql),{data:C}=Si(S),x=C&&mb(C)&&C.isSearchEnabled,T={entityId:S,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:ua|ca|Ts|lb|Ns|Is|dp|pp,query:w};return m("div",{className:"QueryWrapperPlotNav",children:m(o?ss:ls,{...e,initQueryRequest:T,children:m(ii,{unitDescription:"results",rgbIndex:e.rgbIndex,columnAliases:e.columnAliases,visibleColumnCount:e.visibleColumnCount,defaultShowFacetVisualization:e.defaultShowFacetVisualization,defaultShowSearchBar:e.defaultShowSearchBox||x,showLastUpdatedOn:b,noContentPlaceholderType:Wr.INTERACTIVE,children:m(ni,{children:$=>{if($===void 0)throw new Error("No queryContext found when using QueryContextConsumer");const A=$==null?void 0:$.isFacetsAvailable;return m(Yo,{children:I=>{if(I===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");return L(Q,{children:[m("div",{className:`ErrorBannerWrapper ${Qt}`,children:m(uf,{})}),x?m(Ko,{helpUrl:h==null?void 0:h.fullTextSearchHelpURL}):m(cs,{...h,queryContext:$,queryVisualizationContext:I}),m(ds,{}),m(Sd,{getLastQueryRequest:$.getLastQueryRequest,topLevelControlsState:I.topLevelControlsState,setTopLevelControlsState:I.setTopLevelControlsState}),m(fs,{showColumnSelection:o!==void 0,name:s,hideDownload:d,hideQueryCount:f,hideFacetFilterControl:!A,hideVisualizationsControl:!A,hideSqlEditorControl:p,showExportToCavatica:E,customControls:y}),A&&m(Q,{children:m(gH,{availableFacets:u})}),m(Cf,{facetsToPlot:c}),m(Qf,{tableConfiguration:o,hideDownload:d,cardConfiguration:l}),t&&m(ia,{getLastQueryRequest:$.getLastQueryRequest,onClose:()=>n(!1)})]})}})}})})})})};try{Gf.displayName="QueryWrapperPlotNav",Gf.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"If onQueryChange is set, the callback will be invoked when the Query changes",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"If onQueryResultBundleChange is set, the callback will be invoked when the QueryResultBundle changes",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},initQueryJson:{defaultValue:null,description:"If initQueryJson is set, it will be the Query used in the initial QueryBundleRequest",name:"initQueryJson",required:!1,type:{name:"string"}},tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext">'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},defaultShowSearchBox:{defaultValue:null,description:"",name:"defaultShowSearchBox",required:!1,type:{name:"boolean"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}}}}}catch{}const C8=e=>({partMask:Is|ca|Ts|Ns|ua|pp,entityId:Jr(e),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:e,limit:Rs,offset:0}}),Yf=e=>{const{title:t,searchParams:n,sqlOperator:a,showAccessColumn:r,sql:i,hideDownload:o,hideQueryCount:s,name:l,showTopLevelControls:c=!1,searchConfiguration:u,unitDescription:d="Results",rgbIndex:f,showLastUpdatedOn:p,noContentPlaceholderType:h=c?Wr.INTERACTIVE:Wr.STATIC,...v}=e,g=C8(i);n&&(g.query.additionalFilters=Np(n,a));const b=$e(),E=Jr(i),{data:y}=Si(E);return m(ss,{...v,initQueryRequest:g,children:m(ii,{rgbIndex:f,unitDescription:d,showLastUpdatedOn:p,noContentPlaceholderType:h,...v,children:m(ni,{children:_=>{if(_===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return m(Yo,{children:w=>{if(w===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return L(Q,{children:[c&&m(fs,{showColumnSelection:!0,name:l,hideDownload:o,hideQueryCount:s,hideFacetFilterControl:!0,hideVisualizationsControl:!0}),y&&mb(y)&&y.isSearchEnabled?m(Ko,{helpUrl:u==null?void 0:u.fullTextSearchHelpURL}):m(cs,{...u,queryContext:_,queryVisualizationContext:w}),m(ds,{}),c&&m(pi,{frontText:""}),m(Es,{synapseContext:b,queryContext:_,queryVisualizationContext:w,showAccessColumn:r,title:t,"data-testid":"SynapseTable",...v}),m(cC,{})]})}})}})})})};try{Yf.displayName="StandaloneQueryWrapper",Yf.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},showTopLevelControls:{defaultValue:null,description:"",name:"showTopLevelControls",required:!1,type:{name:"boolean"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}}}}}catch{}function Kf(e){const{query:t,showquery:n,tableonly:a}=e,r=n==="true",i=a==="true",o="Items";return i?m(Yf,{sql:t,name:o}):m(Gf,{sql:t,hideSqlEditorControl:!r,name:o,defaultShowFacetVisualization:!1,tableConfiguration:{}})}try{Kf.displayName="MarkdownSynapseTable",Kf.__docgenInfo={description:"",displayName:"MarkdownSynapseTable",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},showquery:{defaultValue:null,description:"",name:"showquery",required:!0,type:{name:"string"}},tableonly:{defaultValue:null,description:"",name:"tableonly",required:!0,type:{name:"string"}}}}}catch{}const x8={1:"toc-indent1",2:"toc-indent2",3:"toc-indent3",4:"toc-indent4",5:"toc-indent5",6:"toc-indent6"};function Xf(e){const{originalMarkup:t}=e,n=[],a=/<h([1-6]) id="(.*)" .*toc="true">(.*)<\/h[1-6]>/gm;let r="";return t.replace(a,(i,o,s,l)=>(r+=l,n.push(m("div",{children:m("a",{role:"link",className:`link ${x8[Number(o)]}`,"data-anchor":s,children:l})},l)),"")),m("div",{children:n},r)}try{Xf.displayName="MarkdownTableOfContents",Xf.__docgenInfo={description:"",displayName:"MarkdownTableOfContents",props:{originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}function Zf(e){const{alias:t}=e,{data:n}=Ox([t]);return n?m(Lx,{principalId:n[0].ownerId}):m(Q,{})}try{Zf.displayName="MarkdownUserOrTeamBadge",Zf.__docgenInfo={description:"",displayName:"MarkdownUserOrTeamBadge",props:{alias:{defaultValue:null,description:"",name:"alias",required:!0,type:{name:"string"}}}}}catch{}function Jf(e){return m(Vx,{params:e})}try{Jf.displayName="MarkdownVideo",Jf.__docgenInfo={description:"",displayName:"MarkdownVideo",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},videoId:{defaultValue:null,description:"",name:"videoId",required:!1,type:{name:"string"}},vimeoId:{defaultValue:null,description:"",name:"vimeoId",required:!1,type:{name:"string"}},oggSynapseId:{defaultValue:null,description:"",name:"oggSynapseId",required:!1,type:{name:"string"}},mp4SynapseId:{defaultValue:null,description:"",name:"mp4SynapseId",required:!1,type:{name:"string"}},webmSynapseId:{defaultValue:null,description:"",name:"webmSynapseId",required:!1,type:{name:"string"}}}}}catch{}function ep(e){const{widgetType:t,widgetParamsMapped:n,originalMarkup:a}=e;switch(t){case"buttonlink":return m(Fc,{...n});case"image":return m(yd,{...n});case"plot":return m(bd,{...n});case"toc":return m(Xf,{originalMarkup:a});case"badge":return m(Zf,{...n});case"iduReport":return m(zc,{...n});case"video":case"vimeo":case"youtube":return m(Jf,{...n});case"synapsetable":return m(Kf,{...n});case"provenance":return m(vd,{...n});case"preview":return m(Mc,{...n});default:return console.warn(`Unsupported widget: ${t}.`),m(Q,{})}}function Jy(e){return m(rb,{children:m(ep,{...e})})}try{ep.displayName="MarkdownWidget",ep.__docgenInfo={description:"",displayName:"MarkdownWidget",props:{widgetType:{defaultValue:null,description:"",name:"widgetType",required:!0,type:{name:"enum",value:[{value:'"video"'},{value:'"image"'},{value:'"buttonlink"'},{value:'"plot"'},{value:'"toc"'},{value:'"badge"'},{value:'"iduReport"'},{value:'"vimeo"'},{value:'"youtube"'},{value:'"synapsetable"'},{value:'"provenance"'},{value:'"preview"'}]}},widgetParamsMapped:{defaultValue:null,description:"",name:"widgetParamsMapped",required:!0,type:{name:"any"}},originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}class tp extends B.Component{constructor(t){super(t),this.renderBookmarks=this.renderBookmarks.bind(this)}renderBookmarks(){const t=String(this.props.footnotes),n=/Synapse widget&gt;<\/span>(.*)</g;let a;const r=[];for(;a=n.exec(t);)r.push(a[1]);return r.map((i,o)=>{const s=o<r.length-1;return L(B.Fragment,{children:[L("button",{className:"SRC-markdown-bookmark",id:`bookmark${o}`,children:["[",o+1,"]"]}),m("span",{dangerouslySetInnerHTML:{__html:i}}),s&&m("br",{})]},o)})}render(){return L(B.Fragment,{children:[m("hr",{}),this.renderBookmarks()]})}}try{tp.displayName="Bookmarks",tp.__docgenInfo={description:"",displayName:"Bookmarks",props:{footnotes:{defaultValue:null,description:"",name:"footnotes",required:!0,type:{name:"string"}}}}}catch{}const Ic=markdownit({html:!0});class wt extends B.Component{constructor(n){super(n);Le(this,"markupRef");markdownitSynapse.init_markdown_it(Ic,markdownitSub,markdownitSup,markdownitCentertext,markdownitSynapseHeading,markdownitSynapseTable,markdownitStrikethroughAlt,markdownitContainer,markdownitEmphasisAlt,markdownitInlineComments,markdownitBr);const a="";Ic.use(markdownitSynapse,a,"https://synapse.org").use(markdownitMath,a);const r={};this.props.markdown&&(r.markdown=this.props.markdown),this.state={md:Ic,error:void 0,fileHandles:void 0,data:r,isLoading:!0},this.markupRef=B.createRef(),this.handleLinkClicks=this.handleLinkClicks.bind(this),this.renderMarkdown=this.renderMarkdown.bind(this),this.recursiveRender=this.recursiveRender.bind(this),this.processMath=this.processMath.bind(this),this.getWikiAttachments=this.getWikiAttachments.bind(this),this.getWikiPageMarkdown=this.getWikiPageMarkdown.bind(this),this.createHTML=this.createHTML.bind(this),this.addBookmarks=this.addBookmarks.bind(this),this.addIdsToReferenceWidgets=this.addIdsToReferenceWidgets.bind(this),this.addIdsToTocWidgets=this.addIdsToTocWidgets.bind(this)}componentWillUnmount(){this.markupRef.current&&this.markupRef.current.removeEventListener("click",this.handleLinkClicks)}handleLinkClicks(n){const a=n.target;if(a.tagName==="A"||a.tagName==="BUTTON"){const r=n.target;if(r.id.substring(0,3)==="ref"){n.preventDefault();const i=Number(n.currentTarget.id.substring(3)),o=this.markupRef.current.querySelector(`#bookmark${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}else if(n.currentTarget.id!==null&&r.getAttribute("data-anchor")){n.preventDefault();const i=r.getAttribute("data-anchor"),o=this.markupRef.current.querySelector(`#${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}}}createHTML(n){if(!n)return{__html:""};const a=this.props.renderInline?this.state.md.renderInline(n):this.state.md.render(n);return{__html:dw(a,fw)}}processMath(){if(!this.markupRef.current)return;const n=this.markupRef.current.querySelectorAll('[id^="mathjax-"]'),a=new RegExp(/\\[()[\]]/,"g");n.forEach(r=>{if(r.textContent&&!r.getAttribute("processed")){r.setAttribute("processed","true");const i=r.textContent.replace(a,"");return katex.render(i,r,{output:"html",throwOnError:!1})}})}addBookmarks(){markdownitSynapse.resetFootnotes(),this.createHTML(this.state.data.markdown);const n=this.createHTML(markdownitSynapse.footnotes()).__html;if(n.length>0)return m(tp,{footnotes:n})}async getWikiPageMarkdown(){const{ownerId:n,wikiId:a,objectType:r}=this.props;if(!(!n&&!a))try{const i=await We.getEntityWiki(this.context.accessToken,n,a,r);try{const o=await this.getWikiAttachments(a||i.id);this.setState({data:i,fileHandles:o,error:void 0})}catch(o){console.error("fileHandlesErr = ",o)}}catch(i){console.error(`Error on wiki markdown load
`,i),this.setState({error:i})}}async getWikiAttachments(n){const{ownerId:a,objectType:r}=this.props;if(!a){console.error("Cannot get wiki attachments without ownerId on Markdown Component");return}return await We.getWikiAttachmentsFromEntity(this.context.accessToken,a,n,r).then(i=>i).catch(i=>{console.error("Error on wiki attachment load ",i)})}addIdsToReferenceWidgets(n){const a=/<span id="wikiReference.*?<span data-widgetparams.*?span>/g;let r=1;return n.replace(a,()=>{const i=r;return r+=1,`<a href="" id="ref${i}">[${i}]</a>`})}addIdsToTocWidgets(n){const a="SRC-header-";let r=1;const i=/<h[1-6] toc="true">.*<\/h[1-6]>/gm;return n.replace(i,o=>{const s=r;return r+=1,`${o.substring(0,3)} id="${a}${s}"${o.substring(3)}`})}renderMarkdown(){let n=this.createHTML(this.state.data.markdown).__html;if(n=this.addIdsToReferenceWidgets(n),n=this.addIdsToTocWidgets(n),n.length>0){const r=new DOMParser().parseFromString(n,"text/html");return m(Q,{children:this.recursiveRender(r.body,n)})}}recursiveRender(n,a){if(n.nodeType===Node.TEXT_NODE)return m(Q,{children:n.textContent});if(n.nodeType===Node.ELEMENT_NODE&&n instanceof HTMLElement){const r=n.tagName.toLowerCase()==="body"?"span":n.tagName.toLowerCase(),i=n.getAttribute("data-widgetparams");if(i)return this.processHTMLWidgetMapping(i,a);const o=n.attributes,s={};for(let c=0;c<o.length;c++){let u="",d="";const f=o.item(c);f&&(u=f.name,d=f.value),u&&d&&(s[u]=d)}if(n.childNodes.length===0)return m(r,{...s});const l=Array.from(n.childNodes).map((c,u)=>m(B.Fragment,{children:this.recursiveRender(c,a)},u));switch(r){case"p":return m(Pe,{variant:"body1",...s,component:r,children:l});case"span":return m(Pe,{variant:"body1",...s,component:r,children:l});case"h1":return m(Pe,{variant:"headline1",...s,component:r,children:l});case"h2":return m(Pe,{variant:"headline2",...s,component:r,children:l});case"h3":return m(Pe,{variant:"headline3",...s,component:r,children:l});case"ol":return m(Pe,{variant:"body1",...s,component:r,children:l});case"ul":return m(Pe,{variant:"body1",...s,component:r,children:l});case"a":return m(zt,{...s,component:r,children:l});default:return m(r,{...s,children:l})}}}decodeXml(n){const a={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'};return n.replace(/(&quot;|&lt;|&gt;|&amp;)/g,(r,i)=>a[i])}processHTMLWidgetMapping(n,a){const r=this.decodeXml(n),i=r.indexOf("?");if(i===-1)return m(Jy,{widgetType:r,widgetParamsMapped:{},originalMarkup:a},JSON.stringify(r));const o=r.substring(0,i),s={};return r.substring(i+1).split("&").forEach(l=>{let[c,u]=l.split("=");u=decodeURIComponent(u),s[c]=u}),m(Jy,{widgetType:o,widgetParamsMapped:s,originalMarkup:a},JSON.stringify(r))}async componentDidMount(){if(this.state.data.markdown){this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current);return}this.markupRef.current&&this.markupRef.current.addEventListener("click",this.handleLinkClicks),await this.getWikiPageMarkdown(),this.processMath(),this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current)}async componentDidUpdate(n){let a=this.props.ownerId!==n.ownerId;a=a||this.props.wikiId!==n.wikiId,a&&await this.getWikiPageMarkdown(),this.processMath()}render(){const{renderInline:n,loadingSkeletonRowCount:a}=this.props,{isLoading:r,error:i}=this.state,o={ownerId:this.props.ownerId,wikiId:this.props.wikiId,wikiPage:this.state.data,fileHandles:this.state.fileHandles};if(i)return m(sp,{error:i});const s=this.addBookmarks(),l=L(gd,{wikiContext:o,children:[r&&m(Q,{children:a?m(hp,{numCols:1,numRows:a}):m("span",{className:"spinner"})}),this.renderMarkdown(),s&&m("div",{children:this.addBookmarks()})]});return n?m("span",{className:"markdown markdown-inline",ref:this.markupRef,children:l}):m("div",{className:"markdown",ref:this.markupRef,children:l})}}Le(wt,"contextType",yi);try{wt.displayName="MarkdownSynapse",wt.__docgenInfo={description:"Basic Markdown functionality for Synapse, supporting Images/Plots/References/Bookmarks/buttonlinks",displayName:"MarkdownSynapse",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},markdown:{defaultValue:null,description:"",name:"markdown",required:!1,type:{name:"string"}},renderInline:{defaultValue:null,description:"",name:"renderInline",required:!1,type:{name:"boolean"}},objectType:{defaultValue:null,description:"",name:"objectType",required:!1,type:{name:"enum",value:[{value:'"ENTITY"'},{value:'"ENTITY_CONTAINER"'},{value:'"PRINCIPAL"'},{value:'"ACTIVITY"'},{value:'"EVALUATION"'},{value:'"SUBMISSION"'},{value:'"EVALUATION_SUBMISSIONS"'},{value:'"FILE"'},{value:'"MESSAGE"'},{value:'"WIKI"'},{value:'"FAVORITE"'},{value:'"ACCESS_REQUIREMENT"'},{value:'"ACCESS_APPROVAL"'},{value:'"TEAM"'},{value:'"TABLE"'},{value:'"ACCESS_CONTROL_LIST"'},{value:'"PROJECT_SETTING"'},{value:'"VERIFICATION_SUBMISSION"'},{value:'"CERTIFIED_USER_PASSING_RECORD"'},{value:'"FORUM"'},{value:'"THREAD"'},{value:'"REPLY"'},{value:'"FORM_GROUP"'},{value:'"FORM_DATA"'},{value:'"ENTITY_VIEW"'},{value:'"USER_PROFILE"'},{value:'"DATA_ACCESS_REQUEST"'},{value:'"DATA_ACCESS_SUBMISSION"'},{value:'"DATA_ACCESS_SUBMISSION_STATUS"'},{value:'"MEMBERSHIP_INVITATION"'}]}},loadingSkeletonRowCount:{defaultValue:null,description:"",name:"loadingSkeletonRowCount",required:!1,type:{name:"number"}},onMarkdownProcessingDone:{defaultValue:null,description:"",name:"onMarkdownProcessingDone",required:!1,type:{name:"((ref: HTMLInputElement | null) => void)"}}}}}catch{}const rp=or(({className:e,...t})=>m(yt,{...t,classes:{popper:e}}))(({theme:e})=>({[`& .${kc.tooltip}`]:{backgroundColor:e.palette.common.white,color:e.palette.grey[1e3],boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},[`& .${kc.arrow}`]:{"&:before":{boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},color:e.palette.common.white}}));try{rp.displayName="LightTooltip",rp.__docgenInfo={description:"",displayName:"LightTooltip",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<unknown>"}}}}}catch{}const N8={display:"flex",justifyContent:"space-between",flexDirection:"row-reverse","> button":{flexGrow:1,maxWidth:"45%"}},np=({children:e,contentProps:t,placement:n="bottom-start",showCloseButton:a=!0,actionButton:r,sx:i,maxWidth:o="500px",minWidth:s="300px"})=>{const[l,c]=k.useState(!1),u=L(nt,{sx:{padding:"20px"},children:[m(Pe,{variant:"body1",marginBottom:2,children:m(wt,{...t})}),L(nt,{sx:N8,children:[r&&m(Tt,{color:r.color||"primary",variant:r.variant||"contained",onClick:()=>{r.onClick(),r.closePopoverOnClick&&c(!1)},children:r.content}),a&&m(Tt,{variant:"outlined",onClick:()=>c(!1),children:"Close"})]})]});return m(rp,{title:u,placement:n,onClick:()=>c(!l),open:l,sx:{...i,[`& .${kc.tooltip}`]:{maxWidth:{maxWidth:o},minWidth:{minWidth:s}}},children:m(nt,{role:"button",className:"PopoverContainer",sx:{display:"inline-block",cursor:"pointer"},children:e})})};try{np.displayName="MarkdownPopover",np.__docgenInfo={description:"",displayName:"MarkdownPopover",props:{contentProps:{defaultValue:null,description:"",name:"contentProps",required:!0,type:{name:"MarkdownSynapseProps"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},placement:{defaultValue:{value:"bottom-start"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},actionButton:{defaultValue:null,description:"",name:"actionButton",required:!1,type:{name:'{ content: ReactElement<any, string | JSXElementConstructor<any>>; color?: OverridableStringUnion<"info" | "warning" | "error" | "success" | "inherit" | "primary" | "secondary", ButtonPropsColorOverrides>; variant?: OverridableStringUnion<...>; onClick: () => void; closePopoverOnClick?: boole...'}},maxWidth:{defaultValue:{value:"500px"},description:"",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:{value:"300px"},description:"",name:"minWidth",required:!1,type:{name:"string"}}}}}catch{}const xn=({markdownText:e,helpUrl:t,placement:n="bottom",showCloseButton:a=!0,className:r=""})=>m(Q,{children:m(np,{contentProps:{markdown:e},placement:n,actionButton:t?{content:m(Q,{children:"More info"}),closePopoverOnClick:!0,onClick:()=>window.open(t,"_blank"),color:"primary"}:void 0,showCloseButton:a,maxWidth:"350px",children:m(o1,{className:`HelpButton ${r}`})})});try{xn.displayName="HelpPopover",xn.__docgenInfo={description:"",displayName:"HelpPopover",props:{markdownText:{defaultValue:null,description:"",name:"markdownText",required:!0,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const I8="close",ap=({sx:e={color:"grey.700"},onClick:t})=>m($s,{sx:e,onClick:t,"aria-label":I8,children:m(Kb,{})}),vi=({open:e,title:t,content:n,actions:a,className:r,onCancel:i,hasCloseButton:o=!0,titleHelpPopoverProps:s,maxWidth:l="sm",fullWidth:c=!0,sx:u})=>L(jb,{fullWidth:c,maxWidth:l,open:e,className:r,onClose:()=>i(),sx:u,children:[m(Wa,{children:L(_i,{direction:"row",alignItems:"center",gap:"5px",children:[t,s&&m(xn,{...s}),m(nt,{sx:{flexGrow:1}}),o&&m(ap,{onClick:()=>i()})]})}),m(ja,{children:n}),a&&m(Tp,{children:a})]});try{ap.displayName="CloseButton",ap.__docgenInfo={description:"",displayName:"CloseButton",props:{sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}try{vi.displayName="DialogBase",vi.__docgenInfo={description:"A dialog built using MUI components.",displayName:"DialogBase",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:{value:"true"},description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},titleHelpPopoverProps:{defaultValue:null,description:"",name:"titleHelpPopoverProps",required:!1,type:{name:"HelpPopoverProps"}},maxWidth:{defaultValue:{value:"sm"},description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:{value:"true"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}}}}}catch{}const T8="Cancel",ip=e=>{const{confirmButtonText:t="OK",confirmButtonClassName:n,confirmButtonColor:a="primary",confirmButtonVariant:r="contained",confirmButtonDisabled:i=!1,onConfirm:o,onCancel:s,hasCancelButton:l=!0}=e;return L(Q,{children:[l&&m(Tt,{variant:"outlined",onClick:()=>s(),children:T8}),m(Tt,{variant:r,className:n,color:a,onClick:()=>o(),disabled:i,children:t})]})},gi=e=>{const{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:a,confirmButtonVariant:r,onConfirm:i,onCancel:o,hasCancelButton:s,...l}=e;return m(vi,{onCancel:o,actions:m(ip,{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:a,confirmButtonVariant:r,onConfirm:i,onCancel:o,hasCancelButton:s}),...l})};try{ip.displayName="ConfirmationButtons",ip.__docgenInfo={description:"",displayName:"ConfirmationButtons",props:{onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"warning"'},{value:'"error"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}try{gi.displayName="ConfirmationDialog",gi.__docgenInfo={description:"A confirmation dialog built using MUI components.",displayName:"ConfirmationDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:null,description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},titleHelpPopoverProps:{defaultValue:null,description:"",name:"titleHelpPopoverProps",required:!1,type:{name:"HelpPopoverProps"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"warning"'},{value:'"error"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}export{ci as A,uf as B,gi as C,vi as D,of as E,Ef as F,yf as G,xn as H,Hf as I,gf as J,af as K,ia as L,np as M,Tf as N,Vy as O,df as P,ss as Q,OH as R,tf as S,md as T,Gf as U,cV as V,If as W,Yf as X,ZE as Y,yW as _,di as a,Ly as b,wt as c,mW as d,xU as e,K6 as f,gW as g,vW as h,h4 as i,Oy as j,ip as k,_s as l,sf as m,NU as n,cf as o,Tq as p,xq as q,fV as r,Vf as s,ct as t,pw as u,lt as v,_c as w,_H as x,CH as y,ii as z};
//# sourceMappingURL=ConfirmationDialog-6d1dacec.js.map
