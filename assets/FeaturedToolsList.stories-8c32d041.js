import{a as $,j as e}from"./jsx-runtime-095bf462.js";import{w,n as P}from"./SynapseConstants-fca8ab5f.js";import{r as f}from"./index-8db94870.js";import"./getEndpoint-ac94413e.js";import{u as b,E as Y}from"./SynapseClient-f341520e.js";import{g as l}from"./queryUtils-bc736e49.js";import{a as B}from"./useGetQueryResultBundle-d1ccbb43.js";import{d as k}from"./dayjs.min-8d4ef725.js";import{f as O}from"./DateFormatter-27dd40cf.js";import"./OrientationBanner-ec8fcbed.js";import"./FullWidthAlert-ac112c77.js";import"./AlertTitle-1c4986af.js";import"./styled-0d0c058b.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-8498a53a.js";import"./createSvgIcon-c04c1e3c.js";import"./Paper-c5bb6f3a.js";import"./IconButton-055a3ecb.js";import"./ButtonBase-89336bd6.js";import"./emotion-react.browser.esm-a1e35fdb.js";import"./assertThisInitialized-081f9914.js";import"./inheritsLoose-c82a83d4.js";import"./TransitionGroupContext-f2b81dde.js";import"./useForkRef-f2aa3d66.js";import"./useIsFocusVisible-bbf13f29.js";import"./Typography-bbc222e1.js";import"./extendSxProp-32377841.js";import"./Stack-fc7a4170.js";import"./Box-ef0af35d.js";import"./useTheme-48a0a3fd.js";import"./Grow-abebdd1c.js";import"./isHostComponent-fa76b8d9.js";import"./index-8ce4a492.js";import"./_commonjsHelpers-042e6b4d.js";import"./utils-a7612588.js";import"./ClickAwayListener-36b79525.js";import"./Tooltip-ada0ed7d.js";import"./Button-6910d769.js";import"./Link-c55ec6e2.js";import"./isArray-5e3f9107.js";import"./index-58d3fd43.js";import"./CheckCircleTwoTone-a72e35ba.js";import"./inputBaseClasses-2d1e355f.js";import"./Fade-8ab202b4.js";import"./IsType-6afea24e.js";import"./cloneDeep-6f1c6c29.js";import"./_baseClone-f57d488e.js";import"./_Uint8Array-b6f30a55.js";import"./_MapCache-1b8ab7d0.js";import"./_baseTimes-8cccc40f.js";import"./_isIndex-af14b756.js";import"./useInfiniteQuery-742a0dc6.js";import"./merge-ec662195.js";import"./_baseFor-d254fa1e.js";import"./isArrayLikeObject-0038fa24.js";import"./_baseRest-64ea8530.js";import"./_isIterateeCall-f0476731.js";const g=({id:t,name:c,description:i,type:n,toolDetailPageURL:s,date:d,...o})=>$("div",{...o,className:`cardContainer FeaturedToolCard bootstrap-4-backport ${o.className??""}`,children:[e("div",{className:"FeaturedToolCard__Type",children:e("span",{className:"SRC-tag",children:n})}),e("div",{className:"FeaturedToolCard__Date",children:O(k(parseInt(d)),"MMMM YYYY")}),e("div",{className:"FeaturedToolCard__Name",children:c}),e("div",{className:"FeaturedToolCard__Description",children:i}),e("div",{children:e("a",{className:"FeaturedToolCard__Link",href:`${s}${t}`,children:"View Tool"})})]});try{g.displayName="FeaturedToolCard",g.__docgenInfo={description:"",displayName:"FeaturedToolCard",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},toolDetailPageURL:{defaultValue:null,description:"",name:"toolDetailPageURL",required:!0,type:{name:"string"}},date:{defaultValue:null,description:"",name:"date",required:!0,type:{name:"string"}}}}}catch{}const _=({entityId:t,toolDetailPageURL:c,idColumnName:i="id",nameColumnName:n="name",descriptionColumnName:s="description",typeColumnName:d="type",dateColumnName:o="date"})=>{const E=`SELECT "${i}", "${n}", "${s}", "${d}", "${o}" FROM ${t} ORDER BY ROW_ID DESC LIMIT 3`,L={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,partMask:w|P,query:{sql:E}},{accessToken:v}=b(),[h,F]=f.useState([]),[C,I]=f.useState(),{data:r,error:y}=B(L);return f.useEffect(()=>{(()=>{try{const p=l(i,r),V=l(n,r),x=l(d,r),S=l(s,r),U=l(o,r),N=(r==null?void 0:r.queryResult.queryResults.rows.map(T=>{T.values.some(M=>M===null)&&console.warn("Row has null value(s)");const m=T.values;return{name:m[V],description:m[S],type:m[x],id:m[p],date:m[U]}}))??[];if(y)throw y;if(N.length===0)return;F(N)}catch(p){console.error(p),I(p)}})()},[t,v,r,y,i,n,d,s,o]),C?e(Y,{error:C}):e("div",{className:"FeaturedToolList",children:h.map(a=>e(g,{name:a.name,type:a.type,description:a.description,id:a.id,date:a.date,toolDetailPageURL:c},a.id))})};try{_.displayName="FeaturedToolsList",_.__docgenInfo={description:`Display a set of FeaturedToolCards (driven by a Table/View). Driven by the following annotations/column names:
'id', 'name', 'type', and 'description'.`,displayName:"FeaturedToolsList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},toolDetailPageURL:{defaultValue:null,description:"",name:"toolDetailPageURL",required:!0,type:{name:"string"}},idColumnName:{defaultValue:{value:"id"},description:"",name:"idColumnName",required:!1,type:{name:"string"}},nameColumnName:{defaultValue:{value:"name"},description:"",name:"nameColumnName",required:!1,type:{name:"string"}},descriptionColumnName:{defaultValue:{value:"description"},description:"",name:"descriptionColumnName",required:!1,type:{name:"string"}},typeColumnName:{defaultValue:{value:"type"},description:"",name:"typeColumnName",required:!1,type:{name:"string"}},dateColumnName:{defaultValue:{value:"date"},description:"",name:"dateColumnName",required:!1,type:{name:"string"}}}}}catch{}const Qe={title:"Home Page/FeaturedToolsList",component:_},u={args:{entityId:"syn26450069",idColumnName:"resourceId",nameColumnName:"resourceName",descriptionColumnName:"description",typeColumnName:"resourceType",dateColumnName:"dateAdded",toolDetailPageURL:"/Explore/Tools/DetailsPage?Resource_id="}};var D,R,q;u.parameters={...u.parameters,docs:{...(D=u.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    entityId: 'syn26450069',
    idColumnName: 'resourceId',
    nameColumnName: 'resourceName',
    descriptionColumnName: 'description',
    typeColumnName: 'resourceType',
    dateColumnName: 'dateAdded',
    toolDetailPageURL: '/Explore/Tools/DetailsPage?Resource_id='
  }
}`,...(q=(R=u.parameters)==null?void 0:R.docs)==null?void 0:q.source}}};const Ke=["Demo"];export{u as Demo,Ke as __namedExportsOrder,Qe as default};
//# sourceMappingURL=FeaturedToolsList.stories-8c32d041.js.map
