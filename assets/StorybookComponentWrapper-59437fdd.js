import{a as i,j as l}from"./jsx-runtime-095bf462.js";import{r as s,R as y}from"./index-8db94870.js";import{Q as P,i as f,j as C,S as c,k as h,F as g,l as k,m as w,n as x,o as S,p as b,q as v,r as E,t as T,v as Q,w as R,x as _,y as O,z as D,B as A,C as M,D as I,G as j,H as F,J as N}from"./SynapseClient-f341520e.js";import{S as q}from"./ToastMessage-c60353c5.js";import{d as B}from"./dayjs.min-8d4ef725.js";import{S as H}from"./getEndpoint-ac94413e.js";import{c as U}from"./styled-0d0c058b.js";var d={exports:{}};d.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var W=d.exports;async function K(){let e=await w(),t;try{t=await x(e)}catch(o){throw o instanceof S&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await b(),e=void 0),o}let a;return e&&v(e).then(o=>{a=B(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:a}}const r=new P(f);function G(e){const t=H[e];window.SRC={OVERRIDE_ENDPOINT_CONFIG:t},r.resetQueries()}const L={default:E,sageBionetworks:T,mtb:Q,arkPortal:R,adKnowledgePortal:_,nfPortal:O,bsmnPortal:D,psychEncodePortal:A,stopAdPortal:M,digitalHealthPortal:I,crcResearcherPortal:j,cancerComplexityPortal:F,elPortal:N};function p(e){const{storybookContext:t}=e;s.useEffect(()=>{G(t.globals.stack||t.parameters.stack)},[t.globals.stack]);const[a,o]=y.useState(void 0);C(),s.useEffect(()=>{K().then(n=>{o(n.accessToken)})}),s.useEffect(()=>{async function n(){await r.cancelQueries(),r.removeQueries(),await r.invalidateQueries()}n()},[a]);const u=s.useMemo(()=>({accessToken:a,isInExperimentalMode:c.isInSynapseExperimentalMode(),utcTime:c.getUseUtcTimeFromCookie(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[a]),m=U(h,{palette:L[t.globals.palette]});return i(g,{queryClient:r,synapseContext:u,theme:m,children:[t.globals.showReactQueryDevtools&&l(W.ReactQueryDevtools,{}),i(k,{children:[l(q,{}),l("main",{children:e.children})]})]},a)}try{p.displayName="StorybookComponentWrapper",p.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{storybookContext:{defaultValue:null,description:"",name:"storybookContext",required:!0,type:{name:"any"}}}}}catch{}export{p as S,K as s};
//# sourceMappingURL=StorybookComponentWrapper-59437fdd.js.map
